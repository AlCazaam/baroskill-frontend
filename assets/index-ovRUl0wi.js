(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Yb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Tm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function Rw(){if(Kv)return Ql;Kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var Yv;function Cw(){return Yv||(Yv=1,Tm.exports=Rw()),Tm.exports}var v=Cw(),xm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function Iw(){if($v)return ke;$v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function M(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,B={};function Z(k,X,le){this.props=k,this.context=X,this.refs=B,this.updater=le||F}Z.prototype.isReactComponent={},Z.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},Z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function se(){}se.prototype=Z.prototype;function J(k,X,le){this.props=k,this.context=X,this.refs=B,this.updater=le||F}var de=J.prototype=new se;de.constructor=J,Q(de,Z.prototype),de.isPureReactComponent=!0;var Te=Array.isArray;function we(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(k,X,le){var ce=le.ref;return{$$typeof:i,type:k,key:X,ref:ce!==void 0?ce:null,props:le}}function O(k,X){return I(k.type,X,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function L(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return X[le]})}var C=/\/+/g;function oe(k,X){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):X.toString(36)}function pe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(we,we):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function U(k,X,le,ce,_e){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var Ie=!1;if(k===null)Ie=!0;else switch(Ee){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(k.$$typeof){case i:case e:Ie=!0;break;case E:return Ie=k._init,U(Ie(k._payload),X,le,ce,_e)}}if(Ie)return _e=_e(k),Ie=ce===""?"."+oe(k,0):ce,Te(_e)?(le="",Ie!=null&&(le=Ie.replace(C,"$&/")+"/"),U(_e,X,le,"",function(mn){return mn})):_e!=null&&(D(_e)&&(_e=O(_e,le+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+Ie)),X.push(_e)),1;Ie=0;var st=ce===""?".":ce+":";if(Te(k))for(var Ge=0;Ge<k.length;Ge++)ce=k[Ge],Ee=st+oe(ce,Ge),Ie+=U(ce,X,le,Ee,_e);else if(Ge=M(k),typeof Ge=="function")for(k=Ge.call(k),Ge=0;!(ce=k.next()).done;)ce=ce.value,Ee=st+oe(ce,Ge++),Ie+=U(ce,X,le,Ee,_e);else if(Ee==="object"){if(typeof k.then=="function")return U(pe(k),X,le,ce,_e);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Y(k,X,le){if(k==null)return k;var ce=[],_e=0;return U(k,ce,"","",function(Ee){return X.call(le,Ee,_e++)}),ce}function te(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var ae=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ye={map:Y,forEach:function(k,X,le){Y(k,function(){X.apply(this,arguments)},le)},count:function(k){var X=0;return Y(k,function(){X++}),X},toArray:function(k){return Y(k,function(X){return X})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return ke.Activity=T,ke.Children=ye,ke.Component=Z,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=J,ke.StrictMode=s,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},ke.cache=function(k){return function(){return k.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(k,X,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=Q({},k.props),_e=k.key;if(X!=null)for(Ee in X.key!==void 0&&(_e=""+X.key),X)!S.call(X,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&X.ref===void 0||(ce[Ee]=X[Ee]);var Ee=arguments.length-2;if(Ee===1)ce.children=le;else if(1<Ee){for(var Ie=Array(Ee),st=0;st<Ee;st++)Ie[st]=arguments[st+2];ce.children=Ie}return I(k.type,_e,ce)},ke.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},ke.createElement=function(k,X,le){var ce,_e={},Ee=null;if(X!=null)for(ce in X.key!==void 0&&(Ee=""+X.key),X)S.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=X[ce]);var Ie=arguments.length-2;if(Ie===1)_e.children=le;else if(1<Ie){for(var st=Array(Ie),Ge=0;Ge<Ie;Ge++)st[Ge]=arguments[Ge+2];_e.children=st}if(k&&k.defaultProps)for(ce in Ie=k.defaultProps,Ie)_e[ce]===void 0&&(_e[ce]=Ie[ce]);return I(k,Ee,_e)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(k){return{$$typeof:m,render:k}},ke.isValidElement=D,ke.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:te}},ke.memo=function(k,X){return{$$typeof:g,type:k,compare:X===void 0?null:X}},ke.startTransition=function(k){var X=R.T,le={};R.T=le;try{var ce=k(),_e=R.S;_e!==null&&_e(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(we,ae)}catch(Ee){ae(Ee)}finally{X!==null&&le.types!==null&&(X.types=le.types),R.T=X}},ke.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ke.use=function(k){return R.H.use(k)},ke.useActionState=function(k,X,le){return R.H.useActionState(k,X,le)},ke.useCallback=function(k,X){return R.H.useCallback(k,X)},ke.useContext=function(k){return R.H.useContext(k)},ke.useDebugValue=function(){},ke.useDeferredValue=function(k,X){return R.H.useDeferredValue(k,X)},ke.useEffect=function(k,X){return R.H.useEffect(k,X)},ke.useEffectEvent=function(k){return R.H.useEffectEvent(k)},ke.useId=function(){return R.H.useId()},ke.useImperativeHandle=function(k,X,le){return R.H.useImperativeHandle(k,X,le)},ke.useInsertionEffect=function(k,X){return R.H.useInsertionEffect(k,X)},ke.useLayoutEffect=function(k,X){return R.H.useLayoutEffect(k,X)},ke.useMemo=function(k,X){return R.H.useMemo(k,X)},ke.useOptimistic=function(k,X){return R.H.useOptimistic(k,X)},ke.useReducer=function(k,X,le){return R.H.useReducer(k,X,le)},ke.useRef=function(k){return R.H.useRef(k)},ke.useState=function(k){return R.H.useState(k)},ke.useSyncExternalStore=function(k,X,le){return R.H.useSyncExternalStore(k,X,le)},ke.useTransition=function(){return R.H.useTransition()},ke.version="19.2.1",ke}var Xv;function Ep(){return Xv||(Xv=1,xm.exports=Iw()),xm.exports}var P=Ep();const Nw=Yb(P);var wm={exports:{}},Kl={},Am={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function kw(){return Wv||(Wv=1,(function(i){function e(U,Y){var te=U.length;U.push(Y);e:for(;0<te;){var ae=te-1>>>1,ye=U[ae];if(0<o(ye,Y))U[ae]=Y,U[te]=ye,te=ae;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var Y=U[0],te=U.pop();if(te!==Y){U[0]=te;e:for(var ae=0,ye=U.length,k=ye>>>1;ae<k;){var X=2*(ae+1)-1,le=U[X],ce=X+1,_e=U[ce];if(0>o(le,te))ce<ye&&0>o(_e,le)?(U[ae]=_e,U[ce]=te,ae=ce):(U[ae]=le,U[X]=te,ae=X);else if(ce<ye&&0>o(_e,te))U[ae]=_e,U[ce]=te,ae=ce;else break e}}return Y}function o(U,Y){var te=U.sortIndex-Y.sortIndex;return te!==0?te:U.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,M=!1,F=!1,Q=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function de(U){for(var Y=n(g);Y!==null;){if(Y.callback===null)s(g);else if(Y.startTime<=U)s(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=n(g)}}function Te(U){if(Q=!1,de(U),!F)if(n(p)!==null)F=!0,we||(we=!0,L());else{var Y=n(g);Y!==null&&pe(Te,Y.startTime-U)}}var we=!1,R=-1,S=5,I=-1;function O(){return B?!0:!(i.unstable_now()-I<S)}function D(){if(B=!1,we){var U=i.unstable_now();I=U;var Y=!0;try{e:{F=!1,Q&&(Q=!1,se(R),R=-1),M=!0;var te=A;try{t:{for(de(U),T=n(p);T!==null&&!(T.expirationTime>U&&O());){var ae=T.callback;if(typeof ae=="function"){T.callback=null,A=T.priorityLevel;var ye=ae(T.expirationTime<=U);if(U=i.unstable_now(),typeof ye=="function"){T.callback=ye,de(U),Y=!0;break t}T===n(p)&&s(p),de(U)}else s(p);T=n(p)}if(T!==null)Y=!0;else{var k=n(g);k!==null&&pe(Te,k.startTime-U),Y=!1}}break e}finally{T=null,A=te,M=!1}Y=void 0}}finally{Y?L():we=!1}}}var L;if(typeof J=="function")L=function(){J(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,oe=C.port2;C.port1.onmessage=D,L=function(){oe.postMessage(null)}}else L=function(){Z(D,0)};function pe(U,Y){R=Z(function(){U(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(U){switch(A){case 1:case 2:case 3:var Y=3;break;default:Y=A}var te=A;A=Y;try{return U()}finally{A=te}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=A;A=U;try{return Y()}finally{A=te}},i.unstable_scheduleCallback=function(U,Y,te){var ae=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ae+te:ae):te=ae,U){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=te+ye,U={id:E++,callback:Y,priorityLevel:U,startTime:te,expirationTime:ye,sortIndex:-1},te>ae?(U.sortIndex=te,e(g,U),n(p)===null&&U===n(g)&&(Q?(se(R),R=-1):Q=!0,pe(Te,te-ae))):(U.sortIndex=ye,e(p,U),F||M||(F=!0,we||(we=!0,L()))),U},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(U){var Y=A;return function(){var te=A;A=Y;try{return U.apply(this,arguments)}finally{A=te}}}})(Sm)),Sm}var Jv;function Dw(){return Jv||(Jv=1,Am.exports=kw()),Am.exports}var Rm={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function Ow(){if(Zv)return on;Zv=1;var i=Ep();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},on.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},on.requestFormReset=function(p){s.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.2.1",on}var e0;function Mw(){if(e0)return Rm.exports;e0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=Ow(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function Vw(){if(t0)return Kl;t0=1;var i=Dw(),e=Ep(),n=Mw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,x=d.child;x;){if(x===a){_=!0,a=d,l=f;break}if(x===l){_=!0,l=d,a=f;break}x=x.sibling}if(!_){for(x=f.child;x;){if(x===a){_=!0,a=f,l=d;break}if(x===l){_=!0,l=f,a=d;break}x=x.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),J=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case Te:return"Suspense";case we:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case J:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:oe(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return oe(t(r))}catch{}}return null}var pe=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ae=[],ye=-1;function k(t){return{current:t}}function X(t){0>ye||(t.current=ae[ye],ae[ye]=null,ye--)}function le(t,r){ye++,ae[ye]=t.current,t.current=r}var ce=k(null),_e=k(null),Ee=k(null),Ie=k(null);function st(t,r){switch(le(Ee,r),le(_e,t),le(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?gv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=gv(r),t=yv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ce),le(ce,t)}function Ge(){X(ce),X(_e),X(Ee)}function mn(t){t.memoizedState!==null&&le(Ie,t);var r=ce.current,a=yv(r,t.type);r!==a&&(le(_e,t),le(ce,a))}function Ln(t){_e.current===t&&(X(ce),X(_e)),Ie.current===t&&(X(Ie),ql._currentValue=te)}var vr,jn;function sn(t){if(vr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);vr=r&&r[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vr+t+jn}var br=!1;function Ae(t,r){if(!t||br)return"";br=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch($){var G=$}Reflect.construct(t,[],re)}else{try{re.call()}catch($){G=$}t.call(re.prototype)}}else{try{throw Error()}catch($){G=$}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],x=f[1];if(_&&x){var N=_.split(`
`),H=x.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===H.length)for(l=N.length-1,d=H.length-1;1<=l&&0<=d&&N[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==H[d]){var W=`
`+N[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=d);break}}}finally{br=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?sn(a):""}function dt(t,r){switch(t.tag){case 26:case 27:case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return t.child!==r&&r!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return Ae(t.type,!1);case 11:return Ae(t.type.render,!1);case 1:return Ae(t.type,!0);case 31:return sn("Activity");default:return""}}function an(t){try{var r="",a=null;do r+=dt(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ot=Object.prototype.hasOwnProperty,We=i.unstable_scheduleCallback,pn=i.unstable_cancelCallback,ks=i.unstable_shouldYield,xa=i.unstable_requestPaint,Kt=i.unstable_now,Ds=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,Qo=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,wd=i.unstable_LowPriority,Lu=i.unstable_IdlePriority,ju=i.log,Uu=i.unstable_setDisableYieldValue,tr=null,Yt=null;function Un(t){if(typeof ju=="function"&&Uu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(tr,t)}catch{}}var Tt=Math.clz32?Math.clz32:Bu,zu=Math.log,wa=Math.LN2;function Bu(t){return t>>>=0,t===0?32:31-(zu(t)/wa|0)|0}var Er=256,Os=262144,Ct=4194304;function Tr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?d=Tr(l):(_&=x,_!==0?d=Tr(_):a||(a=x&~t,a!==0&&(d=Tr(a))))):(x=l&~f,x!==0?d=Tr(x):_!==0?d=Tr(_):a||(a=l&~t,a!==0&&(d=Tr(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function nr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ad(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function wr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ms(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sd(t,r,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-Tt(a),re=1<<W;x[W]=0,N[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var $=G[W];$!==null&&($.lane&=-536870913)}a&=~re}l!==0&&Vs(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~r))}function Vs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Tt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ko(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Tt(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function Yo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hu(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:zv(t.type))}function rr(t,r){var a=Y.p;try{return Y.p=t,r()}finally{Y.p=a}}var ir=Math.random().toString(36).slice(2),It="__reactFiber$"+ir,Bt="__reactProps$"+ir,Ar="__reactContainer$"+ir,Aa="__reactEvents$"+ir,Rd="__reactListeners$"+ir,Fu="__reactHandles$"+ir,Gu="__reactResources$"+ir,Sr="__reactMarker$"+ir;function Sa(t){delete t[It],delete t[Bt],delete t[Aa],delete t[Rd],delete t[Fu]}function Rr(t){var r=t[It];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ar]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=wv(t);t!==null;){if(a=t[It])return a;t=wv(t)}return r}t=a,a=t.parentNode}return null}function zn(t){if(t=t[It]||t[Ar]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function An(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Cr(t){var r=t[Gu];return r||(r=t[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(t){t[Sr]=!0}var $o=new Set,Xo={};function Ir(t,r){Nr(t,r),Nr(t+"Capture",r)}function Nr(t,r){for(Xo[t]=r,t=0;t<r.length;t++)$o.add(r[t])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Zo={};function Qu(t){return ot.call(Zo,t)?!0:ot.call(Jo,t)?!1:Wo.test(t)?Zo[t]=!0:(Jo[t]=!0,!1)}function Ra(t,r,a){if(Qu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Sn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function kt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function el(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Je(t){if(!t._valueTracker){var r=Ii(t)?"checked":"value";t._valueTracker=el(t,r,""+t[r])}}function Ls(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var js=/[\n"\\]/g;function gn(t){return t.replace(js,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ca(t,r,a,l,d,f,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+qt(r)):t.value!==""+qt(r)&&(t.value=""+qt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?tl(t,_,qt(r)):a!=null?tl(t,_,qt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+qt(x):t.removeAttribute("name")}function Ku(t,r,a,l,d,f,_,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Je(t);return}a=a!=null?""+qt(a):"",r=r!=null?""+qt(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Je(t)}function tl(t,r,a){r==="number"&&kr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ni(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Yu(t,r,a){if(r!=null&&(r=""+qt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+qt(a):""}function ki(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=qt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function yn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var $u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||$u.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function rl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&nl(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&nl(t,f,r[f])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Di.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sr(){}var il=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Dr=null;function Us(t){var r=zn(t);if(r&&(t=r.stateNode)){var a=t[Bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[Bt]||null;if(!d)throw Error(s(90));Ca(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ls(l)}break e;case"textarea":Yu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ni(t,!!a.multiple,r,!1)}}}var ka=!1;function Mi(t,r,a){if(ka)return t(r,a);ka=!0;try{var l=t(r);return l}finally{if(ka=!1,(Oi!==null||Dr!==null)&&(Hc(),Oi&&(r=Oi,t=Dr,Dr=Oi=null,Us(r),t)))for(r=0;r<t.length;r++)Us(t[r])}}function ar(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(qn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){zs=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{zs=!1}var Or=null,sl=null,Bs=null;function al(){if(Bs)return Bs;var t,r=sl,a=r.length,l,d="value"in Or?Or.value:Or.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===d[f-l];l++);return Bs=d.slice(t,1<l?1-l:void 0)}function qs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Wr(){return!0}function or(){return!1}function $t(t){function r(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wr:or,this.isPropagationStopped=or,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),r}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=$t(Jr),Vi=T({},Jr,{view:0,detail:0}),ol=$t(Vi),Pi,Da,Vr,Oa=T({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(Pi=t.screenX-Vr.screenX,Da=t.screenY-Vr.screenY):Da=Pi=0,Vr=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),ll=$t(Oa),Hs=T({},Oa,{dataTransfer:0}),Wu=$t(Hs),Ju=T({},Vi,{relatedTarget:0}),Fs=$t(Ju),ul=T({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=$t(ul),Ma=T({},Jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ec=$t(Ma),tc=T({},Jr,{data:0}),Pr=$t(tc),nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ic[t])?!!r[t]:!1}function Li(){return sc}var dn=T({},Vi,{key:function(t){if(t.key){var r=nc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ac=$t(dn),oc=T({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=$t(oc),c=T({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),y=$t(c),b=T({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=$t(b),z=T({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=$t(z),ue=T({},Jr,{newState:0,oldState:0}),Oe=$t(ue),xt=[9,13,27,32],Ye=qn&&"CompositionEvent"in window,ft=null;qn&&"documentMode"in document&&(ft=document.documentMode);var Hn=qn&&"TextEvent"in window&&!ft,Lr=qn&&(!Ye||ft&&8<ft&&11>=ft),lr=" ",ur=!1;function Gs(t,r){switch(t){case"keyup":return xt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function W1(t,r){switch(t){case"compositionend":return Va(r);case"keypress":return r.which!==32?null:(ur=!0,lr);case"textInput":return t=r.data,t===lr&&ur?null:t;default:return null}}function J1(t,r){if(Pa)return t==="compositionend"||!Ye&&Gs(t,r)?(t=al(),Bs=sl=Or=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Lr&&r.locale!=="ko"?null:r.data;default:return null}}var Z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Z1[t.type]:r==="textarea"}function Cg(t,r,a,l){Oi?Dr?Dr.push(l):Dr=[l]:Oi=l,r=Xc(r,"onChange"),0<r.length&&(a=new Mr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var cl=null,hl=null;function ex(t){cv(t,0)}function lc(t){var r=An(t);if(Ls(r))return t}function Ig(t,r){if(t==="change")return r}var Ng=!1;if(qn){var Cd;if(qn){var Id="oninput"in document;if(!Id){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Id=typeof kg.oninput=="function"}Cd=Id}else Cd=!1;Ng=Cd&&(!document.documentMode||9<document.documentMode)}function Dg(){cl&&(cl.detachEvent("onpropertychange",Og),hl=cl=null)}function Og(t){if(t.propertyName==="value"&&lc(hl)){var r=[];Cg(r,hl,t,Bn(t)),Mi(ex,r)}}function tx(t,r,a){t==="focusin"?(Dg(),cl=r,hl=a,cl.attachEvent("onpropertychange",Og)):t==="focusout"&&Dg()}function nx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lc(hl)}function rx(t,r){if(t==="click")return lc(r)}function ix(t,r){if(t==="input"||t==="change")return lc(r)}function sx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Rn=typeof Object.is=="function"?Object.is:sx;function dl(t,r){if(Rn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ot.call(r,d)||!Rn(t[d],r[d]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,r){var a=Mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function Pg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Pg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Lg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=kr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=kr(t.document)}return r}function Nd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var ax=qn&&"documentMode"in document&&11>=document.documentMode,La=null,kd=null,fl=null,Dd=!1;function jg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dd||La==null||La!==kr(l)||(l=La,"selectionStart"in l&&Nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&dl(fl,l)||(fl=l,l=Xc(kd,"onSelect"),0<l.length&&(r=new Mr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=La)))}function Qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ja={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Od={},Ug={};qn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Ks(t){if(Od[t])return Od[t];if(!ja[t])return t;var r=ja[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ug)return Od[t]=r[a];return t}var zg=Ks("animationend"),Bg=Ks("animationiteration"),qg=Ks("animationstart"),ox=Ks("transitionrun"),lx=Ks("transitionstart"),ux=Ks("transitioncancel"),Hg=Ks("transitionend"),Fg=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function cr(t,r){Fg.set(t,r),Ir(r,[t])}var uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Ua=0,Vd=0;function cc(){for(var t=Ua,r=Vd=Ua=0;r<t;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var d=Fn[r];Fn[r++]=null;var f=Fn[r];if(Fn[r++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Gg(a,d,f)}}function hc(t,r,a,l){Fn[Ua++]=t,Fn[Ua++]=r,Fn[Ua++]=a,Fn[Ua++]=l,Vd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pd(t,r,a,l){return hc(t,r,a,l),dc(t)}function Ys(t,r){return hc(t,null,null,r),dc(t)}function Gg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-Tt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function dc(t){if(50<Vl)throw Vl=0,Qf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var za={};function cx(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,r,a,l){return new cx(t,r,a,l)}function Ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ei(t,r){var a=t.alternate;return a===null?(a=Cn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function fc(t,r,a,l,d,f){var _=0;if(l=t,typeof t=="function")Ld(t)&&(_=1);else if(typeof t=="string")_=pw(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Cn(31,a,r,d),t.elementType=I,t.lanes=f,t;case Q:return $s(a.children,d,f,r);case B:_=8,d|=24;break;case Z:return t=Cn(12,a,r,d|2),t.elementType=Z,t.lanes=f,t;case Te:return t=Cn(13,a,r,d),t.elementType=Te,t.lanes=f,t;case we:return t=Cn(19,a,r,d),t.elementType=we,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case se:_=9;break e;case de:_=11;break e;case R:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Cn(_,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function $s(t,r,a,l){return t=Cn(7,t,l,r),t.lanes=a,t}function jd(t,r,a){return t=Cn(6,t,null,r),t.lanes=a,t}function Kg(t){var r=Cn(18,null,null,0);return r.stateNode=t,r}function Ud(t,r,a){return r=Cn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Yg=new WeakMap;function Gn(t,r){if(typeof t=="object"&&t!==null){var a=Yg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:an(r)},Yg.set(t,r),r)}return{value:t,source:r,stack:an(r)}}var Ba=[],qa=0,mc=null,ml=0,Qn=[],Kn=0,ji=null,jr=1,Ur="";function ti(t,r){Ba[qa++]=ml,Ba[qa++]=mc,mc=t,ml=r}function $g(t,r,a){Qn[Kn++]=jr,Qn[Kn++]=Ur,Qn[Kn++]=ji,ji=t;var l=jr;t=Ur;var d=32-Tt(l)-1;l&=~(1<<d),a+=1;var f=32-Tt(r)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,jr=1<<32-Tt(r)+d|a<<d|l,Ur=f+t}else jr=1<<f|a<<d|l,Ur=t}function zd(t){t.return!==null&&(ti(t,1),$g(t,1,0))}function Bd(t){for(;t===mc;)mc=Ba[--qa],Ba[qa]=null,ml=Ba[--qa],Ba[qa]=null;for(;t===ji;)ji=Qn[--Kn],Qn[Kn]=null,Ur=Qn[--Kn],Qn[Kn]=null,jr=Qn[--Kn],Qn[Kn]=null}function Xg(t,r){Qn[Kn++]=jr,Qn[Kn++]=Ur,Qn[Kn++]=ji,jr=r.id,Ur=r.overflow,ji=t}var Xt=null,ct=null,He=!1,Ui=null,Yn=!1,qd=Error(s(519));function zi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Gn(r,t)),qd}function Wg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[It]=t,r[Bt]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Le(Ll[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Ku(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),ki(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||mv(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=sr),r=!0):r=!1,r||zi(t,!0)}function Jg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xt=Xt.return}}function Ha(t){if(t!==Xt)return!1;if(!He)return Jg(t),He=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||om(t.type,t.memoizedProps)),a=!a),a&&ct&&zi(t),Jg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=xv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=xv(t)}else r===27?(r=ct,es(t.type)?(t=dm,dm=null,ct=t):ct=r):ct=Xt?Xn(t.stateNode.nextSibling):null;return!0}function Xs(){ct=Xt=null,He=!1}function Hd(){var t=Ui;return t!==null&&(En===null?En=t:En.push.apply(En,t),Ui=null),t}function pl(t){Ui===null?Ui=[t]:Ui.push(t)}var Fd=k(null),Ws=null,ni=null;function Bi(t,r,a){le(Fd,r._currentValue),r._currentValue=a}function ri(t){t._currentValue=Fd.current,X(Fd)}function Gd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Qd(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=d;for(var N=0;N<r.length;N++)if(x.context===r[N]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),Gd(f.return,a,t),l||(_=null);break e}f=x.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Gd(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Fa(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var x=d.type;Rn(d.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(d===Ie.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}d=d.return}t!==null&&Qd(r,t,a,l),r.flags|=262144}function pc(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Ws=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Zg(Ws,t)}function gc(t,r){return Ws===null&&Js(t),Zg(t,r)}function Zg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ni===null){if(t===null)throw Error(s(308));ni=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ni=ni.next=r;return a}var hx=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},dx=i.unstable_scheduleCallback,fx=i.unstable_NormalPriority,Dt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new hx,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&dx(fx,function(){t.controller.abort()})}var yl=null,Yd=0,Ga=0,Qa=null;function mx(t,r){if(yl===null){var a=yl=[];Yd=0,Ga=Jf(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yd++,r.then(ey,ey),r}function ey(){if(--Yd===0&&yl!==null){Qa!==null&&(Qa.status="fulfilled");var t=yl;yl=null,Ga=0,Qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function px(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var ty=U.S;U.S=function(t,r){j_=Kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&mx(t,r),ty!==null&&ty(t,r)};var Zs=k(null);function $d(){var t=Zs.current;return t!==null?t:at.pooledCache}function yc(t,r){r===null?le(Zs,Zs.current):le(Zs,r.pool)}function ny(){var t=$d();return t===null?null:{parent:Dt._currentValue,pool:t}}var Ka=Error(s(460)),Xd=Error(s(474)),_c=Error(s(542)),vc={then:function(){}};function ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(sr,sr),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ay(t),t;default:if(typeof r.status=="string")r.then(sr,sr);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ay(t),t}throw ta=r,Ka}}function ea(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Ka):a}}var ta=null;function sy(){if(ta===null)throw Error(s(459));var t=ta;return ta=null,t}function ay(t){if(t===Ka||t===_c)throw Error(s(483))}var Ya=null,_l=0;function bc(t){var r=_l;return _l+=1,Ya===null&&(Ya=[]),iy(Ya,t,r)}function vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ec(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function oy(t){function r(j,V){if(t){var q=j.deletions;q===null?(j.deletions=[V],j.flags|=16):q.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)r(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function d(j,V){return j=ei(j,V),j.index=0,j.sibling=null,j}function f(j,V,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<V?(j.flags|=67108866,V):q):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function x(j,V,q,ee){return V===null||V.tag!==6?(V=jd(q,j.mode,ee),V.return=j,V):(V=d(V,q),V.return=j,V)}function N(j,V,q,ee){var ve=q.type;return ve===Q?W(j,V,q.props.children,ee,q.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&ea(ve)===V.type)?(V=d(V,q.props),vl(V,q),V.return=j,V):(V=fc(q.type,q.key,q.props,null,j.mode,ee),vl(V,q),V.return=j,V)}function H(j,V,q,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Ud(q,j.mode,ee),V.return=j,V):(V=d(V,q.children||[]),V.return=j,V)}function W(j,V,q,ee,ve){return V===null||V.tag!==7?(V=$s(q,j.mode,ee,ve),V.return=j,V):(V=d(V,q),V.return=j,V)}function re(j,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=jd(""+V,j.mode,q),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return q=fc(V.type,V.key,V.props,null,j.mode,q),vl(q,V),q.return=j,q;case F:return V=Ud(V,j.mode,q),V.return=j,V;case S:return V=ea(V),re(j,V,q)}if(pe(V)||L(V))return V=$s(V,j.mode,q,null),V.return=j,V;if(typeof V.then=="function")return re(j,bc(V),q);if(V.$$typeof===J)return re(j,gc(j,V),q);Ec(j,V)}return null}function G(j,V,q,ee){var ve=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:x(j,V,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return q.key===ve?N(j,V,q,ee):null;case F:return q.key===ve?H(j,V,q,ee):null;case S:return q=ea(q),G(j,V,q,ee)}if(pe(q)||L(q))return ve!==null?null:W(j,V,q,ee,null);if(typeof q.then=="function")return G(j,V,bc(q),ee);if(q.$$typeof===J)return G(j,V,gc(j,q),ee);Ec(j,q)}return null}function $(j,V,q,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return j=j.get(q)||null,x(V,j,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case M:return j=j.get(ee.key===null?q:ee.key)||null,N(V,j,ee,ve);case F:return j=j.get(ee.key===null?q:ee.key)||null,H(V,j,ee,ve);case S:return ee=ea(ee),$(j,V,q,ee,ve)}if(pe(ee)||L(ee))return j=j.get(q)||null,W(V,j,ee,ve,null);if(typeof ee.then=="function")return $(j,V,q,bc(ee),ve);if(ee.$$typeof===J)return $(j,V,q,gc(V,ee),ve);Ec(V,ee)}return null}function me(j,V,q,ee){for(var ve=null,Qe=null,ge=V,Ve=V=0,Ue=null;ge!==null&&Ve<q.length;Ve++){ge.index>Ve?(Ue=ge,ge=null):Ue=ge.sibling;var Ke=G(j,ge,q[Ve],ee);if(Ke===null){ge===null&&(ge=Ue);break}t&&ge&&Ke.alternate===null&&r(j,ge),V=f(Ke,V,Ve),Qe===null?ve=Ke:Qe.sibling=Ke,Qe=Ke,ge=Ue}if(Ve===q.length)return a(j,ge),He&&ti(j,Ve),ve;if(ge===null){for(;Ve<q.length;Ve++)ge=re(j,q[Ve],ee),ge!==null&&(V=f(ge,V,Ve),Qe===null?ve=ge:Qe.sibling=ge,Qe=ge);return He&&ti(j,Ve),ve}for(ge=l(ge);Ve<q.length;Ve++)Ue=$(ge,j,Ve,q[Ve],ee),Ue!==null&&(t&&Ue.alternate!==null&&ge.delete(Ue.key===null?Ve:Ue.key),V=f(Ue,V,Ve),Qe===null?ve=Ue:Qe.sibling=Ue,Qe=Ue);return t&&ge.forEach(function(ss){return r(j,ss)}),He&&ti(j,Ve),ve}function xe(j,V,q,ee){if(q==null)throw Error(s(151));for(var ve=null,Qe=null,ge=V,Ve=V=0,Ue=null,Ke=q.next();ge!==null&&!Ke.done;Ve++,Ke=q.next()){ge.index>Ve?(Ue=ge,ge=null):Ue=ge.sibling;var ss=G(j,ge,Ke.value,ee);if(ss===null){ge===null&&(ge=Ue);break}t&&ge&&ss.alternate===null&&r(j,ge),V=f(ss,V,Ve),Qe===null?ve=ss:Qe.sibling=ss,Qe=ss,ge=Ue}if(Ke.done)return a(j,ge),He&&ti(j,Ve),ve;if(ge===null){for(;!Ke.done;Ve++,Ke=q.next())Ke=re(j,Ke.value,ee),Ke!==null&&(V=f(Ke,V,Ve),Qe===null?ve=Ke:Qe.sibling=Ke,Qe=Ke);return He&&ti(j,Ve),ve}for(ge=l(ge);!Ke.done;Ve++,Ke=q.next())Ke=$(ge,j,Ve,Ke.value,ee),Ke!==null&&(t&&Ke.alternate!==null&&ge.delete(Ke.key===null?Ve:Ke.key),V=f(Ke,V,Ve),Qe===null?ve=Ke:Qe.sibling=Ke,Qe=Ke);return t&&ge.forEach(function(Sw){return r(j,Sw)}),He&&ti(j,Ve),ve}function it(j,V,q,ee){if(typeof q=="object"&&q!==null&&q.type===Q&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case M:e:{for(var ve=q.key;V!==null;){if(V.key===ve){if(ve=q.type,ve===Q){if(V.tag===7){a(j,V.sibling),ee=d(V,q.props.children),ee.return=j,j=ee;break e}}else if(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&ea(ve)===V.type){a(j,V.sibling),ee=d(V,q.props),vl(ee,q),ee.return=j,j=ee;break e}a(j,V);break}else r(j,V);V=V.sibling}q.type===Q?(ee=$s(q.props.children,j.mode,ee,q.key),ee.return=j,j=ee):(ee=fc(q.type,q.key,q.props,null,j.mode,ee),vl(ee,q),ee.return=j,j=ee)}return _(j);case F:e:{for(ve=q.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(j,V.sibling),ee=d(V,q.children||[]),ee.return=j,j=ee;break e}else{a(j,V);break}else r(j,V);V=V.sibling}ee=Ud(q,j.mode,ee),ee.return=j,j=ee}return _(j);case S:return q=ea(q),it(j,V,q,ee)}if(pe(q))return me(j,V,q,ee);if(L(q)){if(ve=L(q),typeof ve!="function")throw Error(s(150));return q=ve.call(q),xe(j,V,q,ee)}if(typeof q.then=="function")return it(j,V,bc(q),ee);if(q.$$typeof===J)return it(j,V,gc(j,q),ee);Ec(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(j,V.sibling),ee=d(V,q),ee.return=j,j=ee):(a(j,V),ee=jd(q,j.mode,ee),ee.return=j,j=ee),_(j)):a(j,V)}return function(j,V,q,ee){try{_l=0;var ve=it(j,V,q,ee);return Ya=null,ve}catch(ge){if(ge===Ka||ge===_c)throw ge;var Qe=Cn(29,ge,null,j.mode);return Qe.lanes=ee,Qe.return=j,Qe}finally{}}}var na=oy(!0),ly=oy(!1),qi=!1;function Wd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=dc(t),Gg(t,null,a),r}return hc(t,l,r,a),dc(t)}function bl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ko(t,a)}}function Zd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var ef=!1;function El(){if(ef){var t=Qa;if(t!==null)throw t}}function Tl(t,r,a,l){ef=!1;var d=t.updateQueue;qi=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var N=x,H=N.next;N.next=null,_===null?f=H:_.next=H,_=N;var W=t.alternate;W!==null&&(W=W.updateQueue,x=W.lastBaseUpdate,x!==_&&(x===null?W.firstBaseUpdate=H:x.next=H,W.lastBaseUpdate=N))}if(f!==null){var re=d.baseState;_=0,W=H=N=null,x=f;do{var G=x.lane&-536870913,$=G!==x.lane;if($?(je&G)===G:(l&G)===G){G!==0&&G===Ga&&(ef=!0),W!==null&&(W=W.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var me=t,xe=x;G=r;var it=a;switch(xe.tag){case 1:if(me=xe.payload,typeof me=="function"){re=me.call(it,re,G);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,G=typeof me=="function"?me.call(it,re,G):me,G==null)break e;re=T({},re,G);break e;case 2:qi=!0}}G=x.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[G]:$.push(G))}else $={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},W===null?(H=W=$,N=re):W=W.next=$,_|=G;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;$=x,x=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);W===null&&(N=re),d.baseState=N,d.firstBaseUpdate=H,d.lastBaseUpdate=W,f===null&&(d.shared.lanes=0),$i|=_,t.lanes=_,t.memoizedState=re}}function uy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function cy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)uy(a[t],r)}var $a=k(null),Tc=k(0);function hy(t,r){t=di,le(Tc,t),le($a,r),di=t|r.baseLanes}function tf(){le(Tc,di),le($a,$a.current)}function nf(){di=Tc.current,X($a),X(Tc)}var In=k(null),$n=null;function Gi(t){var r=t.alternate;le(wt,wt.current&1),le(In,t),$n===null&&(r===null||$a.current!==null||r.memoizedState!==null)&&($n=t)}function rf(t){le(wt,wt.current),le(In,t),$n===null&&($n=t)}function dy(t){t.tag===22?(le(wt,wt.current),le(In,t),$n===null&&($n=t)):Qi()}function Qi(){le(wt,wt.current),le(In,In.current)}function Nn(t){X(In),$n===t&&($n=null),X(wt)}var wt=k(0);function xc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||hm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ii=0,Me=null,nt=null,Ot=null,wc=!1,Xa=!1,ra=!1,Ac=0,xl=0,Wa=null,gx=0;function vt(){throw Error(s(321))}function sf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Rn(t[a],r[a]))return!1;return!0}function af(t,r,a,l,d,f){return ii=f,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=t===null||t.memoizedState===null?$y:Ef,ra=!1,f=a(l,d),ra=!1,Xa&&(f=my(r,a,l,d)),fy(t),f}function fy(t){U.H=Sl;var r=nt!==null&&nt.next!==null;if(ii=0,Ot=nt=Me=null,wc=!1,xl=0,Wa=null,r)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&pc(t)&&(Mt=!0))}function my(t,r,a,l){Me=t;var d=0;do{if(Xa&&(Wa=null),xl=0,Xa=!1,25<=d)throw Error(s(301));if(d+=1,Ot=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Xy,f=r(a,l)}while(Xa);return f}function yx(){var t=U.H,r=t.useState()[0];return r=typeof r.then=="function"?wl(r):r,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Me.flags|=1024),r}function of(){var t=Ac!==0;return Ac=0,t}function lf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function uf(t){if(wc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}wc=!1}ii=0,Ot=nt=Me=null,Xa=!1,xl=Ac=0,Wa=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Me.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function At(){if(nt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=Ot===null?Me.memoizedState:Ot.next;if(r!==null)Ot=r,nt=t;else{if(t===null)throw Me.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ot===null?Me.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var r=xl;return xl+=1,Wa===null&&(Wa=[]),t=iy(Wa,t,r),r=Me,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?$y:Ef),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===J)return Wt(t)}throw Error(s(438,String(t)))}function cf(t){var r=null,a=Me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Sc(),Me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function si(t,r){return typeof r=="function"?r(t):r}function Cc(t){var r=At();return hf(r,nt,t)}function hf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var x=_=null,N=null,H=r,W=!1;do{var re=H.lane&-536870913;if(re!==H.lane?(je&re)===re:(ii&re)===re){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),re===Ga&&(W=!0);else if((ii&G)===G){H=H.next,G===Ga&&(W=!0);continue}else re={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(x=N=re,_=f):N=N.next=re,Me.lanes|=G,$i|=G;re=H.action,ra&&a(f,re),f=H.hasEagerState?H.eagerState:a(f,re)}else G={lane:re,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(x=N=G,_=f):N=N.next=G,Me.lanes|=re,$i|=re;H=H.next}while(H!==null&&H!==r);if(N===null?_=f:N.next=x,!Rn(f,t.memoizedState)&&(Mt=!0,W&&(a=Qa,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function df(t){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);Rn(f,r.memoizedState)||(Mt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function py(t,r,a){var l=Me,d=At(),f=He;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Rn((nt||d).memoizedState,a);if(_&&(d.memoizedState=a,Mt=!0),d=d.queue,pf(_y.bind(null,l,d,t),[t]),d.getSnapshot!==r||_||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},yy.bind(null,l,d,a,r),null),at===null)throw Error(s(349));f||(ii&127)!==0||gy(l,r,a)}return a}function gy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Me.updateQueue,r===null?(r=Sc(),Me.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function yy(t,r,a,l){r.value=a,r.getSnapshot=l,vy(r)&&by(t)}function _y(t,r,a){return a(function(){vy(r)&&by(t)})}function vy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Rn(t,a)}catch{return!0}}function by(t){var r=Ys(t,2);r!==null&&Tn(r,t,2)}function ff(t){var r=fn();if(typeof t=="function"){var a=t;if(t=a(),ra){Un(!0);try{a()}finally{Un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},r}function Ey(t,r,a,l){return t.baseState=a,hf(t,nt,typeof l=="function"?l:si)}function _x(t,r,a,l,d){if(kc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};U.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Ty(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Ty(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=U.T,_={};U.T=_;try{var x=a(d,l),N=U.S;N!==null&&N(_,x),xy(t,r,x)}catch(H){mf(t,r,H)}finally{f!==null&&_.types!==null&&(f.types=_.types),U.T=f}}else try{f=a(d,l),xy(t,r,f)}catch(H){mf(t,r,H)}}function xy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wy(t,r,l)},function(l){return mf(t,r,l)}):wy(t,r,a)}function wy(t,r,a){r.status="fulfilled",r.value=a,Ay(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Ty(t,a)))}function mf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ay(r),r=r.next;while(r!==l)}t.action=null}function Ay(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Sy(t,r){return r}function Ry(t,r){if(He){var a=at.formState;if(a!==null){e:{var l=Me;if(He){if(ct){t:{for(var d=ct,f=Yn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Xn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ct=Xn(d.nextSibling),l=d.data==="F!";break e}}zi(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:r},a.queue=l,a=Qy.bind(null,Me,l),l.dispatch=a,l=ff(!1),f=bf.bind(null,Me,!1,l.queue),l=fn(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=_x.bind(null,Me,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function Cy(t){var r=At();return Iy(r,nt,t)}function Iy(t,r,a){if(r=hf(t,r,Sy)[0],t=Cc(si)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=wl(r)}catch(_){throw _===Ka?_c:_}else l=r;r=At();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Me.flags|=2048,Ja(9,{destroy:void 0},vx.bind(null,d,a),null)),[l,f,t]}function vx(t,r){t.action=r}function Ny(t){var r=At(),a=nt;if(a!==null)return Iy(r,a,t);At(),r=r.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ja(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Me.updateQueue,r===null&&(r=Sc(),Me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ky(){return At().memoizedState}function Ic(t,r,a,l){var d=fn();Me.flags|=t,d.memoizedState=Ja(1|r,{destroy:void 0},a,l===void 0?null:l)}function Nc(t,r,a,l){var d=At();l=l===void 0?null:l;var f=d.memoizedState.inst;nt!==null&&l!==null&&sf(l,nt.memoizedState.deps)?d.memoizedState=Ja(r,f,a,l):(Me.flags|=t,d.memoizedState=Ja(1|r,f,a,l))}function Dy(t,r){Ic(8390656,8,t,r)}function pf(t,r){Nc(2048,8,t,r)}function bx(t){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=Sc(),Me.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Oy(t){var r=At().memoizedState;return bx({ref:r,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function My(t,r){return Nc(4,2,t,r)}function Vy(t,r){return Nc(4,4,t,r)}function Py(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ly(t,r,a){a=a!=null?a.concat([t]):null,Nc(4,4,Py.bind(null,r,t),a)}function gf(){}function jy(t,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&sf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Uy(t,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&sf(r,l[1]))return l[0];if(l=t(),ra){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,r],l}function yf(t,r,a){return a===void 0||(ii&1073741824)!==0&&(je&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=z_(),Me.lanes|=t,$i|=t,a)}function zy(t,r,a,l){return Rn(a,r)?a:$a.current!==null?(t=yf(t,a,l),Rn(t,r)||(Mt=!0),t):(ii&42)===0||(ii&1073741824)!==0&&(je&261930)===0?(Mt=!0,t.memoizedState=a):(t=z_(),Me.lanes|=t,$i|=t,r)}function By(t,r,a,l,d){var f=Y.p;Y.p=f!==0&&8>f?f:8;var _=U.T,x={};U.T=x,bf(t,!1,r,a);try{var N=d(),H=U.S;if(H!==null&&H(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=px(N,l);Al(t,r,W,On(t))}else Al(t,r,l,On(t))}catch(re){Al(t,r,{then:function(){},status:"rejected",reason:re},On())}finally{Y.p=f,_!==null&&x.types!==null&&(_.types=x.types),U.T=_}}function Ex(){}function _f(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=qy(t).queue;By(t,d,r,te,a===null?Ex:function(){return Hy(t),a(l)})}function qy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:te},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Hy(t){var r=qy(t);r.next===null&&(r=t.alternate.memoizedState),Al(t,r.next.queue,{},On())}function vf(){return Wt(ql)}function Fy(){return At().memoizedState}function Gy(){return At().memoizedState}function Tx(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=On();t=Hi(a);var l=Fi(r,t,a);l!==null&&(Tn(l,r,a),bl(l,r,a)),r={cache:Kd()},t.payload=r;return}r=r.return}}function xx(t,r,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?Ky(r,a):(a=Pd(t,r,a,l),a!==null&&(Tn(a,t,l),Yy(a,r,l)))}function Qy(t,r,a){var l=On();Al(t,r,a,l)}function Al(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))Ky(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,x=f(_,a);if(d.hasEagerState=!0,d.eagerState=x,Rn(x,_))return hc(t,r,d,0),at===null&&cc(),!1}catch{}finally{}if(a=Pd(t,r,d,l),a!==null)return Tn(a,t,l),Yy(a,r,l),!0}return!1}function bf(t,r,a,l){if(l={lane:2,revertLane:Jf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(r)throw Error(s(479))}else r=Pd(t,a,l,2),r!==null&&Tn(r,t,2)}function kc(t){var r=t.alternate;return t===Me||r!==null&&r===Me}function Ky(t,r){Xa=wc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Yy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ko(t,a)}}var Sl={readContext:Wt,use:Rc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Sl.useEffectEvent=vt;var $y={readContext:Wt,use:Rc,useCallback:function(t,r){return fn().memoizedState=[t,r===void 0?null:r],t},useContext:Wt,useEffect:Dy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,Py.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ic(4194308,4,t,r)},useInsertionEffect:function(t,r){Ic(4,2,t,r)},useMemo:function(t,r){var a=fn();r=r===void 0?null:r;var l=t();if(ra){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=fn();if(a!==void 0){var d=a(r);if(ra){Un(!0);try{a(r)}finally{Un(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=xx.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var r=fn();return t={current:t},r.memoizedState=t},useState:function(t){t=ff(t);var r=t.queue,a=Qy.bind(null,Me,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(t,r){var a=fn();return yf(a,t,r)},useTransition:function(){var t=ff(!1);return t=By.bind(null,Me,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Me,d=fn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),at===null)throw Error(s(349));(je&127)!==0||gy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,Dy(_y.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},yy.bind(null,l,f,a,r),null),a},useId:function(){var t=fn(),r=at.identifierPrefix;if(He){var a=Ur,l=jr;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ac++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=gx++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:vf,useFormState:Ry,useActionState:Ry,useOptimistic:function(t){var r=fn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=bf.bind(null,Me,!0,a),a.dispatch=r,[t,r]},useMemoCache:cf,useCacheRefresh:function(){return fn().memoizedState=Tx.bind(null,Me)},useEffectEvent:function(t){var r=fn(),a={impl:t};return r.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ef={readContext:Wt,use:Rc,useCallback:jy,useContext:Wt,useEffect:pf,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:Cc,useRef:ky,useState:function(){return Cc(si)},useDebugValue:gf,useDeferredValue:function(t,r){var a=At();return zy(a,nt.memoizedState,t,r)},useTransition:function(){var t=Cc(si)[0],r=At().memoizedState;return[typeof t=="boolean"?t:wl(t),r]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:vf,useFormState:Cy,useActionState:Cy,useOptimistic:function(t,r){var a=At();return Ey(a,nt,t,r)},useMemoCache:cf,useCacheRefresh:Gy};Ef.useEffectEvent=Oy;var Xy={readContext:Wt,use:Rc,useCallback:jy,useContext:Wt,useEffect:pf,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:df,useRef:ky,useState:function(){return df(si)},useDebugValue:gf,useDeferredValue:function(t,r){var a=At();return nt===null?yf(a,t,r):zy(a,nt.memoizedState,t,r)},useTransition:function(){var t=df(si)[0],r=At().memoizedState;return[typeof t=="boolean"?t:wl(t),r]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:vf,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,r){var a=At();return nt!==null?Ey(a,nt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Gy};Xy.useEffectEvent=Oy;function Tf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var xf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=On(),d=Hi(l);d.payload=r,a!=null&&(d.callback=a),r=Fi(t,d,l),r!==null&&(Tn(r,t,l),bl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=On(),d=Hi(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Fi(t,d,l),r!==null&&(Tn(r,t,l),bl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=On(),l=Hi(a);l.tag=2,r!=null&&(l.callback=r),r=Fi(t,l,a),r!==null&&(Tn(r,t,a),bl(r,t,a))}};function Wy(t,r,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):r.prototype&&r.prototype.isPureReactComponent?!dl(a,l)||!dl(d,f):!0}function Jy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&xf.enqueueReplaceState(r,r.state,null)}function ia(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Zy(t){uc(t)}function e_(t){console.error(t)}function t_(t){uc(t)}function Dc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function n_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function wf(t,r,a){return a=Hi(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,r)},a}function r_(t){return t=Hi(t),t.tag=3,t}function i_(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){n_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){n_(r,a,l),typeof d!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function wx(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fa(r,a,d,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Fc():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===vc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),$f(t,l,d)),!1;case 22:return a.flags|=65536,l===vc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),$f(t,l,d)),!1}throw Error(s(435,a.tag))}return $f(t,l,d),Fc(),!1}if(He)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==qd&&(t=Error(s(422),{cause:l}),pl(Gn(t,a)))):(l!==qd&&(r=Error(s(423),{cause:l}),pl(Gn(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Gn(l,a),d=wf(t.stateNode,l,d),Zd(t,d),bt!==4&&(bt=2)),!1;var f=Error(s(520),{cause:l});if(f=Gn(f,a),Ml===null?Ml=[f]:Ml.push(f),bt!==4&&(bt=2),r===null)return!0;l=Gn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=wf(a.stateNode,l,t),Zd(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xi===null||!Xi.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=r_(d),i_(d,t,a,l),Zd(a,d),!1}a=a.return}while(a!==null);return!1}var Af=Error(s(461)),Mt=!1;function Jt(t,r,a,l){r.child=t===null?ly(r,null,a,l):na(r,t.child,a,l)}function s_(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var _={};for(var x in l)x!=="ref"&&(_[x]=l[x])}else _=l;return Js(r),l=af(t,r,a,_,f,d),x=of(),t!==null&&!Mt?(lf(t,r,d),ai(t,r,d)):(He&&x&&zd(r),r.flags|=1,Jt(t,r,l,d),r.child)}function a_(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Ld(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,o_(t,r,f,l,d)):(t=fc(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Of(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(_,l)&&t.ref===r.ref)return ai(t,r,d)}return r.flags|=1,t=ei(f,l),t.ref=r.ref,t.return=r,r.child=t}function o_(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(dl(f,l)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=l=f,Of(t,d))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,ai(t,r,d)}return Sf(t,r,a,l,d)}function l_(t,r,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return u_(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&yc(r,f!==null?f.cachePool:null),f!==null?hy(r,f):tf(),dy(r);else return l=r.lanes=536870912,u_(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(yc(r,f.cachePool),hy(r,f),Qi(),r.memoizedState=null):(t!==null&&yc(r,null),tf(),Qi());return Jt(t,r,d,a),r.child}function Rl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function u_(t,r,a,l,d){var f=$d();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&yc(r,null),tf(),dy(r),t!==null&&Fa(t,r,l,!0),r.childLanes=d,null}function Oc(t,r){return r=Vc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function c_(t,r,a){return na(r,t.child,null,a),t=Oc(r,r.pendingProps),t.flags|=2,Nn(r),r.memoizedState=null,t}function Ax(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=Oc(r,l),r.lanes=536870912,Rl(null,t);if(rf(r),(t=ct)?(t=Tv(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ji!==null?{id:jr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=r,r.child=a,Xt=r,ct=null)):t=null,t===null)throw zi(r);return r.lanes=536870912,null}return Oc(r,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(rf(r),d)if(r.flags&256)r.flags&=-257,r=c_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Mt||Fa(t,r,a,!1),d=(a&t.childLanes)!==0,Mt||d){if(l=at,l!==null&&(_=Yo(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ys(t,_),Tn(l,t,_),Af;Fc(),r=c_(t,r,a)}else t=f.treeContext,ct=Xn(_.nextSibling),Xt=r,He=!0,Ui=null,Yn=!1,t!==null&&Xg(r,t),r=Oc(r,l),r.flags|=4096;return r}return t=ei(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Mc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Sf(t,r,a,l,d){return Js(r),a=af(t,r,a,l,void 0,d),l=of(),t!==null&&!Mt?(lf(t,r,d),ai(t,r,d)):(He&&l&&zd(r),r.flags|=1,Jt(t,r,a,d),r.child)}function h_(t,r,a,l,d,f){return Js(r),r.updateQueue=null,a=my(r,l,a,d),fy(t),l=of(),t!==null&&!Mt?(lf(t,r,f),ai(t,r,f)):(He&&l&&zd(r),r.flags|=1,Jt(t,r,a,f),r.child)}function d_(t,r,a,l,d){if(Js(r),r.stateNode===null){var f=za,_=a.contextType;typeof _=="object"&&_!==null&&(f=Wt(_)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Wd(r),_=a.contextType,f.context=typeof _=="object"&&_!==null?Wt(_):za,f.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Tf(r,a,_,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&xf.enqueueReplaceState(f,f.state,null),Tl(r,l,f,d),El(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,N=ia(a,x);f.props=N;var H=f.context,W=a.contextType;_=za,typeof W=="object"&&W!==null&&(_=Wt(W));var re=a.getDerivedStateFromProps;W=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||H!==_)&&Jy(r,f,l,_),qi=!1;var G=r.memoizedState;f.state=G,Tl(r,l,f,d),El(),H=r.memoizedState,x||G!==H||qi?(typeof re=="function"&&(Tf(r,a,re,l),H=r.memoizedState),(N=qi||Wy(r,a,N,l,G,H,_))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),f.props=l,f.state=H,f.context=_,l=N):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Jd(t,r),_=r.memoizedProps,W=ia(a,_),f.props=W,re=r.pendingProps,G=f.context,H=a.contextType,N=za,typeof H=="object"&&H!==null&&(N=Wt(H)),x=a.getDerivedStateFromProps,(H=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==re||G!==N)&&Jy(r,f,l,N),qi=!1,G=r.memoizedState,f.state=G,Tl(r,l,f,d),El();var $=r.memoizedState;_!==re||G!==$||qi||t!==null&&t.dependencies!==null&&pc(t.dependencies)?(typeof x=="function"&&(Tf(r,a,x,l),$=r.memoizedState),(W=qi||Wy(r,a,W,l,G,$,N)||t!==null&&t.dependencies!==null&&pc(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,N)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),f.props=l,f.state=$,f.context=N,l=W):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Mc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=na(r,t.child,null,d),r.child=na(r,null,a,d)):Jt(t,r,a,d),r.memoizedState=f.state,t=r.child):t=ai(t,r,d),t}function f_(t,r,a,l){return Xs(),r.flags|=256,Jt(t,r,a,l),r.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:ny()}}function If(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Dn),t}function m_(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(d?Gi(r):Qi(),(t=ct)?(t=Tv(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ji!==null?{id:jr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=r,r.child=a,Xt=r,ct=null)):t=null,t===null)throw zi(r);return hm(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,d?(Qi(),d=r.mode,x=Vc({mode:"hidden",children:x},d),l=$s(l,d,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=Cf(a),l.childLanes=If(t,_,a),r.memoizedState=Rf,Rl(null,l)):(Gi(r),Nf(r,x))}var N=t.memoizedState;if(N!==null&&(x=N.dehydrated,x!==null)){if(f)r.flags&256?(Gi(r),r.flags&=-257,r=kf(t,r,a)):r.memoizedState!==null?(Qi(),r.child=t.child,r.flags|=128,r=null):(Qi(),x=l.fallback,d=r.mode,l=Vc({mode:"visible",children:l.children},d),x=$s(x,d,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,na(r,t.child,null,a),l=r.child,l.memoizedState=Cf(a),l.childLanes=If(t,_,a),r.memoizedState=Rf,r=Rl(null,l));else if(Gi(r),hm(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,pl({value:l,source:null,stack:null}),r=kf(t,r,a)}else if(Mt||Fa(t,r,a,!1),_=(a&t.childLanes)!==0,Mt||_){if(_=at,_!==null&&(l=Yo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ys(t,l),Tn(_,t,l),Af;cm(x)||Fc(),r=kf(t,r,a)}else cm(x)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,ct=Xn(x.nextSibling),Xt=r,He=!0,Ui=null,Yn=!1,t!==null&&Xg(r,t),r=Nf(r,l.children),r.flags|=4096);return r}return d?(Qi(),x=l.fallback,d=r.mode,N=t.child,H=N.sibling,l=ei(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?x=ei(H,x):(x=$s(x,d,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,Rl(null,l),l=r.child,x=t.child.memoizedState,x===null?x=Cf(a):(d=x.cachePool,d!==null?(N=Dt._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=ny(),x={baseLanes:x.baseLanes|a,cachePool:d}),l.memoizedState=x,l.childLanes=If(t,_,a),r.memoizedState=Rf,Rl(t.child,l)):(Gi(r),a=t.child,t=a.sibling,a=ei(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Nf(t,r){return r=Vc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Vc(t,r){return t=Cn(22,t,null,r),t.lanes=0,t}function kf(t,r,a){return na(r,t.child,null,a),t=Nf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function p_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Gd(t.return,r,a)}function Df(t,r,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function g_(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=wt.current,x=(_&2)!==0;if(x?(_=_&1|2,r.flags|=128):_&=1,le(wt,_),Jt(t,r,l,a),l=He?ml:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,a,r);else if(t.tag===19)p_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&xc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Df(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&xc(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Df(r,!0,a,null,f,l);break;case"together":Df(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ai(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),$i|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Fa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ei(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ei(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Of(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&pc(t)))}function Sx(t,r,a){switch(r.tag){case 3:st(r,r.stateNode.containerInfo),Bi(r,Dt,t.memoizedState.cache),Xs();break;case 27:case 5:mn(r);break;case 4:st(r,r.stateNode.containerInfo);break;case 10:Bi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,rf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?m_(t,r,a):(Gi(r),t=ai(t,r,a),t!==null?t.sibling:null);Gi(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fa(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return g_(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(wt,wt.current),l)break;return null;case 22:return r.lanes=0,l_(t,r,a,r.pendingProps);case 24:Bi(r,Dt,t.memoizedState.cache)}return ai(t,r,a)}function y_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!Of(t,a)&&(r.flags&128)===0)return Mt=!1,Sx(t,r,a);Mt=(t.flags&131072)!==0}else Mt=!1,He&&(r.flags&1048576)!==0&&$g(r,ml,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ea(r.elementType),r.type=t,typeof t=="function")Ld(t)?(l=ia(t,l),r.tag=1,r=d_(null,r,t,l,a)):(r.tag=0,r=Sf(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===de){r.tag=11,r=s_(null,r,t,l,a);break e}else if(d===R){r.tag=14,r=a_(null,r,t,l,a);break e}}throw r=oe(t)||t,Error(s(306,r,""))}}return r;case 0:return Sf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=ia(l,r.pendingProps),d_(t,r,l,d,a);case 3:e:{if(st(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,Jd(t,r),Tl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Bi(r,Dt,l),l!==f.cache&&Qd(r,[Dt],a,!0),El(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=f_(t,r,l,a);break e}else if(l!==d){d=Gn(Error(s(424)),r),pl(d),r=f_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Xn(t.firstChild),Xt=r,He=!0,Ui=null,Yn=!0,a=ly(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xs(),l===d){r=ai(t,r,a);break e}Jt(t,r,l,a)}r=r.child}return r;case 26:return Mc(t,r),t===null?(a=Cv(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,t=r.pendingProps,l=Wc(Ee.current).createElement(a),l[It]=r,l[Bt]=t,Zt(l,a,t),Nt(l),r.stateNode=l):r.memoizedState=Cv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return mn(r),t===null&&He&&(l=r.stateNode=Av(r.type,r.pendingProps,Ee.current),Xt=r,Yn=!0,d=ct,es(r.type)?(dm=d,ct=Xn(l.firstChild)):ct=d),Jt(t,r,r.pendingProps.children,a),Mc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&He&&((d=l=ct)&&(l=nw(l,r.type,r.pendingProps,Yn),l!==null?(r.stateNode=l,Xt=r,ct=Xn(l.firstChild),Yn=!1,d=!0):d=!1),d||zi(r)),mn(r),d=r.type,f=r.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,om(d,f)?l=null:_!==null&&om(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=af(t,r,yx,null,null,a),ql._currentValue=d),Mc(t,r),Jt(t,r,l,a),r.child;case 6:return t===null&&He&&((t=a=ct)&&(a=rw(a,r.pendingProps,Yn),a!==null?(r.stateNode=a,Xt=r,ct=null,t=!0):t=!1),t||zi(r)),null;case 13:return m_(t,r,a);case 4:return st(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=na(r,null,l,a):Jt(t,r,l,a),r.child;case 11:return s_(t,r,r.type,r.pendingProps,a);case 7:return Jt(t,r,r.pendingProps,a),r.child;case 8:return Jt(t,r,r.pendingProps.children,a),r.child;case 12:return Jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Bi(r,r.type,l.value),Jt(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Js(r),d=Wt(d),l=l(d),r.flags|=1,Jt(t,r,l,a),r.child;case 14:return a_(t,r,r.type,r.pendingProps,a);case 15:return o_(t,r,r.type,r.pendingProps,a);case 19:return g_(t,r,a);case 31:return Ax(t,r,a);case 22:return l_(t,r,a,r.pendingProps);case 24:return Js(r),l=Wt(Dt),t===null?(d=$d(),d===null&&(d=at,f=Kd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},Wd(r),Bi(r,Dt,d)):((t.lanes&a)!==0&&(Jd(t,r),Tl(r,null,null,a),El()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Bi(r,Dt,l)):(l=f.cache,Bi(r,Dt,l),l!==d.cache&&Qd(r,[Dt],a,!0))),Jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function oi(t){t.flags|=4}function Mf(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(F_())t.flags|=8192;else throw ta=vc,Xd}else t.flags&=-16777217}function __(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ov(r))if(F_())t.flags|=8192;else throw ta=vc,Xd}function Pc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?qu():536870912,t.lanes|=r,no|=r)}function Cl(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Rx(t,r,a){var l=r.pendingProps;switch(Bd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ri(Dt),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(r)?oi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hd())),ht(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(oi(r),f!==null?(ht(r),__(r,f)):(ht(r),Mf(r,d,null,l,a))):f?f!==t.memoizedState?(oi(r),ht(r),__(r,f)):(ht(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&oi(r),ht(r),Mf(r,d,t,l,a)),null;case 27:if(Ln(r),a=Ee.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&oi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}t=ce.current,Ha(r)?Wg(r):(t=Av(d,l,a),r.stateNode=t,oi(r))}return ht(r),null;case 5:if(Ln(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&oi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(f=ce.current,Ha(r))Wg(r);else{var _=Wc(Ee.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[It]=r,f[Bt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=f;e:switch(Zt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&oi(r)}}return ht(r),Mf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&oi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ee.current,Ha(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=Xt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[It]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||mv(t.nodeValue,a)),t||zi(r,!0)}else t=Wc(t).createTextNode(l),t[It]=r,r.stateNode=t}return ht(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),t=!1}else a=Hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Nn(r),r):(Nn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ha(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[It]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),d=!1}else d=Hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Nn(r),r):(Nn(r),null)}return Nn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Pc(r,r.updateQueue),ht(r),null);case 4:return Ge(),t===null&&nm(r.stateNode.containerInfo),ht(r),null;case 10:return ri(r.type),ht(r),null;case 19:if(X(wt),l=r.memoizedState,l===null)return ht(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)Cl(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=xc(t),f!==null){for(r.flags|=128,Cl(l,!1),t=f.updateQueue,r.updateQueue=t,Pc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Qg(a,t),a=a.sibling;return le(wt,wt.current&1|2),He&&ti(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Kt()>Bc&&(r.flags|=128,d=!0,Cl(l,!1),r.lanes=4194304)}else{if(!d)if(t=xc(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,Pc(r,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return ht(r),null}else 2*Kt()-l.renderingStartTime>Bc&&a!==536870912&&(r.flags|=128,d=!0,Cl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Kt(),t.sibling=null,a=wt.current,le(wt,d?a&1|2:a&1),He&&ti(r,l.treeForkCount),t):(ht(r),null);case 22:case 23:return Nn(r),nf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&Pc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&X(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ri(Dt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Cx(t,r){switch(Bd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ri(Dt),Ge(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ln(r),null;case 31:if(r.memoizedState!==null){if(Nn(r),r.alternate===null)throw Error(s(340));Xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Nn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return X(wt),null;case 4:return Ge(),null;case 10:return ri(r.type),null;case 22:case 23:return Nn(r),nf(),t!==null&&X(Zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ri(Dt),null;case 25:return null;default:return null}}function v_(t,r){switch(Bd(r),r.tag){case 3:ri(Dt),Ge();break;case 26:case 27:case 5:Ln(r);break;case 4:Ge();break;case 31:r.memoizedState!==null&&Nn(r);break;case 13:Nn(r);break;case 19:X(wt);break;case 10:ri(r.type);break;case 22:case 23:Nn(r),nf(),t!==null&&X(Zs);break;case 24:ri(Dt)}}function Il(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(x){et(r,r.return,x)}}function Ki(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,d=r;var N=a,H=x;try{H()}catch(W){et(d,N,W)}}}l=l.next}while(l!==f)}}catch(W){et(r,r.return,W)}}function b_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{cy(r,a)}catch(l){et(t,t.return,l)}}}function E_(t,r,a){a.props=ia(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function Nl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){et(t,r,d)}}function zr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){et(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){et(t,r,d)}else a.current=null}function T_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){et(t,t.return,d)}}function Vf(t,r,a){try{var l=t.stateNode;Xx(l,t.type,a,r),l[Bt]=r}catch(d){et(t,t.return,d)}}function x_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=sr));else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Lf(t,r,a),t=t.sibling;t!==null;)Lf(t,r,a),t=t.sibling}function Lc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lc(t,r,a),t=t.sibling;t!==null;)Lc(t,r,a),t=t.sibling}function w_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Zt(r,l,a),r[It]=t,r[Bt]=a}catch(f){et(t,t.return,f)}}var li=!1,Vt=!1,jf=!1,A_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Ix(t,r){if(t=t.containerInfo,sm=ih,t=Lg(t),Nd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,x=-1,N=-1,H=0,W=0,re=t,G=null;t:for(;;){for(var $;re!==a||d!==0&&re.nodeType!==3||(x=_+d),re!==f||l!==0&&re.nodeType!==3||(N=_+l),re.nodeType===3&&(_+=re.nodeValue.length),($=re.firstChild)!==null;)G=re,re=$;for(;;){if(re===t)break t;if(G===a&&++H===d&&(x=_),G===f&&++W===l&&(N=_),($=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=$}a=x===-1||N===-1?null:{start:x,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:t,selectionRange:a},ih=!1,Ht=r;Ht!==null;)if(r=Ht,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ht=t;else for(;Ht!==null;){switch(r=Ht,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=ia(a.type,d);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){et(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)um(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ht=t;break}Ht=r.return}}function S_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ci(t,a),l&4&&Il(5,a);break;case 1:if(ci(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){et(a,a.return,_)}else{var d=ia(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){et(a,a.return,_)}}l&64&&b_(a),l&512&&Nl(a,a.return);break;case 3:if(ci(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{cy(t,r)}catch(_){et(a,a.return,_)}}break;case 27:r===null&&l&4&&w_(a);case 26:case 5:ci(t,a),r===null&&l&4&&T_(a),l&512&&Nl(a,a.return);break;case 12:ci(t,a);break;case 31:ci(t,a),l&4&&I_(t,a);break;case 13:ci(t,a),l&4&&N_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=jx.bind(null,a),iw(t,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){r=r!==null&&r.memoizedState!==null||Vt,d=li;var f=Vt;li=l,(Vt=r)&&!f?hi(t,a,(a.subtreeFlags&8772)!==0):ci(t,a),li=d,Vt=f}break;case 30:break;default:ci(t,a)}}function R_(t){var r=t.alternate;r!==null&&(t.alternate=null,R_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Sa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,_n=!1;function ui(t,r,a){for(a=a.child;a!==null;)C_(t,r,a),a=a.sibling}function C_(t,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:Vt||zr(a,r),ui(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||zr(a,r);var l=mt,d=_n;es(a.type)&&(mt=a.stateNode,_n=!1),ui(t,r,a),Ul(a.stateNode),mt=l,_n=d;break;case 5:Vt||zr(a,r);case 6:if(l=mt,d=_n,mt=null,ui(t,r,a),mt=l,_n=d,mt!==null)if(_n)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(f){et(a,r,f)}else try{mt.removeChild(a.stateNode)}catch(f){et(a,r,f)}break;case 18:mt!==null&&(_n?(t=mt,bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):bv(mt,a.stateNode));break;case 4:l=mt,d=_n,mt=a.stateNode.containerInfo,_n=!0,ui(t,r,a),mt=l,_n=d;break;case 0:case 11:case 14:case 15:Ki(2,a,r),Vt||Ki(4,a,r),ui(t,r,a);break;case 1:Vt||(zr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&E_(a,r,l)),ui(t,r,a);break;case 21:ui(t,r,a);break;case 22:Vt=(l=Vt)||a.memoizedState!==null,ui(t,r,a),Vt=l;break;default:ui(t,r,a)}}function I_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){et(r,r.return,a)}}}function N_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){et(r,r.return,a)}}function Nx(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new A_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new A_),r;default:throw Error(s(435,t.tag))}}function jc(t,r){var a=Nx(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=Ux.bind(null,t,l);l.then(d,d)}})}function vn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=r,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(es(x.type)){mt=x.stateNode,_n=!1;break e}break;case 5:mt=x.stateNode,_n=!1;break e;case 3:case 4:mt=x.stateNode.containerInfo,_n=!0;break e}x=x.return}if(mt===null)throw Error(s(160));C_(f,_,d),mt=null,_n=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)k_(r,t),r=r.sibling}var hr=null;function k_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(r,t),bn(t),l&4&&(Ki(3,t,t.return),Il(3,t),Ki(5,t,t.return));break;case 1:vn(r,t),bn(t),l&512&&(Vt||a===null||zr(a,a.return)),l&64&&li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=hr;if(vn(r,t),bn(t),l&512&&(Vt||a===null||zr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Sr]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Zt(f,l,a),f[It]=t,Nt(f),l=f;break e;case"link":var _=kv("link","href",d).get(l+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(f=_[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break t}}f=d.createElement(l),Zt(f,l,a),d.head.appendChild(f);break;case"meta":if(_=kv("meta","content",d).get(l+(a.content||""))){for(x=0;x<_.length;x++)if(f=_[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break t}}f=d.createElement(l),Zt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[It]=t,Nt(f),l=f}t.stateNode=l}else Dv(d,t.type,t.stateNode);else t.stateNode=Nv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Dv(d,t.type,t.stateNode):Nv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vf(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(r,t),bn(t),l&512&&(Vt||a===null||zr(a,a.return)),a!==null&&l&4&&Vf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(r,t),bn(t),l&512&&(Vt||a===null||zr(a,a.return)),t.flags&32){d=t.stateNode;try{yn(d,"")}catch(me){et(t,t.return,me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Vf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(jf=!0);break;case 6:if(vn(r,t),bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){et(t,t.return,me)}}break;case 3:if(eh=null,d=hr,hr=Jc(r.containerInfo),vn(r,t),hr=d,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(me){et(t,t.return,me)}jf&&(jf=!1,D_(t));break;case 4:l=hr,hr=Jc(t.stateNode.containerInfo),vn(r,t),bn(t),hr=l;break;case 12:vn(r,t),bn(t);break;case 31:vn(r,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 13:vn(r,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 22:d=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=li,W=Vt;if(li=H||d,Vt=W||N,vn(r,t),Vt=W,li=H,bn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||N||li||Vt||sa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(f=N.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=N.stateNode;var re=N.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){et(N,N.return,me)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(me){et(N,N.return,me)}}}else if(r.tag===18){if(a===null){N=r;try{var $=N.stateNode;d?Ev($,!0):Ev(N.stateNode,!1)}catch(me){et(N,N.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jc(t,a))));break;case 19:vn(r,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 30:break;case 21:break;default:vn(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(x_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Pf(t);Lc(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(yn(_,""),a.flags&=-33);var x=Pf(t);Lc(t,x,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Pf(t);Lf(t,H,N);break;default:throw Error(s(161))}}catch(W){et(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function D_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;D_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ci(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S_(t,r.alternate,r),r=r.sibling}function sa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ki(4,r,r.return),sa(r);break;case 1:zr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&E_(r,r.return,a),sa(r);break;case 27:Ul(r.stateNode);case 26:case 5:zr(r,r.return),sa(r);break;case 22:r.memoizedState===null&&sa(r);break;case 30:sa(r);break;default:sa(r)}t=t.sibling}}function hi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:hi(d,f,a),Il(4,f);break;case 1:if(hi(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){et(l,l.return,H)}if(l=f,d=l.updateQueue,d!==null){var x=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)uy(N[d],x)}catch(H){et(l,l.return,H)}}a&&_&64&&b_(f),Nl(f,f.return);break;case 27:w_(f);case 26:case 5:hi(d,f,a),a&&l===null&&_&4&&T_(f),Nl(f,f.return);break;case 12:hi(d,f,a);break;case 31:hi(d,f,a),a&&_&4&&I_(d,f);break;case 13:hi(d,f,a),a&&_&4&&N_(d,f);break;case 22:f.memoizedState===null&&hi(d,f,a),Nl(f,f.return);break;case 30:break;default:hi(d,f,a)}r=r.sibling}}function Uf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function zf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&gl(t))}function dr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O_(t,r,a,l),r=r.sibling}function O_(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:dr(t,r,a,l),d&2048&&Il(9,r);break;case 1:dr(t,r,a,l);break;case 3:dr(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&gl(t)));break;case 12:if(d&2048){dr(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,_=f.id,x=f.onPostCommit;typeof x=="function"&&x(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){et(r,r.return,N)}}else dr(t,r,a,l);break;case 31:dr(t,r,a,l);break;case 13:dr(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?dr(t,r,a,l):kl(t,r):f._visibility&2?dr(t,r,a,l):(f._visibility|=2,Za(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Uf(_,r);break;case 24:dr(t,r,a,l),d&2048&&zf(r.alternate,r);break;default:dr(t,r,a,l)}}function Za(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,_=r,x=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Za(f,_,x,N,d),Il(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Za(f,_,x,N,d):kl(f,_):(W._visibility|=2,Za(f,_,x,N,d)),d&&H&2048&&Uf(_.alternate,_);break;case 24:Za(f,_,x,N,d),d&&H&2048&&zf(_.alternate,_);break;default:Za(f,_,x,N,d)}r=r.sibling}}function kl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:kl(a,l),d&2048&&Uf(l.alternate,l);break;case 24:kl(a,l),d&2048&&zf(l.alternate,l);break;default:kl(a,l)}r=r.sibling}}var Dl=8192;function eo(t,r,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)M_(t,r,a),t=t.sibling}function M_(t,r,a){switch(t.tag){case 26:eo(t,r,a),t.flags&Dl&&t.memoizedState!==null&&gw(a,hr,t.memoizedState,t.memoizedProps);break;case 5:eo(t,r,a);break;case 3:case 4:var l=hr;hr=Jc(t.stateNode.containerInfo),eo(t,r,a),hr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,eo(t,r,a),Dl=l):eo(t,r,a));break;default:eo(t,r,a)}}function V_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ol(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ht=l,L_(l,t)}V_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P_(t),t=t.sibling}function P_(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Uc(t)):Ol(t);break;default:Ol(t)}}function Uc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ht=l,L_(l,t)}V_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ki(8,r,r.return),Uc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(r));break;default:Uc(r)}t=t.sibling}}function L_(t,r){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Ki(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var d=l.sibling,f=l.return;if(R_(l),l===a){Ht=null;break e}if(d!==null){d.return=f,Ht=d;break e}Ht=f}}}var kx={getCacheForType:function(t){var r=Wt(Dt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Wt(Dt).controller.signal}},Dx=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Pe=null,je=0,Ze=0,kn=null,Yi=!1,to=!1,Bf=!1,di=0,bt=0,$i=0,aa=0,qf=0,Dn=0,no=0,Ml=null,En=null,Hf=!1,zc=0,j_=0,Bc=1/0,qc=null,Xi=null,Ut=0,Wi=null,ro=null,fi=0,Ff=0,Gf=null,U_=null,Vl=0,Qf=null;function On(){return($e&2)!==0&&je!==0?je&-je:U.T!==null?Jf():Hu()}function z_(){if(Dn===0)if((je&536870912)===0||He){var t=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),Dn=t}else Dn=536870912;return t=In.current,t!==null&&(t.flags|=32),Dn}function Tn(t,r,a){(t===at&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(io(t,0),Ji(t,je,Dn,!1)),Ms(t,a),(($e&2)===0||t!==at)&&(t===at&&(($e&2)===0&&(aa|=a),bt===4&&Ji(t,je,Dn,!1)),Br(t))}function B_(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||nr(t,r),d=l?Vx(t,r):Yf(t,r,!0),f=l;do{if(d===0){to&&!l&&Ji(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!Ox(a)){d=Yf(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var x=t;d=Ml;var N=x.current.memoizedState.isDehydrated;if(N&&(io(x,_).flags|=256),_=Yf(x,_,!1),_!==2){if(Bf&&!N){x.errorRecoveryDisabledLanes|=f,aa|=f,d=4;break e}f=En,En=d,f!==null&&(En===null?En=f:En.push.apply(En,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){io(t,0),Ji(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ji(l,r,Dn,!Yi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=zc+300-Kt(),10<d)){if(Ji(l,r,Dn,!Yi),xr(l,0,!0)!==0)break e;fi=r,l.timeoutHandle=_v(q_.bind(null,l,a,En,qc,Hf,r,Dn,aa,no,Yi,f,"Throttled",-0,0),d);break e}q_(l,a,En,qc,Hf,r,Dn,aa,no,Yi,f,null,-0,0)}}break}while(!0);Br(t)}function q_(t,r,a,l,d,f,_,x,N,H,W,re,G,$){if(t.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},M_(r,f,re);var me=(f&62914560)===f?zc-Kt():(f&4194048)===f?j_-Kt():0;if(me=yw(re,me),me!==null){fi=f,t.cancelPendingCommit=me(X_.bind(null,t,r,f,a,l,d,_,x,N,W,re,null,G,$)),Ji(t,f,_,!H);return}}X_(t,r,f,a,l,d,_,x,N)}function Ox(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Rn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ji(t,r,a,l){r&=~qf,r&=~aa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-Tt(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Vs(t,a,r)}function Hc(){return($e&6)===0?(Pl(0),!1):!0}function Kf(){if(Pe!==null){if(Ze===0)var t=Pe.return;else t=Pe,ni=Ws=null,uf(t),Ya=null,_l=0,t=Pe;for(;t!==null;)v_(t.alternate,t),t=t.return;Pe=null}}function io(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Zx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fi=0,Kf(),at=t,Pe=a=ei(t.current,null),je=r,Ze=0,kn=null,Yi=!1,to=nr(t,r),Bf=!1,no=Dn=qf=aa=$i=bt=0,En=Ml=null,Hf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-Tt(l),f=1<<d;r|=t[d],l&=~f}return di=r,cc(),a}function H_(t,r){Me=null,U.H=Sl,r===Ka||r===_c?(r=sy(),Ze=3):r===Xd?(r=sy(),Ze=4):Ze=r===Af?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Pe===null&&(bt=1,Dc(t,Gn(r,t.current)))}function F_(){var t=In.current;return t===null?!0:(je&4194048)===je?$n===null:(je&62914560)===je||(je&536870912)!==0?t===$n:!1}function G_(){var t=U.H;return U.H=Sl,t===null?Sl:t}function Q_(){var t=U.A;return U.A=kx,t}function Fc(){bt=4,Yi||(je&4194048)!==je&&In.current!==null||(to=!0),($i&134217727)===0&&(aa&134217727)===0||at===null||Ji(at,je,Dn,!1)}function Yf(t,r,a){var l=$e;$e|=2;var d=G_(),f=Q_();(at!==t||je!==r)&&(qc=null,io(t,r)),r=!1;var _=bt;e:do try{if(Ze!==0&&Pe!==null){var x=Pe,N=kn;switch(Ze){case 8:Kf(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var H=Ze;if(Ze=0,kn=null,so(t,x,N,H),a&&to){_=0;break e}break;default:H=Ze,Ze=0,kn=null,so(t,x,N,H)}}Mx(),_=bt;break}catch(W){H_(t,W)}while(!0);return r&&t.shellSuspendCounter++,ni=Ws=null,$e=l,U.H=d,U.A=f,Pe===null&&(at=null,je=0,cc()),_}function Mx(){for(;Pe!==null;)K_(Pe)}function Vx(t,r){var a=$e;$e|=2;var l=G_(),d=Q_();at!==t||je!==r?(qc=null,Bc=Kt()+500,io(t,r)):to=nr(t,r);e:do try{if(Ze!==0&&Pe!==null){r=Pe;var f=kn;t:switch(Ze){case 1:Ze=0,kn=null,so(t,r,f,1);break;case 2:case 9:if(ry(f)){Ze=0,kn=null,Y_(r);break}r=function(){Ze!==2&&Ze!==9||at!==t||(Ze=7),Br(t)},f.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:ry(f)?(Ze=0,kn=null,Y_(r)):(Ze=0,kn=null,so(t,r,f,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var x=Pe;if(_?Ov(_):x.stateNode.complete){Ze=0,kn=null;var N=x.sibling;if(N!==null)Pe=N;else{var H=x.return;H!==null?(Pe=H,Gc(H)):Pe=null}break t}}Ze=0,kn=null,so(t,r,f,5);break;case 6:Ze=0,kn=null,so(t,r,f,6);break;case 8:Kf(),bt=6;break e;default:throw Error(s(462))}}Px();break}catch(W){H_(t,W)}while(!0);return ni=Ws=null,U.H=l,U.A=d,$e=a,Pe!==null?0:(at=null,je=0,cc(),bt)}function Px(){for(;Pe!==null&&!ks();)K_(Pe)}function K_(t){var r=y_(t.alternate,t,di);t.memoizedProps=t.pendingProps,r===null?Gc(t):Pe=r}function Y_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=h_(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=h_(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:uf(r);default:v_(a,r),r=Pe=Qg(r,di),r=y_(a,r,di)}t.memoizedProps=t.pendingProps,r===null?Gc(t):Pe=r}function so(t,r,a,l){ni=Ws=null,uf(r),Ya=null,_l=0;var d=r.return;try{if(wx(t,d,r,a,je)){bt=1,Dc(t,Gn(a,t.current)),Pe=null;return}}catch(f){if(d!==null)throw Pe=d,f;bt=1,Dc(t,Gn(a,t.current)),Pe=null;return}r.flags&32768?(He||l===1?t=!0:to||(je&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),$_(r,t)):Gc(r)}function Gc(t){var r=t;do{if((r.flags&32768)!==0){$_(r,Yi);return}t=r.return;var a=Rx(r.alternate,r,di);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);bt===0&&(bt=5)}function $_(t,r){do{var a=Cx(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);bt=6,Pe=null}function X_(t,r,a,l,d,f,_,x,N){t.cancelPendingCommit=null;do Qc();while(Ut!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Vd,Sd(t,a,f,_,x,N),t===at&&(Pe=at=null,je=0),ro=r,Wi=t,fi=a,Ff=f,Gf=d,U_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zx(Ci,function(){return tv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,d=Y.p,Y.p=2,_=$e,$e|=4;try{Ix(t,r,a)}finally{$e=_,Y.p=d,U.T=l}}Ut=1,W_(),J_(),Z_()}}function W_(){if(Ut===1){Ut=0;var t=Wi,r=ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=Y.p;Y.p=2;var d=$e;$e|=4;try{k_(r,t);var f=am,_=Lg(t.containerInfo),x=f.focusedElem,N=f.selectionRange;if(_!==x&&x&&x.ownerDocument&&Pg(x.ownerDocument.documentElement,x)){if(N!==null&&Nd(x)){var H=N.start,W=N.end;if(W===void 0&&(W=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(W,x.value.length);else{var re=x.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var $=G.getSelection(),me=x.textContent.length,xe=Math.min(N.start,me),it=N.end===void 0?xe:Math.min(N.end,me);!$.extend&&xe>it&&(_=it,it=xe,xe=_);var j=Vg(x,xe),V=Vg(x,it);if(j&&V&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var q=re.createRange();q.setStart(j.node,j.offset),$.removeAllRanges(),xe>it?($.addRange(q),$.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),$.addRange(q))}}}}for(re=[],$=x;$=$.parentNode;)$.nodeType===1&&re.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<re.length;x++){var ee=re[x];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}ih=!!sm,am=sm=null}finally{$e=d,Y.p=l,U.T=a}}t.current=r,Ut=2}}function J_(){if(Ut===2){Ut=0;var t=Wi,r=ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=Y.p;Y.p=2;var d=$e;$e|=4;try{S_(t,r.alternate,r)}finally{$e=d,Y.p=l,U.T=a}}Ut=3}}function Z_(){if(Ut===4||Ut===3){Ut=0,xa();var t=Wi,r=ro,a=fi,l=U_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,ro=Wi=null,ev(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Xi=null),Xr(a),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(tr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=U.T,d=Y.p,Y.p=2,U.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var x=l[_];f(x.value,{componentStack:x.stack})}}finally{U.T=r,Y.p=d}}(fi&3)!==0&&Qc(),Br(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Qf?Vl++:(Vl=0,Qf=t):Vl=0,Pl(0)}}function ev(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,gl(r)))}function Qc(){return W_(),J_(),Z_(),tv()}function tv(){if(Ut!==5)return!1;var t=Wi,r=Ff;Ff=0;var a=Xr(fi),l=U.T,d=Y.p;try{Y.p=32>a?32:a,U.T=null,a=Gf,Gf=null;var f=Wi,_=fi;if(Ut=0,ro=Wi=null,fi=0,($e&6)!==0)throw Error(s(331));var x=$e;if($e|=4,P_(f.current),O_(f,f.current,_,a),$e=x,Pl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(tr,f)}catch{}return!0}finally{Y.p=d,U.T=l,ev(t,r)}}function nv(t,r,a){r=Gn(a,r),r=wf(t.stateNode,r,2),t=Fi(t,r,2),t!==null&&(Ms(t,2),Br(t))}function et(t,r,a){if(t.tag===3)nv(t,t,a);else for(;r!==null;){if(r.tag===3){nv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){t=Gn(a,t),a=r_(2),l=Fi(r,a,2),l!==null&&(i_(a,l,r,t),Ms(l,2),Br(l));break}}r=r.return}}function $f(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Dx;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(Bf=!0,d.add(a),t=Lx.bind(null,t,r,a),r.then(t,t))}function Lx(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(je&a)===a&&(bt===4||bt===3&&(je&62914560)===je&&300>Kt()-zc?($e&2)===0&&io(t,0):qf|=a,no===je&&(no=0)),Br(t)}function rv(t,r){r===0&&(r=qu()),t=Ys(t,r),t!==null&&(Ms(t,r),Br(t))}function jx(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),rv(t,a)}function Ux(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),rv(t,a)}function zx(t,r){return We(t,r)}var Kc=null,ao=null,Xf=!1,Yc=!1,Wf=!1,Zi=0;function Br(t){t!==ao&&t.next===null&&(ao===null?Kc=ao=t:ao=ao.next=t),Yc=!0,Xf||(Xf=!0,qx())}function Pl(t,r){if(!Wf&&Yc){Wf=!0;do for(var a=!1,l=Kc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=d&~(_&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ov(l,f))}else f=je,f=xr(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||nr(l,f)||(a=!0,ov(l,f));l=l.next}while(a);Wf=!1}}function Bx(){iv()}function iv(){Yc=Xf=!1;var t=0;Zi!==0&&Jx()&&(t=Zi);for(var r=Kt(),a=null,l=Kc;l!==null;){var d=l.next,f=sv(l,r);f===0?(l.next=null,a===null?Kc=d:a.next=d,d===null&&(ao=a)):(a=l,(t!==0||(f&3)!==0)&&(Yc=!0)),l=d}Ut!==0&&Ut!==5||Pl(t),Zi!==0&&(Zi=0)}function sv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Tt(f),x=1<<_,N=d[_];N===-1?((x&a)===0||(x&l)!==0)&&(d[_]=Ad(x,r)):N<=r&&(t.expiredLanes|=x),f&=~x}if(r=at,a=je,a=xr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||nr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&pn(l),Xr(a)){case 2:case 8:a=Qo;break;case 32:a=Ci;break;case 268435456:a=Lu;break;default:a=Ci}return l=av.bind(null,t),a=We(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&pn(l),t.callbackPriority=2,t.callbackNode=null,2}function av(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qc()&&t.callbackNode!==a)return null;var l=je;return l=xr(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(B_(t,l,r),sv(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?av.bind(null,t):null)}function ov(t,r){if(Qc())return null;B_(t,r,!0)}function qx(){ew(function(){($e&6)!==0?We(Go,Bx):iv()})}function Jf(){if(Zi===0){var t=Ga;t===0&&(t=Er,Er<<=1,(Er&261888)===0&&(Er=256)),Zi=t}return Zi}function lv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function uv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Hx(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=lv((d[Bt]||null).action),_=l.submitter;_&&(r=(r=_[Bt]||null)?lv(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var x=new Mr("action","action",null,l,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zi!==0){var N=_?uv(d,_):new FormData(d);_f(a,{pending:!0,data:N,method:d.method,action:f},null,N)}}else typeof f=="function"&&(x.preventDefault(),N=_?uv(d,_):new FormData(d),_f(a,{pending:!0,data:N,method:d.method,action:f},f,N))},currentTarget:d}]})}}for(var Zf=0;Zf<Md.length;Zf++){var em=Md[Zf],Fx=em.toLowerCase(),Gx=em[0].toUpperCase()+em.slice(1);cr(Fx,"on"+Gx)}cr(zg,"onAnimationEnd"),cr(Bg,"onAnimationIteration"),cr(qg,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(ox,"onTransitionRun"),cr(lx,"onTransitionStart"),cr(ux,"onTransitionCancel"),cr(Hg,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function cv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var _=l.length-1;0<=_;_--){var x=l[_],N=x.instance,H=x.currentTarget;if(x=x.listener,N!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=H;try{f(d)}catch(W){uc(W)}d.currentTarget=null,f=N}else for(_=0;_<l.length;_++){if(x=l[_],N=x.instance,H=x.currentTarget,x=x.listener,N!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=H;try{f(d)}catch(W){uc(W)}d.currentTarget=null,f=N}}}}function Le(t,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var l=t+"__bubble";a.has(l)||(hv(r,t,2,!1),a.add(l))}function tm(t,r,a){var l=0;r&&(l|=4),hv(a,t,l,r)}var $c="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[$c]){t[$c]=!0,$o.forEach(function(a){a!=="selectionchange"&&(Qx.has(a)||tm(a,!1,t),tm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[$c]||(r[$c]=!0,tm("selectionchange",!1,r))}}function hv(t,r,a,l){switch(zv(r)){case 2:var d=bw;break;case 8:d=Ew;break;default:d=ym}a=d.bind(null,r,a,t),d=void 0,!zs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function rm(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var x=l.stateNode.containerInfo;if(x===d)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;x!==null;){if(_=Rr(x),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=f=_;continue e}x=x.parentNode}}l=l.return}Mi(function(){var H=f,W=Bn(a),re=[];e:{var G=Fg.get(t);if(G!==void 0){var $=Mr,me=t;switch(t){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":$=ac;break;case"focusin":me="focus",$=Fs;break;case"focusout":me="blur",$=Fs;break;case"beforeblur":case"afterblur":$=Fs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case zg:case Bg:case qg:$=Zu;break;case Hg:$=w;break;case"scroll":case"scrollend":$=ol;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Zr;break;case"toggle":case"beforetoggle":$=Oe}var xe=(r&4)!==0,it=!xe&&(t==="scroll"||t==="scrollend"),j=xe?G!==null?G+"Capture":null:G;xe=[];for(var V=H,q;V!==null;){var ee=V;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||j===null||(ee=ar(V,j),ee!=null&&xe.push(jl(V,ee,q))),it)break;V=V.return}0<xe.length&&(G=new $(G,me,null,a,W),re.push({event:G,listeners:xe}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==il&&(me=a.relatedTarget||a.fromElement)&&(Rr(me)||me[Ar]))break e;if(($||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,$?(me=a.relatedTarget||a.toElement,$=H,me=me?Rr(me):null,me!==null&&(it=u(me),xe=me.tag,me!==it||xe!==5&&xe!==27&&xe!==6)&&(me=null)):($=null,me=H),$!==me)){if(xe=ll,ee="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Zr,ee="onPointerLeave",j="onPointerEnter",V="pointer"),it=$==null?G:An($),q=me==null?G:An(me),G=new xe(ee,V+"leave",$,a,W),G.target=it,G.relatedTarget=q,ee=null,Rr(W)===H&&(xe=new xe(j,V+"enter",me,a,W),xe.target=q,xe.relatedTarget=it,ee=xe),it=ee,$&&me)t:{for(xe=Kx,j=$,V=me,q=0,ee=j;ee;ee=xe(ee))q++;ee=0;for(var ve=V;ve;ve=xe(ve))ee++;for(;0<q-ee;)j=xe(j),q--;for(;0<ee-q;)V=xe(V),ee--;for(;q--;){if(j===V||V!==null&&j===V.alternate){xe=j;break t}j=xe(j),V=xe(V)}xe=null}else xe=null;$!==null&&dv(re,G,$,xe,!1),me!==null&&it!==null&&dv(re,it,me,xe,!0)}}e:{if(G=H?An(H):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Qe=Ig;else if(Rg(G))if(Ng)Qe=ix;else{Qe=nx;var ge=tx}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ia(H.elementType)&&(Qe=Ig):Qe=rx;if(Qe&&(Qe=Qe(t,H))){Cg(re,Qe,a,W);break e}ge&&ge(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&tl(G,"number",G.value)}switch(ge=H?An(H):window,t){case"focusin":(Rg(ge)||ge.contentEditable==="true")&&(La=ge,kd=H,fl=null);break;case"focusout":fl=kd=La=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,jg(re,a,W);break;case"selectionchange":if(ax)break;case"keydown":case"keyup":jg(re,a,W)}var Ve;if(Ye)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Pa?Gs(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Lr&&a.locale!=="ko"&&(Pa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Pa&&(Ve=al()):(Or=W,sl="value"in Or?Or.value:Or.textContent,Pa=!0)),ge=Xc(H,Ue),0<ge.length&&(Ue=new Pr(Ue,t,null,a,W),re.push({event:Ue,listeners:ge}),Ve?Ue.data=Ve:(Ve=Va(a),Ve!==null&&(Ue.data=Ve)))),(Ve=Hn?W1(t,a):J1(t,a))&&(Ue=Xc(H,"onBeforeInput"),0<Ue.length&&(ge=new Pr("onBeforeInput","beforeinput",null,a,W),re.push({event:ge,listeners:Ue}),ge.data=Ve)),Hx(re,t,H,a,W)}cv(re,r)})}function jl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Xc(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ar(t,a),d!=null&&l.unshift(jl(t,d,f)),d=ar(t,r),d!=null&&l.push(jl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Kx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dv(t,r,a,l,d){for(var f=r._reactName,_=[];a!==null&&a!==l;){var x=a,N=x.alternate,H=x.stateNode;if(x=x.tag,N!==null&&N===l)break;x!==5&&x!==26&&x!==27||H===null||(N=H,d?(H=ar(a,f),H!=null&&_.unshift(jl(a,H,N))):d||(H=ar(a,f),H!=null&&_.push(jl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Yx=/\r\n?/g,$x=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace(Yx,`
`).replace($x,"")}function mv(t,r){return r=fv(r),fv(t)===r}function rt(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&yn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":rl(t,l,f);break;case"data":if(r!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&rt(t,r,"name",d.name,d,null),rt(t,r,"formEncType",d.formEncType,d,null),rt(t,r,"formMethod",d.formMethod,d,null),rt(t,r,"formTarget",d.formTarget,d,null)):(rt(t,r,"encType",d.encType,d,null),rt(t,r,"method",d.method,d,null),rt(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=sr);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xu.get(a)||a,Ra(t,a,l))}}function im(t,r,a,l,d,f){switch(a){case"style":rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[Bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function Zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,f,_,a,null)}}d&&rt(t,r,"srcSet",a.srcSet,a,null),l&&rt(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var x=f=_=d=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":_=W;break;case"checked":N=W;break;case"defaultChecked":H=W;break;case"value":f=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:rt(t,r,l,W,a,null)}}Ku(t,f,x,N,H,_,d,!1);return;case"select":Le("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(x=a[d],x!=null))switch(d){case"value":f=x;break;case"defaultValue":_=x;break;case"multiple":l=x;default:rt(t,r,d,x,a,null)}r=f,a=_,t.multiple=!!l,r!=null?Ni(t,!!l,r,!1):a!=null&&Ni(t,!!l,a,!0);return;case"textarea":Le("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":l=x;break;case"defaultValue":d=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:rt(t,r,_,x,a,null)}ki(t,l,d,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,r,N,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Le(Ll[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,H,l,a,null)}return;default:if(Ia(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&im(t,r,W,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&rt(t,r,x,l,a,null))}function Xx(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,x=null,N=null,H=null,W=null;for($ in a){var re=a[$];if(a.hasOwnProperty($)&&re!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=re;default:l.hasOwnProperty($)||rt(t,r,$,null,l,re)}}for(var G in l){var $=l[G];if(re=a[G],l.hasOwnProperty(G)&&($!=null||re!=null))switch(G){case"type":f=$;break;case"name":d=$;break;case"checked":H=$;break;case"defaultChecked":W=$;break;case"value":_=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==re&&rt(t,r,G,$,l,re)}}Ca(t,_,x,N,H,W,f,d);return;case"select":$=_=x=G=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(f)||rt(t,r,f,null,l,N)}for(d in l)if(f=l[d],N=a[d],l.hasOwnProperty(d)&&(f!=null||N!=null))switch(d){case"value":G=f;break;case"defaultValue":x=f;break;case"multiple":_=f;default:f!==N&&rt(t,r,d,f,l,N)}r=x,a=_,l=$,G!=null?Ni(t,!!a,G,!1):!!l!=!!a&&(r!=null?Ni(t,!!a,r,!0):Ni(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(x in a)if(d=a[x],a.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:rt(t,r,x,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":G=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&rt(t,r,_,d,l,f)}Yu(t,G,$);return;case"option":for(var me in a)if(G=a[me],a.hasOwnProperty(me)&&G!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:rt(t,r,me,null,l,G)}for(N in l)if(G=l[N],$=a[N],l.hasOwnProperty(N)&&G!==$&&(G!=null||$!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:rt(t,r,N,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)G=a[xe],a.hasOwnProperty(xe)&&G!=null&&!l.hasOwnProperty(xe)&&rt(t,r,xe,null,l,G);for(H in l)if(G=l[H],$=a[H],l.hasOwnProperty(H)&&G!==$&&(G!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:rt(t,r,H,G,l,$)}return;default:if(Ia(r)){for(var it in a)G=a[it],a.hasOwnProperty(it)&&G!==void 0&&!l.hasOwnProperty(it)&&im(t,r,it,void 0,l,G);for(W in l)G=l[W],$=a[W],!l.hasOwnProperty(W)||G===$||G===void 0&&$===void 0||im(t,r,W,G,l,$);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&rt(t,r,j,null,l,G);for(re in l)G=l[re],$=a[re],!l.hasOwnProperty(re)||G===$||G==null&&$==null||rt(t,r,re,G,l,$)}function pv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,x=d.duration;if(f&&x&&pv(_)){for(_=0,x=d.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>x)break;var W=N.transferSize,re=N.initiatorType;W&&pv(re)&&(N=N.responseEnd,_+=W*(N<x?1:(x-H)/(N-H)))}if(--l,r+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sm=null,am=null;function Wc(t){return t.nodeType===9?t:t.ownerDocument}function gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function om(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lm=null;function Jx(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,ew=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(tw)}:_v;function tw(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function bv(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var f=a.firstChild;f;){var _=f.nextSibling,x=f.nodeName;f[Sr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Ul(t.ownerDocument.body);a=d}while(a);co(r)}function Ev(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function um(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function nw(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Sr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function rw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function Tv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Xn(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var dm=null;function xv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Xn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function wv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Av(t,r,a){switch(r=Wc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Sa(t)}var Wn=new Map,Sv=new Set;function Jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mi=Y.d;Y.d={f:sw,r:aw,D:ow,C:lw,L:uw,m:cw,X:dw,S:hw,M:fw};function sw(){var t=mi.f(),r=Hc();return t||r}function aw(t){var r=zn(t);r!==null&&r.tag===5&&r.type==="form"?Hy(r):mi.r(t)}var oo=typeof document>"u"?null:document;function Rv(t,r,a){var l=oo;if(l&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Sv.has(d)||(Sv.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Zt(r,"link",t),Nt(r),l.head.appendChild(r)))}}function ow(t){mi.D(t),Rv("dns-prefetch",t,null)}function lw(t,r){mi.C(t,r),Rv("preconnect",t,r)}function uw(t,r,a){mi.L(t,r,a);var l=oo;if(l&&t&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+gn(a.imageSizes)+'"]')):d+='[href="'+gn(t)+'"]';var f=d;switch(r){case"style":f=lo(t);break;case"script":f=uo(t)}Wn.has(f)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Wn.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(zl(f))||r==="script"&&l.querySelector(Bl(f))||(r=l.createElement("link"),Zt(r,"link",t),Nt(r),l.head.appendChild(r)))}}function cw(t,r){mi.m(t,r);var a=oo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(t)}if(!Wn.has(f)&&(t=T({rel:"modulepreload",href:t},r),Wn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(f)))return}l=a.createElement("link"),Zt(l,"link",t),Nt(l),a.head.appendChild(l)}}}function hw(t,r,a){mi.S(t,r,a);var l=oo;if(l&&t){var d=Cr(l).hoistableStyles,f=lo(t);r=r||"default";var _=d.get(f);if(!_){var x={loading:0,preload:null};if(_=l.querySelector(zl(f)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Wn.get(f))&&fm(t,a);var N=_=l.createElement("link");Nt(N),Zt(N,"link",t),N._p=new Promise(function(H,W){N.onload=H,N.onerror=W}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Zc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:x},d.set(f,_)}}}function dw(t,r){mi.X(t,r);var a=oo;if(a&&t){var l=Cr(a).hoistableScripts,d=uo(t),f=l.get(d);f||(f=a.querySelector(Bl(d)),f||(t=T({src:t,async:!0},r),(r=Wn.get(d))&&mm(t,r),f=a.createElement("script"),Nt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function fw(t,r){mi.M(t,r);var a=oo;if(a&&t){var l=Cr(a).hoistableScripts,d=uo(t),f=l.get(d);f||(f=a.querySelector(Bl(d)),f||(t=T({src:t,async:!0,type:"module"},r),(r=Wn.get(d))&&mm(t,r),f=a.createElement("script"),Nt(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Cv(t,r,a,l){var d=(d=Ee.current)?Jc(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=Cr(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var f=Cr(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(zl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),f||mw(d,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=Cr(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+gn(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function Iv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function mw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zt(r,"link",a),Nt(r),t.head.appendChild(r))}function uo(t){return'[src="'+gn(t)+'"]'}function Bl(t){return"script[async]"+t}function Nv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return r.instance=l,Nt(l),l;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Zt(l,"style",d),Zc(l,a.precedence,t),r.instance=l;case"stylesheet":d=lo(a.href);var f=t.querySelector(zl(d));if(f)return r.state.loading|=4,r.instance=f,Nt(f),f;l=Iv(a),(d=Wn.get(d))&&fm(l,d),f=(t.ownerDocument||t).createElement("link"),Nt(f);var _=f;return _._p=new Promise(function(x,N){_.onload=x,_.onerror=N}),Zt(f,"link",l),r.state.loading|=4,Zc(f,a.precedence,t),r.instance=f;case"script":return f=uo(a.src),(d=t.querySelector(Bl(f)))?(r.instance=d,Nt(d),d):(l=a,(d=Wn.get(f))&&(l=T({},a),mm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Nt(d),Zt(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Zc(l,a.precedence,t));return r.instance}function Zc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var x=l[_];if(x.dataset.precedence===r)f=x;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function fm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function mm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var eh=null;function kv(t,r,a){if(eh===null){var l=new Map,d=eh=new Map;d.set(a,l)}else d=eh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Sr]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=t+_;var x=l.get(_);x?x.push(f):l.set(_,[f])}}return l}function Dv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function pw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function gw(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=lo(l.href),f=r.querySelector(zl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=th.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,Nt(f);return}f=r.ownerDocument||r,l=Iv(l),(d=Wn.get(d))&&fm(l,d),f=f.createElement("link"),Nt(f);var _=f;_._p=new Promise(function(x,N){_.onload=x,_.onerror=N}),Zt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=th.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var pm=0;function yw(t,r){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&pm===0&&(pm=62500*Wx());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>pm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function th(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nh=null;function rh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nh=new Map,r.forEach(_w,t),nh=null,th.call(t))}function _w(t,r){if(!(r.state.loading&4)){var a=nh.get(t);if(a)var l=a.get(null);else{a=new Map,nh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=r.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=th.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var ql={$$typeof:J,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function vw(t,r,a,l,d,f,_,x,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Mv(t,r,a,l,d,f,_,x,N,H,W,re){return t=new vw(t,r,a,_,N,H,W,re,x),r=1,f===!0&&(r|=24),f=Cn(3,null,null,r),t.current=f,f.stateNode=t,r=Kd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Wd(f),t}function Vv(t){return t?(t=za,t):za}function Pv(t,r,a,l,d,f){d=Vv(d),l.context===null?l.context=d:l.pendingContext=d,l=Hi(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Fi(t,l,r),a!==null&&(Tn(a,t,r),bl(a,t,r))}function Lv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function gm(t,r){Lv(t,r),(t=t.alternate)&&Lv(t,r)}function jv(t){if(t.tag===13||t.tag===31){var r=Ys(t,67108864);r!==null&&Tn(r,t,67108864),gm(t,67108864)}}function Uv(t){if(t.tag===13||t.tag===31){var r=On();r=Ps(r);var a=Ys(t,r);a!==null&&Tn(a,t,r),gm(t,r)}}var ih=!0;function bw(t,r,a,l){var d=U.T;U.T=null;var f=Y.p;try{Y.p=2,ym(t,r,a,l)}finally{Y.p=f,U.T=d}}function Ew(t,r,a,l){var d=U.T;U.T=null;var f=Y.p;try{Y.p=8,ym(t,r,a,l)}finally{Y.p=f,U.T=d}}function ym(t,r,a,l){if(ih){var d=_m(l);if(d===null)rm(t,r,l,sh,a),Bv(t,l);else if(xw(d,t,r,a,l))l.stopPropagation();else if(Bv(t,l),r&4&&-1<Tw.indexOf(t)){for(;d!==null;){var f=zn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Tr(f.pendingLanes);if(_!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var N=1<<31-Tt(_);x.entanglements[1]|=N,_&=~N}Br(f),($e&6)===0&&(Bc=Kt()+500,Pl(0))}}break;case 31:case 13:x=Ys(f,2),x!==null&&Tn(x,f,2),Hc(),gm(f,2)}if(f=_m(l),f===null&&rm(t,r,l,sh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else rm(t,r,l,null,a)}}function _m(t){return t=Bn(t),vm(t)}var sh=null;function vm(t){if(sh=null,t=Rr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return sh=t,null}function zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ds()){case Go:return 2;case Qo:return 8;case Ci:case wd:return 32;case Lu:return 268435456;default:return 32}default:return 32}}var bm=!1,ts=null,ns=null,rs=null,Hl=new Map,Fl=new Map,is=[],Tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(t,r){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Gl(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=zn(r),r!==null&&jv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function xw(t,r,a,l,d){switch(r){case"focusin":return ts=Gl(ts,t,r,a,l,d),!0;case"dragenter":return ns=Gl(ns,t,r,a,l,d),!0;case"mouseover":return rs=Gl(rs,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return Hl.set(f,Gl(Hl.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Fl.set(f,Gl(Fl.get(f)||null,t,r,a,l,d)),!0}return!1}function qv(t){var r=Rr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,rr(t.priority,function(){Uv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,rr(t.priority,function(){Uv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=_m(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return r=zn(a),r!==null&&jv(r),t.blockedOn=a,!1;r.shift()}return!0}function Hv(t,r,a){ah(t)&&a.delete(r)}function ww(){bm=!1,ts!==null&&ah(ts)&&(ts=null),ns!==null&&ah(ns)&&(ns=null),rs!==null&&ah(rs)&&(rs=null),Hl.forEach(Hv),Fl.forEach(Hv)}function oh(t,r){t.blockedOn===r&&(t.blockedOn=null,bm||(bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ww)))}var lh=null;function Fv(t){lh!==t&&(lh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lh===t&&(lh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(vm(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(r,3),r-=3,_f(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function co(t){function r(N){return oh(N,t)}ts!==null&&oh(ts,t),ns!==null&&oh(ns,t),rs!==null&&oh(rs,t),Hl.forEach(r),Fl.forEach(r);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)qv(a),a.blockedOn===null&&is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Bt]||null;if(typeof f=="function")_||Fv(a);else if(_){var x=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Bt]||null)x=_.formAction;else if(vm(d)!==null)continue}else x=_.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),Fv(a)}}}function Gv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Em(t){this._internalRoot=t}uh.prototype.render=Em.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=On();Pv(a,l,t,r,null,null)},uh.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Pv(t.current,2,null,t,null,null),Hc(),r[Ar]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Hu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<is.length&&r!==0&&r<is[a].priority;a++);is.splice(a,0,t),a===0&&qv(t)}};var Qv=e.version;if(Qv!=="19.2.1")throw Error(s(527,Qv,"19.2.1"));Y.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Aw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{tr=ch.inject(Aw),Yt=ch}catch{}}return Kl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=Zy,f=e_,_=t_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Mv(t,1,!1,null,null,a,l,null,d,f,_,Gv),t[Ar]=r.current,nm(t),new Em(r)},Kl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=Zy,_=e_,x=t_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=Mv(t,1,!0,r,a??null,l,d,N,f,_,x,Gv),r.context=Vv(null),a=r.current,l=On(),l=Ps(l),d=Hi(l),d.callback=null,Fi(a,d,l),a=l,r.current.lanes=a,Ms(r,a),Br(r),t[Ar]=r.current,nm(t),new uh(r)},Kl.version="19.2.1",Kl}var n0;function Pw(){if(n0)return wm.exports;n0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wm.exports=Vw(),wm.exports}var Lw=Pw();const jw=Yb(Lw);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r0="popstate";function Uw(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ba(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Hm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:cu(u))}function s(o,u){Pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Bw(e,n,s,i)}function pt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Pn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zw(){return Math.random().toString(36).substring(2,10)}function i0(i,e){return{usr:i.state,key:i.key,idx:e}}function Hm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||s||zw()}}function cu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ba(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Bw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let B=E(),Z=B==null?null:B-g;g=B,p&&p({action:m,location:Q.location,delta:Z})}function A(B,Z){m="PUSH";let se=Hm(Q.location,B,Z);n&&n(se,B),g=E()+1;let J=i0(se,g),de=Q.createHref(se);try{h.pushState(J,"",de)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(de)}u&&p&&p({action:m,location:Q.location,delta:1})}function M(B,Z){m="REPLACE";let se=Hm(Q.location,B,Z);n&&n(se,B),g=E();let J=i0(se,g),de=Q.createHref(se);h.replaceState(J,"",de),u&&p&&p({action:m,location:Q.location,delta:0})}function F(B){return qw(B)}let Q={get action(){return m},get location(){return i(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(r0,T),p=B,()=>{o.removeEventListener(r0,T),p=null}},createHref(B){return e(o,B)},createURL:F,encodeLocation(B){let Z=F(B);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:M,go(B){return h.go(B)}};return Q}function qw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:cu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function $b(i,e,n="/"){return Hw(i,e,n,!1)}function Hw(i,e,n,s){let o=typeof e=="string"?ba(e):e,u=Ti(o.pathname||"/",n);if(u==null)return null;let h=Xb(i);Fw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=tA(u);m=Zw(h[p],g,s)}return m}function Xb(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;pt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=vi([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(pt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Xb(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:Ww(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of Wb(h.path))u(h,m,!0,g)}),e}function Wb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Wb(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Fw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Jw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Gw=/^:[\w-]+$/,Qw=3,Kw=2,Yw=1,$w=10,Xw=-2,s0=i=>i==="*";function Ww(i,e){let n=i.split("/"),s=n.length;return n.some(s0)&&(s+=Xw),e&&(s+=Kw),n.filter(o=>!s0(o)).reduce((o,u)=>o+(Gw.test(u)?Qw:u===""?Yw:$w),s)}function Jw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Zw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:vi([u,T.pathname]),pathnameBase:aA(vi([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=vi([u,T.pathnameBase]))}return h}function Oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=eA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let F=m[A]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const M=m[A];return T&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function eA(i,e=!1,n=!0){Pn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function tA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ti(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rA=i=>nA.test(i);function iA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ba(i):i,u;if(n)if(rA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Pn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=a0(n.substring(1),"/"):u=a0(n,e)}else u=e;return{pathname:u,search:oA(s),hash:lA(o)}}function a0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tp(i){let e=sA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xp(i,e,n,s=!1){let o;typeof i=="string"?o=ba(i):(o={...i},pt(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=iA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var vi=i=>i.join("/").replace(/\/\/+/g,"/"),aA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),oA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function uA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function cA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jb=["POST","PUT","PATCH","DELETE"];new Set(Jb);var hA=["GET",...Jb];new Set(hA);var Do=P.createContext(null);Do.displayName="DataRouter";var Zh=P.createContext(null);Zh.displayName="DataRouterState";P.createContext(!1);var Zb=P.createContext({isTransitioning:!1});Zb.displayName="ViewTransition";var dA=P.createContext(new Map);dA.displayName="Fetchers";var fA=P.createContext(null);fA.displayName="Await";var er=P.createContext(null);er.displayName="Navigation";var Tu=P.createContext(null);Tu.displayName="Location";var _r=P.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var wp=P.createContext(null);wp.displayName="RouteError";function mA(i,{relative:e}={}){pt(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(er),{hash:o,pathname:u,search:h}=xu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:vi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Oo(){return P.useContext(Tu)!=null}function xs(){return pt(Oo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Tu).location}var eE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tE(i){P.useContext(er).static||P.useLayoutEffect(i)}function Mo(){let{isDataRoute:i}=P.useContext(_r);return i?RA():pA()}function pA(){pt(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(Do),{basename:e,navigator:n}=P.useContext(er),{matches:s}=P.useContext(_r),{pathname:o}=xs(),u=JSON.stringify(Tp(s)),h=P.useRef(!1);return tE(()=>{h.current=!0}),P.useCallback((p,g={})=>{if(Pn(h.current,eE),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=xp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}P.createContext(null);function nE(){let{matches:i}=P.useContext(_r),e=i[i.length-1];return e?e.params:{}}function xu(i,{relative:e}={}){let{matches:n}=P.useContext(_r),{pathname:s}=xs(),o=JSON.stringify(Tp(n));return P.useMemo(()=>xp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function gA(i,e){return rE(i,e)}function rE(i,e,n,s,o){var se;pt(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(er),{matches:h}=P.useContext(_r),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";iE(g,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=xs(),M;if(e){let J=typeof e=="string"?ba(e):e;pt(E==="/"||((se=J.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),M=J}else M=A;let F=M.pathname||"/",Q=F;if(E!=="/"){let J=E.replace(/^\//,"").split("/");Q="/"+F.replace(/^\//,"").split("/").slice(J.length).join("/")}let B=$b(i,{pathname:Q});Pn(T||B!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Pn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=EA(B&&B.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:vi([E,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:vi([E,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),h,n,s,o);return e&&Z?P.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Z):Z}function yA(){let i=SA(),e=uA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var _A=P.createElement(yA,null),vA=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?P.createElement(_r.Provider,{value:this.props.routeContext},P.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bA({routeContext:i,match:e,children:n}){let s=P.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(_r.Provider,{value:i},n)}function EA(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);pt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:M}=n,F=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!M||M[T.route.id]===void 0);if(T.route.lazy||F){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{var A,M;s(E,{location:n.location,params:((M=(A=n.matches)==null?void 0:A[0])==null?void 0:M.params)??{},unstable_pattern:cA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let M,F=!1,Q=null,B=null;n&&(M=h&&T.route.id?h[T.route.id]:void 0,Q=T.route.errorElement||_A,m&&(p<0&&A===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,B=null):p===A&&(F=!0,B=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,A+1)),se=()=>{let J;return M?J=Q:F?J=B:T.route.Component?J=P.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=E,P.createElement(bA,{match:T,routeContext:{outlet:E,matches:Z,isDataRoute:n!=null},children:J})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?P.createElement(vA,{location:n.location,revalidation:n.revalidation,component:Q,error:M,children:se(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):se()},null)}function Ap(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(i){let e=P.useContext(Do);return pt(e,Ap(i)),e}function xA(i){let e=P.useContext(Zh);return pt(e,Ap(i)),e}function wA(i){let e=P.useContext(_r);return pt(e,Ap(i)),e}function Sp(i){let e=wA(i),n=e.matches[e.matches.length-1];return pt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function AA(){return Sp("useRouteId")}function SA(){var s;let i=P.useContext(wp),e=xA("useRouteError"),n=Sp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function RA(){let{router:i}=TA("useNavigate"),e=Sp("useNavigate"),n=P.useRef(!1);return tE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Pn(n.current,eE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var o0={};function iE(i,e,n){!e&&!o0[i]&&(o0[i]=!0,Pn(!1,n))}P.memo(CA);function CA({routes:i,future:e,state:n,unstable_onError:s}){return rE(i,void 0,n,s,e)}function IA({to:i,replace:e,state:n,relative:s}){pt(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(er);Pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(_r),{pathname:h}=xs(),m=Mo(),p=xp(i,Tp(u),h,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function fr(i){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){pt(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ba(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:M="default"}=n,F=P.useMemo(()=>{let Q=Ti(g,m);return Q==null?null:{location:{pathname:Q,search:E,hash:T,state:A,key:M},navigationType:s}},[m,g,E,T,A,M,s]);return Pn(F!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:P.createElement(er.Provider,{value:p},P.createElement(Tu.Provider,{children:e,value:F}))}function kA({children:i,location:e}){return gA(Fm(i),e)}function Fm(i,e=[]){let n=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Fm(s.props.children,u));return}pt(s.type===fr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fm(s.props.children,u)),n.push(h)}),n}var Eh="get",Th="application/x-www-form-urlencoded";function ed(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function DA(i){return ed(i)&&i.tagName.toLowerCase()==="button"}function OA(i){return ed(i)&&i.tagName.toLowerCase()==="form"}function MA(i){return ed(i)&&i.tagName.toLowerCase()==="input"}function VA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function PA(i,e){return i.button===0&&(!e||e==="_self")&&!VA(i)}var hh=null;function LA(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(i){return i!=null&&!jA.has(i)?(Pn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):i}function UA(i,e){let n,s,o,u,h;if(OA(i)){let m=i.getAttribute("action");s=m?Ti(m,e):null,n=i.getAttribute("method")||Eh,o=Im(i.getAttribute("enctype"))||Th,u=new FormData(i)}else if(DA(i)||MA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ti(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Eh,o=Im(i.getAttribute("formenctype"))||Im(m.getAttribute("enctype"))||Th,u=new FormData(m,i),!LA()){let{name:g,type:E,value:T}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(ed(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,s=null,o=Th,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function zA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ti(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function BA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function HA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await BA(u,n);return h.links?h.links():[]}return[]}));return KA(s.flat(1).filter(qA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l0(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function FA(i,e,{includeHydrateFallback:n}={}){return GA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function GA(i){return[...new Set(i)]}function QA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function KA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(QA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function sE(){let i=P.useContext(Do);return Rp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function YA(){let i=P.useContext(Zh);return Rp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cp=P.createContext(void 0);Cp.displayName="FrameworkContext";function aE(){let i=P.useContext(Cp);return Rp(i,"You must render this element inside a <HydratedRouter> element"),i}function $A(i,e){let n=P.useContext(Cp),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=P.useRef(null);P.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Q=Z=>{Z.forEach(se=>{h(se.isIntersecting)})},B=new IntersectionObserver(Q,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[i]),P.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Yl(m,M),onBlur:Yl(p,F),onMouseEnter:Yl(g,M),onMouseLeave:Yl(E,F),onTouchStart:Yl(T,M)}]:[!1,A,{}]}function Yl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function XA({page:i,...e}){let{router:n}=sE(),s=P.useMemo(()=>$b(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?P.createElement(JA,{page:i,matches:s,...e}):null}function WA(i){let{manifest:e,routeModules:n}=aE(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return HA(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function JA({page:i,matches:e,...n}){let s=xs(),{manifest:o,routeModules:u}=aE(),{basename:h}=sE(),{loaderData:m,matches:p}=YA(),g=P.useMemo(()=>l0(i,e,p,o,s,"data"),[i,e,p,o,s]),E=P.useMemo(()=>l0(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let F=new Set,Q=!1;if(e.forEach(Z=>{var J;let se=o.routes[Z.route.id];!se||!se.hasLoader||(!g.some(de=>de.route.id===Z.route.id)&&Z.route.id in m&&((J=u[Z.route.id])!=null&&J.shouldRevalidate)||se.hasClientLoader?Q=!0:F.add(Z.route.id))}),F.size===0)return[];let B=zA(i,h,"data");return Q&&F.size>0&&B.searchParams.set("_routes",e.filter(Z=>F.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[B.pathname+B.search]},[h,m,s,o,g,e,i,u]),A=P.useMemo(()=>FA(E,o),[E,o]),M=WA(E);return P.createElement(P.Fragment,null,T.map(F=>P.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),A.map(F=>P.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),M.map(({key:F,link:Q})=>P.createElement("link",{key:F,nonce:n.nonce,...Q})))}function ZA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oE&&(window.__reactRouterVersion="7.10.1")}catch{}function eS({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=Uw({window:s,v5Compat:!0}));let u=o.current,[h,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(NA,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...A},M){let{basename:F,unstable_useTransitions:Q}=P.useContext(er),B=typeof g=="string"&&lE.test(g),Z,se=!1;if(typeof g=="string"&&B&&(Z=g,oE))try{let O=new URL(window.location.href),D=g.startsWith("//")?new URL(O.protocol+g):new URL(g),L=Ti(D.pathname,F);D.origin===O.origin&&L!=null?g=L+D.search+D.hash:se=!0}catch{Pn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=mA(g,{relative:o}),[de,Te,we]=$A(s,A),R=iS(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:Q});function S(O){e&&e(O),O.defaultPrevented||R(O)}let I=P.createElement("a",{...A,...we,href:Z||J,onClick:se||u?e:S,ref:ZA(M,Te),target:p,"data-discover":!B&&n==="render"?"true":void 0});return de&&!B?P.createElement(P.Fragment,null,I,P.createElement(XA,{page:J})):I});gt.displayName="Link";var tS=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=xu(h,{relative:g.relative}),A=xs(),M=P.useContext(Zh),{navigator:F,basename:Q}=P.useContext(er),B=M!=null&&uS(T)&&m===!0,Z=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,se=A.pathname,J=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(se=se.toLowerCase(),J=J?J.toLowerCase():null,Z=Z.toLowerCase()),J&&Q&&(J=Ti(J,Q)||J);const de=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Te=se===Z||!o&&se.startsWith(Z)&&se.charAt(de)==="/",we=J!=null&&(J===Z||!o&&J.startsWith(Z)&&J.charAt(Z.length)==="/"),R={isActive:Te,isPending:we,isTransitioning:B},S=Te?e:void 0,I;typeof s=="function"?I=s(R):I=[s,Te?"active":null,we?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(R):u;return P.createElement(gt,{...g,"aria-current":S,className:I,ref:E,style:O,to:h,viewTransition:m},typeof p=="function"?p(R):p)});tS.displayName="NavLink";var nS=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Eh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...A},M)=>{let{unstable_useTransitions:F}=P.useContext(er),Q=oS(),B=lS(m,{relative:g}),Z=h.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&lE.test(m),J=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let Te=de.nativeEvent.submitter,we=(Te==null?void 0:Te.getAttribute("formmethod"))||h,R=()=>Q(Te||de.currentTarget,{fetcherKey:e,method:we,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});F&&n!==!1?P.startTransition(()=>R()):R()};return P.createElement("form",{ref:M,method:Z,action:B,onSubmit:s?p:J,...A,"data-discover":!se&&i==="render"?"true":void 0})});nS.displayName="Form";function rS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(i){let e=P.useContext(Do);return pt(e,rS(i)),e}function iS(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_useTransitions:m}={}){let p=Mo(),g=xs(),E=xu(i,{relative:u});return P.useCallback(T=>{if(PA(T,e)){T.preventDefault();let A=n!==void 0?n:cu(g)===cu(E),M=()=>p(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h});m?P.startTransition(()=>M()):M()}},[g,p,E,n,s,e,i,o,u,h,m])}var sS=0,aS=()=>`__${String(++sS)}__`;function oS(){let{router:i}=uE("useSubmit"),{basename:e}=P.useContext(er),n=AA(),s=i.fetch,o=i.navigate;return P.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=UA(u,e);if(h.navigate===!1){let A=h.fetcherKey||aS();await s(A,n,h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function lS(i,{relative:e}={}){let{basename:n}=P.useContext(er),s=P.useContext(_r);pt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...xu(i||".",{relative:e})},h=xs();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vi([n,u.pathname])),cu(u)}function uS(i,{relative:e}={}){let n=P.useContext(Zb);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uE("useViewTransitionState"),o=xu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ti(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ti(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Oh(o.pathname,h)!=null||Oh(o.pathname,u)!=null}const cS=()=>{};var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(A=64)),s.push(n[E],n[T],n[A],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(cE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):hS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new dS;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(i){const e=cE(i);return hE.encodeByteArray(e,!0)},Mh=function(i){return fS(i).replace(/\./g,"")},dE=function(i){try{return hE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=()=>mS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof u0>"u")return;const i=u0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&dE(i[1]);return e&&JSON.parse(e)},td=()=>{try{return cS()||pS()||gS()||yS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},fE=i=>{var e,n;return(n=(e=td())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},_S=i=>{const e=fE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},mE=()=>{var i;return(i=td())==null?void 0:i.config},pE=i=>{var e;return(e=td())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(h)),""].join(".")}const iu={};function ES(){const i={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?i.emulator.push(e):i.prod.push(e);return i}function TS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let c0=!1;function yE(i,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||iu[i]===e||iu[i]||c0)return;iu[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=ES().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{c0=!0,h()},A}function E(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=TS(s),M=n("text"),F=document.getElementById(M)||document.createElement("span"),Q=n("learnmore"),B=document.getElementById(Q)||document.createElement("a"),Z=n("preprendIcon"),se=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;m(J),E(B,Q);const de=g();p(se,Z),J.append(se,F,B,de),document.body.appendChild(J)}u?(F.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function wS(){var e;const i=(e=td())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function RS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CS(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function IS(){return!wS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="FirebaseError";class Ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DS,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?OS(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ri(o,m,s)}}function OS(i,e){return i.replace(MS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const MS=/\{\$([^}]+)}/g;function VS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ma(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(h0(u)&&h0(h)){if(!ma(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function h0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function PS(i,e){const n=new LS(i,e);return n.subscribe.bind(n)}class LS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jS(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(i){return i&&i._delegate?i._delegate:i}class pa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new vS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BS(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(i){return i===ua?void 0:i}function BS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new US(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const HS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},FS=ze.INFO,GS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},QS=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=GS[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=FS,this._logHandler=QS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const KS=(i,e)=>e.some(n=>i instanceof n);let d0,f0;function YS(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $S(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,Gm=new WeakMap,vE=new WeakMap,km=new WeakMap,Np=new WeakMap;function XS(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ds(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&_E.set(n,i)}).catch(()=>{}),Np.set(e,i),e}function WS(i){if(Gm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Gm.set(i,e)}let Qm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Gm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||vE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function JS(i){Qm=i(Qm)}function ZS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Dm(this),e,...n);return vE.set(s,e.sort?e.sort():[e]),ds(s)}:$S().includes(i)?function(...e){return i.apply(Dm(this),e),ds(_E.get(this))}:function(...e){return ds(i.apply(Dm(this),e))}}function eR(i){return typeof i=="function"?ZS(i):(i instanceof IDBTransaction&&WS(i),KS(i,YS())?new Proxy(i,Qm):i)}function ds(i){if(i instanceof IDBRequest)return XS(i);if(km.has(i))return km.get(i);const e=eR(i);return e!==i&&(km.set(i,e),Np.set(e,i)),e}const Dm=i=>Np.get(i);function tR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ds(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ds(h.result),p.oldVersion,p.newVersion,ds(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const nR=["get","getKey","getAll","getAllKeys","count"],rR=["put","add","delete","clear"],Om=new Map;function m0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=rR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Om.set(e,u),u}JS(i=>({...i,get:(e,n,s)=>m0(e,n)||i.get(e,n,s),has:(e,n)=>!!m0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function sR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",p0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Ip("@firebase/app"),aR="@firebase/app-compat",oR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",cR="@firebase/app-check",hR="@firebase/auth",dR="@firebase/auth-compat",fR="@firebase/database",mR="@firebase/data-connect",pR="@firebase/database-compat",gR="@firebase/functions",yR="@firebase/functions-compat",_R="@firebase/installations",vR="@firebase/installations-compat",bR="@firebase/messaging",ER="@firebase/messaging-compat",TR="@firebase/performance",xR="@firebase/performance-compat",wR="@firebase/remote-config",AR="@firebase/remote-config-compat",SR="@firebase/storage",RR="@firebase/storage-compat",CR="@firebase/firestore",IR="@firebase/ai",NR="@firebase/firestore-compat",kR="firebase",DR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",OR={[Km]:"fire-core",[aR]:"fire-core-compat",[lR]:"fire-analytics",[oR]:"fire-analytics-compat",[cR]:"fire-app-check",[uR]:"fire-app-check-compat",[hR]:"fire-auth",[dR]:"fire-auth-compat",[fR]:"fire-rtdb",[mR]:"fire-data-connect",[pR]:"fire-rtdb-compat",[gR]:"fire-fn",[yR]:"fire-fn-compat",[_R]:"fire-iid",[vR]:"fire-iid-compat",[bR]:"fire-fcm",[ER]:"fire-fcm-compat",[TR]:"fire-perf",[xR]:"fire-perf-compat",[wR]:"fire-rc",[AR]:"fire-rc-compat",[SR]:"fire-gcs",[RR]:"fire-gcs-compat",[CR]:"fire-fst",[NR]:"fire-fst-compat",[IR]:"fire-vertex","fire-js":"fire-js",[kR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,MR=new Map,$m=new Map;function g0(i,e){try{i.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function xo(i){const e=i.name;if($m.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,i);for(const n of Vh.values())g0(n,i);for(const n of MR.values())g0(n,i);return!0}function kp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Mn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new wu("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=DR;function bE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=mE()),!n)throw fs.create("no-options");const u=Vh.get(o);if(u){if(ma(n,u.options)&&ma(s,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const h=new qS(o);for(const p of $m.values())h.addComponent(p);const m=new PR(n,s,h);return Vh.set(o,m),m}function EE(i=Ym){const e=Vh.get(i);if(!e&&i===Ym&&mE())return bE();if(!e)throw fs.create("no-app",{appName:i});return e}function ms(i,e,n){let s=OR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(h.join(" "));return}xo(new pa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",jR=1,hu="firebase-heartbeat-store";let Mm=null;function TE(){return Mm||(Mm=tR(LR,jR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(i=>{throw fs.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function UR(i){try{const n=(await TE()).transaction(hu),s=await n.objectStore(hu).get(xE(i));return await n.done,s}catch(e){if(e instanceof Ri)xi.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function y0(i,e){try{const s=(await TE()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,xE(i)),await s.done}catch(n){if(n instanceof Ri)xi.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(s.message)}}}function xE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1024,BR=30;class qR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=_0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>BR){const h=GR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_0(),{heartbeatsToSend:s,unsentEntries:o}=HR(this._heartbeatsCache.heartbeats),u=Mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return xi.warn(n),""}}}function _0(){return new Date().toISOString().substring(0,10)}function HR(i,e=zR){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),v0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),v0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v0(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function GR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(i){xo(new pa("platform-logger",e=>new iR(e),"PRIVATE")),xo(new pa("heartbeat",e=>new qR(e),"PRIVATE")),ms(Km,p0,i),ms(Km,p0,"esm2020"),ms("fire-js","")}QR("");var KR="firebase",YR="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(KR,YR,"app");function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=wE,AE=new wu("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Ip("@firebase/auth");function XR(i,...e){Ph.logLevel<=ze.WARN&&Ph.warn(`Auth (${Po}): ${i}`,...e)}function xh(i,...e){Ph.logLevel<=ze.ERROR&&Ph.error(`Auth (${Po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,...e){throw Op(i,...e)}function pr(i,...e){return Op(i,...e)}function Dp(i,e,n){const s={...$R(),[e]:n};return new wu("auth","Firebase",s).create(e,{appName:i.name})}function bi(i){return Dp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WR(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Zn(i,"argument-error"),Dp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Op(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return AE.create(i,...e)}function Se(i,e,...n){if(!i)throw Op(e,...n)}function yi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw xh(e),new Error(e)}function wi(i,e){i||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function JR(){return b0()==="http:"||b0()==="https:"}function b0(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||SS()||"connection"in navigator)?navigator.onLine:!0}function e2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=xS()||RS()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,e){wi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r2=new Su(3e4,6e4);function ws(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function As(i,e,n,s,o={}){return RE(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Au({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return AS()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(g.credentials="include"),SE.fetch()(await CE(i,i.config.apiHost,n,m),g)})}async function RE(i,e,n){i._canInitEmulator=!1;const s={...t2,...e};try{const o=new s2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw dh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw dh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw dh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(i,E,g);Zn(i,E)}}catch(o){if(o instanceof Ri)throw o;Zn(i,"network-request-failed",{message:String(o)})}}async function Ru(i,e,n,s,o={}){const u=await As(i,e,n,s,o);return"mfaPendingCredential"in u&&Zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function CE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Mp(i.config,o):`${i.config.apiScheme}://${o}`;return n2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function i2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pr(this.auth,"network-request-failed")),r2.get())})}}function dh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pr(i,e,s);return o.customData._tokenResponse=n,o}function E0(i){return i!==void 0&&i.enterprise!==void 0}class a2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return i2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o2(i,e){return As(i,"GET","/v2/recaptchaConfig",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(i,e){return As(i,"POST","/v1/accounts:delete",e)}async function Lh(i,e){return As(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u2(i,e=!1){const n=Qt(i),s=await n.getIdToken(e),o=Vp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:su(Vm(o.auth_time)),issuedAtTime:su(Vm(o.iat)),expirationTime:su(Vm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Vm(i){return Number(i)*1e3}function Vp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=dE(n);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function T0(i){const e=Vp(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ri&&c2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function c2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(i){var T;const e=i.auth,n=await i.getIdToken(),s=await du(i,Lh(e,{idToken:n}));Se(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?IE(o.providerUserInfo):[],h=f2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function d2(i){const e=Qt(i);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function IE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(i,e){const n=await RE(i,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await CE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(p.credentials="include"),SE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p2(i,e){return As(i,"POST","/v2/accounts:revokeToken",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=T0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await m2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new _o;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new h2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u2(this,e)}reload(){return d2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await du(this,l2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:M,providerData:F,stsTokenManager:Q}=n;Se(T&&Q,e,"internal-error");const B=_o.fromJSON(this.name,Q);Se(typeof T=="string",e,"internal-error"),as(s,e.name),as(o,e.name),Se(typeof A=="boolean",e,"internal-error"),Se(typeof M=="boolean",e,"internal-error"),as(u,e.name),as(h,e.name),as(m,e.name),as(p,e.name),as(g,e.name),as(E,e.name);const Z=new mr({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(Z.providerData=F.map(se=>({...se}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const u=new mr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new _o;m.updateFromIdToken(s);const p=new mr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function _i(i){wi(i instanceof Function,"Expected a class definition");let e=x0.get(i);return e?(wi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,x0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NE.type="NONE";const w0=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i,e,n){return`firebase:${i}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(_i(w0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||_i(w0);const h=wh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Lh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await mr._fromGetAccountInfoResponse(e,A,E)}else T=mr._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new vo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PE(e))return"Blackberry";if(LE(e))return"Webos";if(DE(e))return"Safari";if((e.includes("chrome/")||OE(e))&&!e.includes("edge/"))return"Chrome";if(VE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kE(i=hn()){return/firefox\//i.test(i)}function DE(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OE(i=hn()){return/crios\//i.test(i)}function ME(i=hn()){return/iemobile/i.test(i)}function VE(i=hn()){return/android/i.test(i)}function PE(i=hn()){return/blackberry/i.test(i)}function LE(i=hn()){return/webos/i.test(i)}function Pp(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function g2(i=hn()){var e;return Pp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function y2(){return CS()&&document.documentMode===10}function jE(i=hn()){return Pp(i)||VE(i)||LE(i)||PE(i)||/windows phone/i.test(i)||ME(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i,e=[]){let n;switch(i){case"Browser":n=A0(hn());break;case"Worker":n=`${A0(hn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(i,e={}){return As(i,"GET","/v2/passwordPolicy",ws(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=6;class E2{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??b2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new _2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),s=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Mn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(bi(this));const n=e?Qt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v2(this),n=new E2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await p2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&XR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ss(i){return Qt(i)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=PS(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x2(i){nd=i}function zE(i){return nd.loadJS(i)}function w2(){return nd.recaptchaEnterpriseScript}function A2(){return nd.gapiScript}function S2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class R2{constructor(){this.enterprise=new C2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class C2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const I2="recaptcha-enterprise",BE="NO_RECAPTCHA";class N2{constructor(e){this.type=I2,this.auth=Ss(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{o2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new a2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;E0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(BE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&E0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=w2();p.length!==0&&(p+=m),zE(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function R0(i,e,n,s=!1,o=!1){const u=new N2(i);let h;if(o)h=BE;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Jm(i,e,n,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await R0(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await R0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(i,e){const n=kp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ma(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function D2(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function O2(i,e,n){const s=Ss(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=qE(e),{host:h,port:m}=M2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ma(g,s.config.emulator)&&ma(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Vo(h)?(gE(`${u}//${h}${p}`),yE("Auth",!0)):V2()}function qE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function M2(i){const e=qE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:C0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:C0(h)}}}function C0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function V2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function P2(i,e){return As(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(i,e){return Ru(i,"POST","/v1/accounts:signInWithPassword",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(i,e){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}async function U2(i,e){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Lp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new fu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",L2);case"emailLink":return j2(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,s,"signUpPassword",P2);case"emailLink":return U2(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i,e){return Ru(i,"POST","/v1/accounts:signInWithIdp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="http://localhost";class ga extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ga(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,bo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:z2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q2(i){const e=Jl(Zl(i)).link,n=e?Jl(Zl(e)).deep_link_id:null,s=Jl(Zl(i)).deep_link_id;return(s?Jl(Zl(s)).link:null)||s||n||e||i}class jp{constructor(e){const n=Jl(Zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=B2(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=q2(e);try{return new jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jp.parseLink(n);return Se(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Cu{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return gi.credential(n,s)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Cu{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Cu{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(i,e){return Ru(i,"POST","/v1/accounts:signUp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await mr._fromIdTokenResponse(e,s,o),h=I0(s);return new ya({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=I0(s);return new ya({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function I0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Ri{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Uh(e,n,s,o)}}function HE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(i,u,e,s):u})}async function F2(i,e,n=!1){const s=await du(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ya._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(i,e,n=!1){const{auth:s}=i;if(Mn(s.app))return Promise.reject(bi(s));const o="reauthenticate";try{const u=await du(i,HE(s,o,e,i),n);Se(u.idToken,s,"internal-error");const h=Vp(u.idToken);Se(h,s,"internal-error");const{sub:m}=h;return Se(i.uid===m,s,"user-mismatch"),ya._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FE(i,e,n=!1){if(Mn(i.app))return Promise.reject(bi(i));const s="signIn",o=await HE(i,s,e),u=await ya._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function Q2(i,e){return FE(Ss(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(i){const e=Ss(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K2(i,e,n){if(Mn(i.app))return Promise.reject(bi(i));const s=Ss(i),h=await Jm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&GE(i),p}),m=await ya._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function Y2(i,e,n){return Mn(i.app)?Promise.reject(bi(i)):Q2(Qt(i),Lo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&GE(i),s})}function $2(i,e,n,s){return Qt(i).onIdTokenChanged(e,n,s)}function X2(i,e,n){return Qt(i).beforeAuthStateChanged(e,n)}function W2(i,e,n,s){return Qt(i).onAuthStateChanged(e,n,s)}function J2(i){return Qt(i).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1e3,eC=10;class KE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);y2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KE.type="LOCAL";const tC=KE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YE.type="SESSION";const $E=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await nC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=zp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function iC(i){Hr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function sC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function oC(){return XE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",lC=1,Bh="firebaseLocalStorage",JE="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(i,e){return i.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function uC(){const i=indexedDB.deleteDatabase(WE);return new Iu(i).toPromise()}function Zm(){const i=indexedDB.open(WE,lC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Bh,{keyPath:JE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await uC(),e(await Zm()))})})}async function N0(i,e,n){const s=id(i,!0).put({[JE]:e,value:n});return new Iu(s).toPromise()}async function cC(i,e){const n=id(i,!1).get(e),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function k0(i,e){const n=id(i,!0).delete(e);return new Iu(n).toPromise()}const hC=800,dC=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(oC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await sC(),!this.activeServiceWorker)return;this.sender=new rC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await N0(e,zh,"1"),await k0(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>N0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>cC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=id(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const fC=ZE;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(i,e){return e?_i(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mC(i){return FE(i.auth,new Bp(i),i.bypassAuthState)}function pC(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),G2(n,new Bp(i),i.bypassAuthState)}async function gC(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),F2(n,new Bp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mC;case"linkViaPopup":case"linkViaRedirect":return gC;case"reauthViaPopup":case"reauthViaRedirect":return pC;default:Zn(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Su(2e3,1e4);async function _C(i,e,n){if(Mn(i.app))return Promise.reject(pr(i,"operation-not-supported-in-this-environment"));const s=Ss(i);WR(i,e,Up);const o=eT(s,n);return new ha(s,"signInViaPopup",e,o).executeNotNull()}class ha extends tT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yC.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="pendingRedirect",Ah=new Map;class bC extends tT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await EC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(i,e){const n=wC(e),s=xC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TC(i,e){Ah.set(i._key(),e)}function xC(i){return _i(i._redirectPersistence)}function wC(i){return wh(vC,i.config.apiKey,i.name)}async function AC(i,e,n=!1){if(Mn(i.app))return Promise.reject(bi(i));const s=Ss(i),o=eT(s,e),h=await new bC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=600*1e3;class RC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!nT(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SC&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function nT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(i,e={}){return As(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kC=/^https?/;async function DC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await IC(i);for(const n of e)try{if(OC(n))return}catch{}Zn(i,"unauthorized-domain")}function OC(i){const e=Xm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!kC.test(n))return!1;if(NC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Su(3e4,6e4);function O0(){const i=Hr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function VC(i){return new Promise((e,n)=>{var o,u,h;function s(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(pr(i,"network-request-failed"))},timeout:MC.get()})}if((u=(o=Hr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Hr().gapi)!=null&&h.load)s();else{const m=S2("iframefcb");return Hr()[m]=()=>{gapi.load?s():n(pr(i,"network-request-failed"))},zE(`${A2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function PC(i){return Sh=Sh||VC(i),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Su(5e3,15e3),jC="__/auth/iframe",UC="emulator/auth/iframe",zC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qC(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Mp(e,UC):`https://${i.config.authDomain}/${jC}`,s={apiKey:e.apiKey,appName:i.name,v:Po},o=BC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function HC(i){const e=await PC(i),n=Hr().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:qC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=pr(i,"network-request-failed"),m=Hr().setTimeout(()=>{u(h)},LC.get());function p(){Hr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GC=500,QC=600,KC="_blank",YC="http://localhost";class M0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $C(i,e,n,s=GC,o=QC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...FC,width:s.toString(),height:o.toString(),top:u,left:h},g=hn().toLowerCase();n&&(m=OE(g)?KC:n),kE(g)&&(e=e||YC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[M,F])=>`${A}${M}=${F},`,"");if(g2(g)&&m!=="_self")return XC(e||"",m),new M0(null);const T=window.open(e||"",m,E);Se(T,i,"popup-blocked");try{T.focus()}catch{}return new M0(T)}function XC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="__/auth/handler",JC="emulator/auth/handler",ZC=encodeURIComponent("fac");async function V0(i,e,n,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Po,eventId:o};if(e instanceof Up){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",VS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Cu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${ZC}=${encodeURIComponent(p)}`:"";return`${eI(i)}?${Au(m).slice(1)}${g}`}function eI({config:i}){return i.emulator?Mp(i,JC):`https://${i.authDomain}/${WC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class tI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=AC,this._overrideRedirectResult=TC}async _openPopup(e,n,s,o){var h;wi((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await V0(e,n,s,Xm(),o);return $C(e,u,zp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await V0(e,n,s,Xm(),o);return iC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await HC(e),s=new RC(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Pm];u!==void 0&&n(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jE()||DE()||Pp()}}const nI=tI;var P0="@firebase/auth",L0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sI(i){xo(new pa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(i)},g=new T2(s,o,u,p);return D2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xo(new pa("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(s=>new rI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(P0,L0,iI(i)),ms(P0,L0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=300,oI=pE("authIdTokenMaxAge")||aI;let j0=null;const lI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oI)return;const o=n==null?void 0:n.token;j0!==o&&(j0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uI(i=EE()){const e=kp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=k2(i,{popupRedirectResolver:nI,persistence:[fC,tC,$E]}),s=pE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=lI(u.toString());X2(n,h,()=>h(n.currentUser)),$2(n,m=>h(m))}}const o=fE("auth");return o&&O2(n,`http://${o}`),n}function cI(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}x2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=pr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",cI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sI("Browser");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,rT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function I(){}I.prototype=S.prototype,R.F=S.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(O,D,L){for(var C=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)C[oe-2]=arguments[oe];return S.prototype[D].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,I){I||(I=0);const O=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)O[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)O[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=R.g[0],I=R.g[1],D=R.g[2];let L=R.g[3],C;C=S+(L^I&(D^L))+O[0]+3614090360&4294967295,S=I+(C<<7&4294967295|C>>>25),C=L+(D^S&(I^D))+O[1]+3905402710&4294967295,L=S+(C<<12&4294967295|C>>>20),C=D+(I^L&(S^I))+O[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(S^D&(L^S))+O[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=S+(L^I&(D^L))+O[4]+4118548399&4294967295,S=I+(C<<7&4294967295|C>>>25),C=L+(D^S&(I^D))+O[5]+1200080426&4294967295,L=S+(C<<12&4294967295|C>>>20),C=D+(I^L&(S^I))+O[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(S^D&(L^S))+O[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=S+(L^I&(D^L))+O[8]+1770035416&4294967295,S=I+(C<<7&4294967295|C>>>25),C=L+(D^S&(I^D))+O[9]+2336552879&4294967295,L=S+(C<<12&4294967295|C>>>20),C=D+(I^L&(S^I))+O[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(S^D&(L^S))+O[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=S+(L^I&(D^L))+O[12]+1804603682&4294967295,S=I+(C<<7&4294967295|C>>>25),C=L+(D^S&(I^D))+O[13]+4254626195&4294967295,L=S+(C<<12&4294967295|C>>>20),C=D+(I^L&(S^I))+O[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=I+(S^D&(L^S))+O[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=S+(D^L&(I^D))+O[1]+4129170786&4294967295,S=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(S^I))+O[6]+3225465664&4294967295,L=S+(C<<9&4294967295|C>>>23),C=D+(S^I&(L^S))+O[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^S&(D^L))+O[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=S+(D^L&(I^D))+O[5]+3593408605&4294967295,S=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(S^I))+O[10]+38016083&4294967295,L=S+(C<<9&4294967295|C>>>23),C=D+(S^I&(L^S))+O[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^S&(D^L))+O[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=S+(D^L&(I^D))+O[9]+568446438&4294967295,S=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(S^I))+O[14]+3275163606&4294967295,L=S+(C<<9&4294967295|C>>>23),C=D+(S^I&(L^S))+O[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^S&(D^L))+O[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=S+(D^L&(I^D))+O[13]+2850285829&4294967295,S=I+(C<<5&4294967295|C>>>27),C=L+(I^D&(S^I))+O[2]+4243563512&4294967295,L=S+(C<<9&4294967295|C>>>23),C=D+(S^I&(L^S))+O[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=I+(L^S&(D^L))+O[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=S+(I^D^L)+O[5]+4294588738&4294967295,S=I+(C<<4&4294967295|C>>>28),C=L+(S^I^D)+O[8]+2272392833&4294967295,L=S+(C<<11&4294967295|C>>>21),C=D+(L^S^I)+O[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^S)+O[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=S+(I^D^L)+O[1]+2763975236&4294967295,S=I+(C<<4&4294967295|C>>>28),C=L+(S^I^D)+O[4]+1272893353&4294967295,L=S+(C<<11&4294967295|C>>>21),C=D+(L^S^I)+O[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^S)+O[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=S+(I^D^L)+O[13]+681279174&4294967295,S=I+(C<<4&4294967295|C>>>28),C=L+(S^I^D)+O[0]+3936430074&4294967295,L=S+(C<<11&4294967295|C>>>21),C=D+(L^S^I)+O[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^S)+O[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=S+(I^D^L)+O[9]+3654602809&4294967295,S=I+(C<<4&4294967295|C>>>28),C=L+(S^I^D)+O[12]+3873151461&4294967295,L=S+(C<<11&4294967295|C>>>21),C=D+(L^S^I)+O[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=I+(D^L^S)+O[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=S+(D^(I|~L))+O[0]+4096336452&4294967295,S=I+(C<<6&4294967295|C>>>26),C=L+(I^(S|~D))+O[7]+1126891415&4294967295,L=S+(C<<10&4294967295|C>>>22),C=D+(S^(L|~I))+O[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~S))+O[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=S+(D^(I|~L))+O[12]+1700485571&4294967295,S=I+(C<<6&4294967295|C>>>26),C=L+(I^(S|~D))+O[3]+2399980690&4294967295,L=S+(C<<10&4294967295|C>>>22),C=D+(S^(L|~I))+O[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~S))+O[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=S+(D^(I|~L))+O[8]+1873313359&4294967295,S=I+(C<<6&4294967295|C>>>26),C=L+(I^(S|~D))+O[15]+4264355552&4294967295,L=S+(C<<10&4294967295|C>>>22),C=D+(S^(L|~I))+O[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~S))+O[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=S+(D^(I|~L))+O[4]+4149444226&4294967295,S=I+(C<<6&4294967295|C>>>26),C=L+(I^(S|~D))+O[11]+3174756917&4294967295,L=S+(C<<10&4294967295|C>>>22),C=D+(S^(L|~I))+O[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=I+(L^(D|~S))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,S){S===void 0&&(S=R.length);const I=S-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<S;){if(D==0)for(;L<=I;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<S;)if(O[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<S;)if(O[D++]=R[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)R[S++]=this.g[I]>>>O&255;return R};function u(R,S){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=S(R)}function h(R,S){this.h=S;const I=[];let O=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;O&&L==S||(I[D]=L,O=!1)}this.g=I}var m={};function p(R){return-128<=R&&R<128?u(R,function(S){return new h([S|0],S<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return B(g(-R));const S=[];let I=1;for(let O=0;R>=I;O++)S[O]=R/I|0,I*=4294967296;return new h(S,0)}function E(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return B(E(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(S,8));let O=T;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+D),S);D<8?(D=g(Math.pow(S,D)),O=O.j(D).add(g(C))):(O=O.j(I),O=O.add(g(C)))}return O}var T=p(0),A=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(Q(this))return-B(this).m();let R=0,S=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);R+=(O>=0?O:4294967296+O)*S,S*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(Q(this))return"-"+B(this).toString(R);const S=g(Math.pow(R,6));var I=this;let O="";for(;;){const D=de(I,S).g;I=Z(I,D.j(S));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=D,F(I))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function Q(R){return R.h==-1}i.l=function(R){return R=Z(this,R),Q(R)?-1:F(R)?0:1};function B(R){const S=R.g.length,I=[];for(let O=0;O<S;O++)I[O]=~R.g[O];return new h(I,~R.h).add(A)}i.abs=function(){return Q(this)?B(this):this},i.add=function(R){const S=Math.max(this.g.length,R.g.length),I=[];let O=0;for(let D=0;D<=S;D++){let L=O+(this.i(D)&65535)+(R.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=C>>>16,L&=65535,C&=65535,I[D]=C<<16|L}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Z(R,S){return R.add(B(S))}i.j=function(R){if(F(this)||F(R))return T;if(Q(this))return Q(R)?B(this).j(B(R)):B(B(this).j(R));if(Q(R))return B(this.j(B(R)));if(this.l(M)<0&&R.l(M)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,I=[];for(var O=0;O<2*S;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const L=this.i(O)>>>16,C=this.i(O)&65535,oe=R.i(D)>>>16,pe=R.i(D)&65535;I[2*O+2*D]+=C*pe,se(I,2*O+2*D),I[2*O+2*D+1]+=L*pe,se(I,2*O+2*D+1),I[2*O+2*D+1]+=C*oe,se(I,2*O+2*D+1),I[2*O+2*D+2]+=L*oe,se(I,2*O+2*D+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new h(I,0)};function se(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function J(R,S){this.g=R,this.h=S}function de(R,S){if(F(S))throw Error("division by zero");if(F(R))return new J(T,T);if(Q(R))return S=de(B(R),S),new J(B(S.g),B(S.h));if(Q(S))return S=de(R,B(S)),new J(B(S.g),S.h);if(R.g.length>30){if(Q(R)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var I=A,O=S;O.l(R)<=0;)I=Te(I),O=Te(O);var D=we(I,1),L=we(O,1);for(O=we(O,2),I=we(I,2);!F(O);){var C=L.add(O);C.l(R)<=0&&(D=D.add(I),L=C),O=we(O,1),I=we(I,1)}return S=Z(R,D.j(S)),new J(D,S)}for(D=T;R.l(S)>=0;){for(I=Math.max(1,Math.floor(R.m()/S.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(I),C=L.j(S);Q(C)||C.l(R)>0;)I-=O,L=g(I),C=L.j(S);F(L)&&(L=A),D=D.add(L),R=Z(R,C)}return new J(D,R)}i.B=function(R){return de(this,R).h},i.and=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)&R.i(O);return new h(I,this.h&R.h)},i.or=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)|R.i(O);return new h(I,this.h|R.h)},i.xor=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)^R.i(O);return new h(I,this.h^R.h)};function Te(R){const S=R.g.length+1,I=[];for(let O=0;O<S;O++)I[O]=R.i(O)<<1|R.i(O-1)>>>31;return new h(I,R.h)}function we(R,S){const I=S>>5;S%=32;const O=R.g.length-I,D=[];for(let L=0;L<O;L++)D[L]=S>0?R.i(L+I)>>>S|R.i(L+I+1)<<32-S:R.i(L+I);return new h(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,rT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ps=h}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,eu,sT,Rh,ep,aT,oT,lT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in b))break e;b=b[z]}c=c[c.length-1],w=b[c],y=y(w),y!=w&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var b=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&b.push([w,y[w]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,b){return c.call.apply(c.bind,arguments)}function g(c,y,b){return g=p,g.apply(null,arguments)}function E(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,z,K){for(var ue=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ue[Oe-2]=arguments[Oe];return y.prototype[z].apply(w,ue)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const b=Array(y);for(let w=0;w<y;w++)b[w]=c[w];return b}return[]}function F(c,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=c.length||0;const K=z.length||0;c.length=b+K;for(let ue=0;ue<K;ue++)c[b+ue]=z[ue]}else c.push(z)}}class Q{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){h.setTimeout(()=>{throw c},0)}function Z(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,b){const w=J.get();w.set(y,b),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new Q(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,we=!1,R=new se,S=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(I)}};function I(){for(var c;c=Z();){try{c.h.call(c.g)}catch(b){B(b)}var y=J;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}we=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,y),h.removeEventListener("test",b,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function oe(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(oe,D),oe.prototype.init=function(c,y){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),U=0;function Y(c,y,b,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!w,this.ha=z,this.key=++U,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ae(c,y,b){for(const w in c)y.call(b,c[w],w,c)}function ye(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function k(c){const y={};for(const b in c)y[b]=c[b];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let b,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(b in w)c[b]=w[b];for(let K=0;K<X.length;K++)b=X[K],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,b,w,z){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ue=Ee(c,y,w,z);return ue>-1?(y=c[ue],b||(y.fa=!1)):(y=new Y(y,this.src,K,!!w,z),y.fa=b,c.push(y)),y};function _e(c,y){const b=y.type;if(b in c.g){var w=c.g[b],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(w,z,1),K&&(te(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ee(c,y,b,w){for(let z=0;z<c.length;++z){const K=c[z];if(!K.da&&K.listener==y&&K.capture==!!b&&K.ha==w)return z}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),st={};function Ge(c,y,b,w,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ge(c,y[K],b,w,z);return null}return b=an(b),c&&c[pe]?c.J(y,b,m(w)?!!w.capture:!1,z):mn(c,y,b,!1,w,z)}function mn(c,y,b,w,z,K){if(!y)throw Error("Invalid event type");const ue=m(z)?!!z.capture:!!z;let Oe=Ae(c);if(Oe||(c[Ie]=Oe=new ce(c)),b=Oe.add(y,b,w,ue,K),b.proxy)return b;if(w=Ln(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)L||(z=ue),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(sn(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ln(){function c(b){return y.call(c.src,c.listener,b)}const y=br;return c}function vr(c,y,b,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)vr(c,y[K],b,w,z);else w=m(w)?!!w.capture:!!w,b=an(b),c&&c[pe]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],b=Ee(y,b,w,z),b>-1&&(te(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Ae(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ee(y,b,w,z)),(b=c>-1?y[c]:null)&&jn(b))}function jn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[pe])_e(y.i,c);else{var b=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(b,w,c.capture):y.detachEvent?y.detachEvent(sn(b),w):y.addListener&&y.removeListener&&y.removeListener(w),(b=Ae(y))?(_e(b,c),b.h==0&&(b.src=null,y[Ie]=null)):te(c)}}}function sn(c){return c in st?st[c]:st[c]="on"+c}function br(c,y){if(c.da)c=!0;else{y=new oe(y,this);const b=c.listener,w=c.ha||c.src;c.fa&&jn(c),c=b.call(w,y)}return c}function Ae(c){return c=c[Ie],c instanceof ce?c:null}var dt="__closure_events_fn_"+(Math.random()*1e9>>>0);function an(c){return typeof c=="function"?c:(c[dt]||(c[dt]=function(y){return c.handleEvent(y)}),c[dt])}function ot(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}T(ot,O),ot.prototype[pe]=!0,ot.prototype.removeEventListener=function(c,y,b,w){vr(this,c,y,b,w)};function We(c,y){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(w,c),le(y,z)}z=!0;let K,ue;if(b)for(ue=b.length-1;ue>=0;ue--)K=y.g=b[ue],z=pn(K,w,!0,y)&&z;if(K=y.g=c,z=pn(K,w,!0,y)&&z,z=pn(K,w,!1,y)&&z,b)for(ue=0;ue<b.length;ue++)K=y.g=b[ue],z=pn(K,w,!1,y)&&z}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let w=0;w<b.length;w++)te(b[w]);delete c.g[y],c.h--}}this.G=null},ot.prototype.J=function(c,y,b,w){return this.i.add(String(c),y,!1,b,w)},ot.prototype.K=function(c,y,b,w){return this.i.add(String(c),y,!0,b,w)};function pn(c,y,b,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const ue=y[K];if(ue&&!ue.da&&ue.capture==b){const Oe=ue.listener,xt=ue.ha||ue.src;ue.fa&&_e(c.i,ue),z=Oe.call(xt,w)!==!1&&z}}return z&&!w.defaultPrevented}function ks(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function xa(c){c.g=ks(()=>{c.g=null,c.i&&(c.i=!1,xa(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Kt extends O{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xa(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(c){O.call(this),this.h=c,this.g={}}T(Ds,O);var Go=[];function Qo(c){ae(c.g,function(y,b){this.g.hasOwnProperty(b)&&jn(y)},c),c.g={}}Ds.prototype.N=function(){Ds.Z.N.call(this),Qo(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=h.JSON.stringify,wd=h.JSON.parse,Lu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ju(){}function Uu(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}T(Yt,D);function Un(){D.call(this,"c")}T(Un,D);var Tt={},zu=null;function wa(){return zu=zu||new ot}Tt.Ia="serverreachability";function Bu(c){D.call(this,Tt.Ia,c)}T(Bu,D);function Er(c){const y=wa();We(y,new Bu(y))}Tt.STAT_EVENT="statevent";function Os(c,y){D.call(this,Tt.STAT_EVENT,c),this.stat=y}T(Os,D);function Ct(c){const y=wa();We(y,new Os(y,c))}Tt.Ja="timingevent";function Tr(c,y){D.call(this,Tt.Ja,c),this.size=y}T(Tr,D);function xr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function Ad(c,y,b,w,z,K){c.info(function(){if(c.g)if(K){var ue="",Oe=K.split("&");for(let Ye=0;Ye<Oe.length;Ye++){var xt=Oe[Ye].split("=");if(xt.length>1){const ft=xt[0];xt=xt[1];const Hn=ft.split("_");ue=Hn.length>=2&&Hn[1]=="type"?ue+(ft+"="+xt+"&"):ue+(ft+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+b+`
`+ue})}function qu(c,y,b,w,z,K,ue){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+b+`
`+K+" "+ue})}function wr(c,y,b,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Sd(c,b)+(w?" "+w:"")})}function Ms(c,y){c.info(function(){return"TIMEOUT: "+y})}nr.prototype.info=function(){};function Sd(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var b=K[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return Ci(K)}catch{return y}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yo;function Ps(){}T(Ps,ju),Ps.prototype.g=function(){return new XMLHttpRequest},Yo=new Ps;function Xr(c){return encodeURIComponent(String(c))}function Hu(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function rr(c,y,b,w){this.j=c,this.i=y,this.l=b,this.S=w||1,this.V=new Ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var It={},Bt={};function Ar(c,y,b){c.M=1,c.A=Ls(kt(y)),c.u=b,c.R=!0,Aa(c,null)}function Aa(c,y){c.F=Date.now(),Sr(c),c.B=kt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ia(b.i,"t",w),c.C=0,b=c.j.L,c.h=new ir,c.g=ic(c.j,b?y:null,!c.u),c.P>0&&(c.O=new Kt(g(c.Y,c,c.g),c.P)),y=c.V,b=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Go[0]=z.toString()),z=Go);for(let K=0;K<z.length;K++){const ue=Ge(b,z[K],w||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Er(),Ad(c.i,c.v,c.B,c.l,c.S,c.u)}rr.prototype.ba=function(c){c=c.target;const y=this.O;y&&or(c)==3?y.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{const Oe=or(this.g),xt=this.g.ya(),Ye=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Oe!=4||xt==7||(xt==8||Ye<=0?Er(3):Er(2)),Rr(this);var y=this.g.ca();this.X=y;var b=Rd(this);if(this.o=y==200,qu(this.i,this.v,this.B,this.l,this.S,Oe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var K=w;break t}}K=null}if(c=K)wr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,c);else{this.o=!1,this.m=3,Ct(12),An(this),zn(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<b.length;)if(ft=Gu(this,b),ft==Bt){Oe==4&&(this.m=4,Ct(14),c=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==It){this.m=4,Ct(15),wr(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else wr(this.i,this.l,ft,null),Cr(this,ft);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,Ct(16),c=!1),this.o=this.o&&c,!c)wr(this.i,this.l,b,"[Invalid Chunked Response]"),An(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),ul(ue),ue.P=!0,Ct(11))}}else wr(this.i,this.l,b,null),Cr(this,b);Oe==4&&An(this),this.o&&!this.K&&(Oe==4?ec(this.j,this):(this.o=!1,Sr(this)))}else Jr(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),An(this),zn(this)}}}catch{}finally{}};function Rd(c){if(!Fu(c))return c.g.la();const y=$t(c.g);if(y==="")return"";let b="";const w=y.length,z=or(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),zn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,b+=c.h.i.decode(y[K],{stream:!(z&&K==w-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function Fu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Gu(c,y){var b=c.C,w=y.indexOf(`
`,b);return w==-1?Bt:(b=Number(y.substring(b,w)),isNaN(b)?It:(w+=1,w+b>y.length?Bt:(y=y.slice(w,w+b),c.C=w+b,y)))}rr.prototype.cancel=function(){this.K=!0,An(this)};function Sr(c){c.T=Date.now()+c.H,Sa(c,c.H)}function Sa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=xr(g(c.aa,c),y)}function Rr(c){c.D&&(h.clearTimeout(c.D),c.D=null)}rr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ms(this.i,this.B),this.M!=2&&(Er(),Ct(17)),An(this),this.m=2,zn(this)):Sa(this,this.T-c)};function zn(c){c.j.I==0||c.K||ec(c.j,c)}function An(c){Rr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Qo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Cr(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||Nr(b.h,c))){if(!c.L&&Nr(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Ma(b),Pi(b);else break e;Fs(b),Ct(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=xr(g(b.Va,b),6e3));Ir(b.h)<=1&&b.ta&&(b.ta=void 0)}else Pr(b,11)}else if((c.L||b.g==c)&&Ma(b),!C(y))for(z=b.Ba.g.parse(y),y=0;y<z.length;y++){let Ye=z[y];const ft=Ye[0];if(!(ft<=b.K))if(b.K=ft,Ye=Ye[1],b.I==2)if(Ye[0]=="c"){b.M=Ye[1],b.ba=Ye[2];const Hn=Ye[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Lr=Ye[4];Lr!=null&&(b.za=Lr,b.j.info("SVER="+b.za));const lr=Ye[5];lr!=null&&typeof lr=="number"&&lr>0&&(w=1.5*lr,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const ur=c.g;if(ur){const Gs=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var K=w.h;K.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Wo(K,K.h),K.h=null))}if(w.G){const Va=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(w.wa=Va,Je(w.J,w.G,Va))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ue=c;if(w.na=rc(w,w.L?w.ba:null,w.W),ue.L){Jo(w.h,ue);var Oe=ue,xt=w.O;xt&&(Oe.H=xt),Oe.D&&(Rr(Oe),Sr(Oe)),w.g=ue}else Ju(w);b.i.length>0&&Vr(b)}else Ye[0]!="stop"&&Ye[0]!="close"||Pr(b,7);else b.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Pr(b,7):ol(b):Ye[0]!="noop"&&b.l&&b.l.qa(Ye),b.A=0)}}Er(4)}catch{}}var Nt=class{constructor(c,y){this.g=c,this.map=y}};function $o(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ir(c){return c.h?1:c.g?c.g.size:0}function Nr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Wo(c,y){c.g?c.g.add(y):c.h=y}function Jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}$o.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return M(c.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let z,K=null;w>=0?(z=c[b].substring(0,w),K=c[b].substring(w+1)):z=c[b],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Sn?(this.l=c.l,qt(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.u),this.h=c.h,el(this,Xu(c.i)),this.m=c.m):c&&(y=String(c).match(Qu))?(this.l=!1,qt(this,y[1]||"",!0),this.o=kr(y[2]||""),this.g=kr(y[3]||"",!0),Ii(this,y[4]),this.h=kr(y[5]||"",!0),el(this,y[6]||"",!0),this.m=kr(y[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}Sn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(js(y,Ca,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(js(y,Ca,!0),"@"),c.push(Xr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(js(b,b.charAt(0)=="/"?tl:Ku,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",js(b,Yu)),c.join("")},Sn.prototype.resolve=function(c){const y=kt(this);let b=!!c.j;b?qt(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var w=c.h;if(b)Ii(y,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let ue=0;ue<z.length;){const Oe=z[ue++];Oe=="."?w&&ue==z.length&&K.push(""):Oe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ue==z.length&&K.push("")):(K.push(Oe),w=!0)}w=K.join("/")}else w=z}return b?y.h=w:b=c.i.toString()!=="",b?el(y,Xu(c.i)):b=!!c.m,b&&(y.m=c.m),y};function kt(c){return new Sn(c)}function qt(c,y,b){c.j=b?kr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function el(c,y,b){y instanceof ki?(c.i=y,Na(c.i,c.l)):(b||(y=js(y,Ni)),c.i=new ki(y,c.l))}function Je(c,y,b){c.i.set(y,b)}function Ls(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function kr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function js(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,gn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Ku=/[#\?:]/g,tl=/[#\?]/g,Ni=/[#\?@]/g,Yu=/#/g;function ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=ki.prototype,i.add=function(c,y){yn(this),this.i=null,c=Di(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function $u(c,y){yn(c),y=Di(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function nl(c,y){return yn(c),y=Di(c,y),c.g.has(y)}i.forEach=function(c,y){yn(this),this.g.forEach(function(b,w){b.forEach(function(z){c.call(y,z,w,this)},this)},this)};function rl(c,y){yn(c);let b=[];if(typeof y=="string")nl(c,y)&&(b=b.concat(c.g.get(Di(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}i.set=function(c,y){return yn(this),this.i=null,c=Di(this,c),nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=rl(this,c),c.length>0?String(c[0]):y):y};function Ia(c,y,b){$u(c,y),b.length>0&&(c.i=null,c.g.set(Di(c,y),M(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var b=y[w];const z=Xr(b);b=rl(this,b);for(let K=0;K<b.length;K++){let ue=z;b[K]!==""&&(ue+="="+Xr(b[K])),c.push(ue)}}return this.i=c.join("&")};function Xu(c){const y=new ki;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Di(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Na(c,y){y&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(b,w){const z=w.toLowerCase();w!=z&&($u(this,w),Ia(this,z,b))},c)),c.j=y}function sr(c,y){const b=new nr;if(h.Image){const w=new Image;w.onload=E(Bn,b,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Bn,b,"TestLoadImage: error",!1,y,w),w.onabort=E(Bn,b,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Bn,b,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function il(c,y){const b=new nr,w=new AbortController,z=setTimeout(()=>{w.abort(),Bn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?Bn(b,"TestPingServer: ok",!0,y):Bn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Bn(b,"TestPingServer: error",!1,y)})}function Bn(c,y,b,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(b)}catch{}}function Oi(){this.g=new Lu}function Dr(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Dr,ju),Dr.prototype.g=function(){return new Us(this.i,this.h)};function Us(c,y){ot.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Us,ot),i=Us.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ar(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Mi(this):ar(this),this.readyState==3&&ka(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Mi(this))},i.Na=function(c){this.g&&(this.response=c,Mi(this))},i.ga=function(){this.g&&Mi(this)};function Mi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ar(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let y="";return ae(c,function(b,w){y+=w,y+=":",y+=b,y+=`\r
`}),y}function zs(c,y,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=qn(b),typeof c=="string"?b!=null&&Xr(b):Je(c,y,b))}function tt(c){ot.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(tt,ot);var Or=/^https?$/i,sl=["POST","PUT"];i=tt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Bs(this,K);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)b.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())b.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(sl,y,void 0)>=0)||w||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of b)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Bs(this,K)}};function Bs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,al(c),Wr(c)}function al(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,We(this,"complete"),We(this,"abort"),Wr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),tt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},i.Xa=function(){qs(this)};function qs(c){if(c.h&&typeof u<"u"){if(c.v&&or(c)==4)setTimeout(c.Ca.bind(c),0);else if(We(c,"readystatechange"),or(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var w;if(w=K===0){let ue=String(c.D).match(Qu)[1]||null;!ue&&h.self&&h.self.location&&(ue=h.self.location.protocol.slice(0,-1)),w=!Or.test(ue?ue.toLowerCase():"")}b=w}if(b)We(c,"complete"),We(c,"success");else{c.o=6;try{var z=or(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",al(c)}}finally{Wr(c)}}}}function Wr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||We(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function or(c){return c.g?c.g.readyState:0}i.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),wd(y)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jr(c){const y={};c=(c.g&&or(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var b=Hu(c[w]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=y[z]||[];y[z]=K,K.push(b)}ye(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Vi(c){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mr("baseRetryDelayMs",5e3,c),this.Za=Mr("retryDelaySeedMs",1e4,c),this.Ta=Mr("forwardChannelMaxRetries",2,c),this.va=Mr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(c&&c.concurrentRequestLimit),this.Ba=new Oi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Vi.prototype,i.ka=8,i.I=1,i.connect=function(c,y,b,w){Ct(0),this.W=c,this.H=y||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=rc(this,null,this.W),Vr(this)};function ol(c){if(Da(c),c.I==3){var y=c.V++,b=kt(c.J);if(Je(b,"SID",c.M),Je(b,"RID",y),Je(b,"TYPE","terminate"),Hs(c,b),y=new rr(c,c.j,y),y.M=2,y.A=Ls(kt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=y.A,b=!0),b||(y.g=ic(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Sr(y)}nc(c)}function Pi(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Da(c){Pi(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Vr(c){if(!Xo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Te||S(),we||(Te(),we=!0),R.add(y,c),c.D=0}}function Oa(c,y){return Ir(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=xr(g(c.Ea,c,y),tc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new rr(this,this.j,c);let K=this.o;if(this.U&&(K?(K=k(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Wu(this,z,y),b=kt(this.J),Je(b,"RID",c),Je(b,"CVER",22),this.G&&Je(b,"X-HTTP-Session-Id",this.G),Hs(this,b),K&&(this.R?y="headers="+Xr(qn(K))+"&"+y:this.u&&zs(b,this.u,K)),Wo(this.h,z),this.Ra&&Je(b,"TYPE","init"),this.S?(Je(b,"$req",y),Je(b,"SID","null"),z.U=!0,Ar(z,b,null)):Ar(z,b,y),this.I=2}}else this.I==3&&(c?ll(this,c):this.i.length==0||Xo(this.h)||ll(this))};function ll(c,y){var b;y?b=y.l:b=c.V++;const w=kt(c.J);Je(w,"SID",c.M),Je(w,"RID",b),Je(w,"AID",c.K),Hs(c,w),c.u&&c.o&&zs(w,c.u,c.o),b=new rr(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Wu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Wo(c.h,b),Ar(b,w,y)}function Hs(c,y){c.H&&ae(c.H,function(b,w){Je(y,w,b)}),c.l&&ae({},function(b,w){Je(y,w,b)})}function Wu(c,y,b){b=Math.min(c.i.length,b);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Oe=-1;for(;;){const xt=["count="+b];Oe==-1?b>0?(Oe=z[0].g,xt.push("ofs="+Oe)):Oe=0:xt.push("ofs="+Oe);let Ye=!0;for(let ft=0;ft<b;ft++){var K=z[ft].g;const Hn=z[ft].map;if(K-=Oe,K<0)Oe=Math.max(0,z[ft].g-100),Ye=!1;else try{K="req"+K+"_"||"";try{var ue=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Lr,lr]of ue){let ur=lr;m(lr)&&(ur=Ci(lr)),xt.push(K+Lr+"="+encodeURIComponent(ur))}}catch(Lr){throw xt.push(K+"type="+encodeURIComponent("_badmap")),Lr}}catch{w&&w(Hn)}}if(Ye){ue=xt.join("&");break e}}ue=void 0}return c=c.i.splice(0,b),y.G=c,ue}function Ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Te||S(),we||(Te(),we=!0),R.add(y,c),c.A=0}}function Fs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=xr(g(c.Da,c),tc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=xr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Pi(this),Zu(this))};function ul(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Zu(c){c.g=new rr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=kt(c.na);Je(y,"RID","rpc"),Je(y,"SID",c.M),Je(y,"AID",c.K),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(y,"TO",c.ia),Je(y,"TYPE","xmlhttp"),Hs(c,y),c.u&&c.o&&zs(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Ls(kt(y)),b.u=null,b.R=!0,Aa(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Pi(this),Fs(this),Ct(19))};function Ma(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ec(c,y){var b=null;if(c.g==y){Ma(c),ul(c),c.g=null;var w=2}else if(Nr(c.h,y))b=y.G,Jo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;w=wa(),We(w,new Tr(w,b)),Vr(c)}else Ju(c);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&Oa(c,y)||w==2&&Fs(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),z){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function tc(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function Pr(c,y){if(c.j.info("Error code "+y),y==2){var b=g(c.bb,c),w=c.Ua;const z=!w;w=new Sn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qt(w,"https"),Ls(w),z?sr(w.toString(),b):il(w.toString(),b)}else Ct(2);c.I=0,c.l&&c.l.pa(y),nc(c),Da(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function nc(c){if(c.I=0,c.ja=[],c.l){const y=Zo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function rc(c,y,b){var w=b instanceof Sn?kt(b):new Sn(b);if(w.g!="")y&&(w.g=y+"."+w.g),Ii(w,w.u);else{var z=h.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new Sn(null);w&&qt(K,w),y&&(K.g=y),z&&Ii(K,z),b&&(K.h=b),w=K}return b=c.G,y=c.wa,b&&y&&Je(w,b,y),Je(w,"VER",c.ka),Hs(c,w),w}function ic(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new tt(new Dr({ab:b})):new tt(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}i=sc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Li(){}Li.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){ot.call(this),this.g=new Vi(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Zr(this)}T(dn,ot),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){ol(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Ci(c),c=b);y.i.push(new Nt(y.Ya++,c)),y.I==3&&Vr(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,dn.Z.N.call(this)};function ac(c){Yt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(ac,Yt);function oc(){Un.call(this),this.status=1}T(oc,Un);function Zr(c){this.g=c}T(Zr,sc),Zr.prototype.ra=function(){We(this.g,"a")},Zr.prototype.qa=function(c){We(this.g,new ac(c))},Zr.prototype.pa=function(c){We(this.g,new oc)},Zr.prototype.oa=function(){We(this.g,"b")},Li.prototype.createWebChannel=Li.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,lT=function(){return new Li},oT=function(){return wa()},aT=Tt,ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,Rh=Vs,Ko.COMPLETE="complete",sT=Ko,Uu.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",ot.prototype.listen=ot.prototype.J,eu=Uu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,iT=tt}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const z0="@firebase/firestore",B0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Ip("@firebase/firestore");function ho(){return _a.logLevel}function fe(i,...e){if(_a.logLevel<=ze.DEBUG){const n=e.map(qp);_a.debug(`Firestore (${jo}): ${i}`,...n)}}function Ai(i,...e){if(_a.logLevel<=ze.ERROR){const n=e.map(qp);_a.error(`Firestore (${jo}): ${i}`,...n)}}function wo(i,...e){if(_a.logLevel<=ze.WARN){const n=e.map(qp);_a.warn(`Firestore (${jo}): ${i}`,...n)}}function qp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,uT(i,s,n)}function uT(i,e,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ai(s),new Error(s)}function Xe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||uT(e,o,s)}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class dI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class fI{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ei,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ei)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new cT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class mI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new q0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Be(i,e){return i<e?-1:i>e?1:0}function tp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Lm(o)===Lm(u)?Be(o,u):Lm(o)?1:-1}return Be(i.length,e.length)}const _I=55296,vI=57343;function Lm(i){const e=i.charCodeAt(0);return e>=_I&&e<=vI}function Ao(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class qr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Re(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=qr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const s=qr.isNumericId(e),o=qr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qr.extractNumericId(e).compare(qr.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class ut extends qr{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const bI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends qr{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return bI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new nn([H0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ut.fromString(e))}static fromName(e){return new be(ut.fromString(e).popFirst(5))}static empty(){return new be(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(i,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function EI(i,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function F0(i){if(!be.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function G0(i){if(be.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function dT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function sd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Yr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sd(i);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Nu(i,e){if(!dT(i))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-62135596800,K0=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*K0);return new Ce(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q0)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:jt("string",Ce._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Ce(0,0))}static max(){return new Ne(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function TI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new Ce(n+1,0):new Ce(n,s));return new ys(o,be.empty(),e)}function xI(i){return new ys(i.readTime,i.key,mu)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(Ne.min(),be.empty(),mu)}static max(){return new ys(Ne.max(),be.empty(),mu)}}function wI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:Be(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==AI)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function RI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function od(i){return i==null}function qh(i){return i===0&&1/i==-1/0}function CI(i){return typeof i=="number"&&Number.isInteger(i)&&!qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="";function II(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Y0(e)),e=NI(i.get(n),e);return Y0(e)}function NI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case fT:n+="";break;default:n+=u}}return n}function Y0(i){return i+fT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Rs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function mT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new tn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(e){return new X0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class X0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new zt(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pT("Invalid base64 string: "+u):u}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const kI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=kI.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function vs(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",yT="__type__",_T="__previous_value__",vT="__local_write_time__";function Gp(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[yT])==null?void 0:s.stringValue)===gT}function ld(i){const e=i.mapValue.fields[_T];return Gp(e)?ld(e):e}function pu(i){const e=_s(i.mapValue.fields[vT].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Hh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Hh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",OI="__max__",ph={mapValue:{}},ET="__vector__",Fh="value";function bs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Gp(i)?4:VI(i)?9007199254740991:MI(i)?10:11:Re(28295,{value:i})}function $r(i,e){if(i===e)return!0;const n=bs(i);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pu(i).isEqual(pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=_s(o.timestampValue),m=_s(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=St(o.doubleValue),m=St(u.doubleValue);return h===m?qh(h)===qh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if($0(h)!==$0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!$r(h[p],m[p])))return!1;return!0})(i,e);default:return Re(52216,{left:i})}}function yu(i,e){return(i.values||[]).find((n=>$r(n,e)))!==void 0}function So(i,e){if(i===e)return 0;const n=bs(i),s=bs(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=St(u.integerValue||u.doubleValue),p=St(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return W0(i.timestampValue,e.timestampValue);case 4:return W0(pu(i),pu(e));case 5:return tp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=vs(u),p=vs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Be(m[g],p[g]);if(E!==0)return E}return Be(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Be(St(u.latitude),St(h.latitude));return m!==0?m:Be(St(u.longitude),St(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return J0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var A,M,F,Q;const m=u.fields||{},p=h.fields||{},g=(A=m[Fh])==null?void 0:A.arrayValue,E=(M=p[Fh])==null?void 0:M.arrayValue,T=Be(((F=g==null?void 0:g.values)==null?void 0:F.length)||0,((Q=E==null?void 0:E.values)==null?void 0:Q.length)||0);return T!==0?T:J0(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ph.mapValue&&h===ph.mapValue)return 0;if(u===ph.mapValue)return 1;if(h===ph.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=tp(p[T],E[T]);if(A!==0)return A;const M=So(m[p[T]],g[E[T]]);if(M!==0)return M}return Be(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function W0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const n=_s(i),s=_s(e),o=Be(n.seconds,s.seconds);return o!==0?o:Be(n.nanos,s.nanos)}function J0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return Be(n.length,s.length)}function Ro(i){return np(i)}function np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return vs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${np(n.fields[h])}`;return o+"}"})(i.mapValue):Re(61005,{value:i})}function Ch(i){switch(bs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ld(i);return e?16+Ch(e):16;case 5:return 2*i.stringValue.length;case 6:return vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ch(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Rs(s.fields,((u,h)=>{o+=u.length+Ch(h)})),o})(i.mapValue);default:throw Re(13486,{value:i})}}function Z0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rp(i){return!!i&&"integerValue"in i}function Qp(i){return!!i&&"arrayValue"in i}function eb(i){return!!i&&"nullValue"in i}function tb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ih(i){return!!i&&"mapValue"in i}function MI(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[bT])==null?void 0:s.stringValue)===ET}function au(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Rs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=au(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(i.arrayValue.values[n]);return e}return{...i}}function VI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===OI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=au(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Rs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new wn(au(this.value))}}function TT(i){const e=[];return Rs(i.fields,((n,s)=>{const o=new nn([n]);if(Ih(s)){const u=TT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new cn(e,0,Ne.min(),Ne.min(),Ne.min(),wn.empty(),0)}static newFoundDocument(e,n,s,o){return new cn(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new cn(e,2,n,Ne.min(),Ne.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ne.min(),Ne.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function nb(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=be.comparator(be.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function rb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!$r(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function PI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class Lt extends xT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jI(e,n,s):n==="array-contains"?new BI(e,s):n==="in"?new qI(e,s):n==="not-in"?new HI(e,s):n==="array-contains-any"?new FI(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new UI(e,s):new zI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends xT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yr(e,n)}matches(e){return wT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wT(i){return i.op==="and"}function AT(i){return LI(i)&&wT(i)}function LI(i){for(const e of i.filters)if(e instanceof yr)return!1;return!0}function ip(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+Ro(i.value);if(AT(i))return i.filters.map((e=>ip(e))).join(",");{const e=i.filters.map((n=>ip(n))).join(",");return`${i.op}(${e})`}}function ST(i,e){return i instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&$r(s.value,o.value)})(i,e):i instanceof yr?(function(s,o){return o instanceof yr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&ST(h,o.filters[m])),!0):!1})(i,e):void Re(19439)}function RT(i){return i instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(i):i instanceof yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(RT).join(" ,")+"}"})(i):"Filter"}class jI extends Lt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class UI extends Lt{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zI extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CT(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>be.fromName(s.referenceValue)))}class BI extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&yu(n.arrayValue,this.value)}}class qI extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class HI extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class FI extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function ib(i,e=null,n=[],s=[],o=null,u=null,h=null){return new GI(i,e,n,s,o,u,h)}function Kp(i){const e=De(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ip(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ro(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ro(s))).join(",")),e.Te=n}return e.Te}function Yp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!PI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ST(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!rb(i.startAt,e.startAt)&&rb(i.endAt,e.endAt)}function sp(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QI(i,e,n,s,o,u,h,m){return new Bo(i,e,n,s,o,u,h,m)}function $p(i){return new Bo(i)}function sb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function IT(i){return i.collectionGroup!==null}function ou(i){const e=De(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new zt(nn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _u(u,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new _u(nn.keyField(),s))}return e.Ie}function Fr(i){const e=De(i);return e.Ee||(e.Ee=KI(e,ou(i))),e.Ee}function KI(i,e){if(i.limitType==="F")return ib(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _u(o.field,u)}));const n=i.endAt?new Gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Gh(i.startAt.position,i.startAt.inclusive):null;return ib(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ap(i,e){const n=i.filters.concat([e]);return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Qh(i,e,n){return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ud(i,e){return Yp(Fr(i),Fr(e))&&i.limitType===e.limitType}function NT(i){return`${Kp(Fr(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>RT(o))).join(", ")}]`),od(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ro(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ro(o))).join(",")),`Target(${s})`})(Fr(i))}; limitType=${i.limitType})`}function cd(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=nb(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,ou(s),o)||s.endAt&&!(function(h,m,p){const g=nb(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,ou(s),o))})(i,e)}function YI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kT(i){return(e,n)=>{let s=!1;for(const o of ou(i)){const u=$I(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function $I(i,e,n){const s=i.field.isKeyField()?be.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):Re(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new yt(be.comparator);function Si(){return XI}const DT=new yt(be.comparator);function tu(...i){let e=DT;for(const n of i)e=e.insert(n.key,n);return e}function OT(i){let e=DT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function da(){return lu()}function MT(){return lu()}function lu(){return new Ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const WI=new yt(be.comparator),JI=new zt(be.comparator);function qe(...i){let e=JI;for(const n of i)e=e.add(n);return e}const ZI=new zt(Be);function eN(){return ZI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function VT(i){return{integerValue:""+i}}function PT(i,e){return CI(e)?VT(e):Xp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function tN(i,e,n){return i instanceof Kh?(function(o,u){const h={fields:{[yT]:{stringValue:gT},[vT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gp(u)&&(u=ld(u)),u&&(h.fields[_T]=u),{mapValue:h}})(n,e):i instanceof vu?jT(i,e):i instanceof bu?UT(i,e):(function(o,u){const h=LT(o,u),m=ab(h)+ab(o.Ae);return rp(h)&&rp(o.Ae)?VT(m):Xp(o.serializer,m)})(i,e)}function nN(i,e,n){return i instanceof vu?jT(i,e):i instanceof bu?UT(i,e):n}function LT(i,e){return i instanceof Eu?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Kh extends hd{}class vu extends hd{constructor(e){super(),this.elements=e}}function jT(i,e){const n=zT(e);for(const s of i.elements)n.some((o=>$r(o,s)))||n.push(s);return{arrayValue:{values:n}}}class bu extends hd{constructor(e){super(),this.elements=e}}function UT(i,e){let n=zT(e);for(const s of i.elements)n=n.filter((o=>!$r(o,s)));return{arrayValue:{values:n}}}class Eu extends hd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ab(i){return St(i.integerValue||i.doubleValue)}function zT(i){return Qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.field=e,this.transform=n}}function iN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof vu&&o instanceof vu||s instanceof bu&&o instanceof bu?Ao(s.elements,o.elements,$r):s instanceof Eu&&o instanceof Eu?$r(s.Ae,o.Ae):s instanceof Kh&&o instanceof Kh})(i.transform,e.transform)}class sN{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class dd{}function BT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new HT(i.key,gr.none()):new ku(i.key,i.data,gr.none());{const n=i.data,s=wn.empty();let o=new zt(nn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Cs(i.key,s,new Vn(o.toArray()),gr.none())}}function aN(i,e,n){i instanceof ku?(function(o,u,h){const m=o.value.clone(),p=lb(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Cs?(function(o,u,h){if(!Nh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=lb(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(qT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function uu(i,e,n,s){return i instanceof ku?(function(u,h,m,p){if(!Nh(u.precondition,h))return m;const g=u.value.clone(),E=ub(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Cs?(function(u,h,m,p){if(!Nh(u.precondition,h))return m;const g=ub(u.fieldTransforms,p,h),E=h.data;return E.setAll(qT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return Nh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function oN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=LT(s.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(s.field,u))}return n||null}function ob(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((u,h)=>iN(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ku extends dd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cs extends dd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function lb(i,e,n){const s=new Map;Xe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,nN(h,m,n[o]))}return s}function ub(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,tN(u,h,e))}return s}class HT extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&aN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=MT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=BT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,s)=>ob(n,s)))&&Ao(this.baseMutations,e.baseMutations,((n,s)=>ob(n,s)))}}class Wp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return WI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Wp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Fe;function dN(i){switch(i){case ne.OK:return Re(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function FT(i){if(i===void 0)return Ai("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Pt.OK:return ne.OK;case Pt.CANCELLED:return ne.CANCELLED;case Pt.UNKNOWN:return ne.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ne.INTERNAL;case Pt.UNAVAILABLE:return ne.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ne.NOT_FOUND;case Pt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Pt.ABORTED:return ne.ABORTED;case Pt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Pt.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:i})}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new ps([4294967295,4294967295],0);function cb(i){const e=fN().encode(i),n=new rT;return n.update(e),new Uint8Array(n.digest())}function hb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([n,s],0),new ps([o,u],0)]}class Jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ps.fromNumber(s)));return o.compare(mN)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cb(e),[s,o]=hb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Jp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=cb(e),[s,o]=hb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fd(Ne.min(),o,new yt(Be),Si(),qe())}}class Du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Du(s,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class GT{constructor(e,n){this.targetId=e,this.Ce=n}}class QT{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class db{constructor(){this.ve=0,this.Fe=fb(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Re(38017,{changeType:u})}})),new Du(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=fb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Si(),this.Je=gh(),this.He=gh(),this.Ye=new yt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(sp(u))if(s===0){const h=new be(u.path);this.et(n,h,cn.newNoDocument(h,Ne.min()))}else Xe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=vs(s).toUint8Array()}catch(p){if(p instanceof pT)return wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(h,o,u)}catch(p){return wo(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&sp(m.target)){const p=new be(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,cn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=qe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new fd(e,n,this.Ye,this.je,s);return this.je=Si(),this.Je=gh(),this.He=gh(),this.Ye=new yt(Be),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new db,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new db),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gh(){return new yt(be.comparator)}function fb(){return new yt(be.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},yN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class vN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(i,e){return i.useProto3Json||od(e)?e:{value:e}}function Yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function bN(i,e){return Yh(i,e.toTimestamp())}function Gr(i){return Xe(!!i,49232),Ne.fromTimestamp((function(n){const s=_s(n);return new Ce(s.seconds,s.nanos)})(i))}function Zp(i,e){return lp(i,e).canonicalString()}function lp(i,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function YT(i){const e=ut.fromString(i);return Xe(ZT(e),10190,{key:e.toString()}),e}function up(i,e){return Zp(i.databaseId,e.path)}function jm(i,e){const n=YT(e);if(n.get(1)!==i.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(XT(n))}function $T(i,e){return Zp(i.databaseId,e)}function EN(i){const e=YT(i);return e.length===4?ut.emptyPath():XT(e)}function cp(i){return new ut(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function XT(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mb(i,e,n){return{name:up(i,e),fields:n.value.mapValue.fields}}function TN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?ne.UNKNOWN:FT(g.code);return new he(E,g.message||"")})(h);n=new QT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(i,s.document.name),u=Gr(s.document.updateTime),h=s.document.createTime?Gr(s.document.createTime):Ne.min(),m=new wn({mapValue:{fields:s.document.fields}}),p=cn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new kh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(i,s.document),u=s.readTime?Gr(s.readTime):Ne.min(),h=cn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new kh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(i,s.document),u=s.removedTargetIds||[];n=new kh([],u,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new hN(o,u),m=s.targetId;n=new GT(m,h)}}return n}function xN(i,e){let n;if(e instanceof ku)n={update:mb(i,e.key,e.value)};else if(e instanceof HT)n={delete:up(i,e.key)};else if(e instanceof Cs)n={update:mb(i,e.key,e.data),updateMask:DN(e.fieldMask)};else{if(!(e instanceof lN))return Re(16599,{Vt:e.type});n={verify:up(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Re(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:bN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re(27497)})(i,e.precondition)),n}function wN(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Gr(o.updateTime):Gr(u);return h.isEqual(Ne.min())&&(h=Gr(u)),new sN(h,o.transformResults||[])})(n,e)))):[]}function AN(i,e){return{documents:[$T(i,e.path)]}}function SN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$T(i,o);const u=(function(g){if(g.length!==0)return JT(yr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:mo(A.field),direction:IN(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=op(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function RN(i){let e=EN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=WT(T);return A instanceof yr&&AT(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(F){return new _u(po(F.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,od(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,M=T.values||[];return new Gh(M,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,M=T.values||[];return new Gh(M,A)})(n.endAt)),QI(e,o,h,u,m,"F",p,g)}function CN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Lt.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return yr.create(n.compositeFilter.filters.map((s=>WT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(i):Re(30097,{filter:i})}function IN(i){return gN[i]}function NN(i){return yN[i]}function kN(i){return _N[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return nn.fromServerFormat(i.fieldPath)}function JT(i){return i instanceof Lt?(function(n){if(n.op==="=="){if(tb(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(eb(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tb(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(eb(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:NN(n.op),value:n.value}}})(i):i instanceof yr?(function(n){const s=n.getFilters().map((o=>JT(o)));return s.length===1?s[0]:{compositeFilter:{op:kN(n.op),filters:s}}})(i):Re(54877,{filter:i})}function DN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ZT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,s,o,u=Ne.min(),h=Ne.min(),m=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.yt=e}}function MN(i){const e=RN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Cn=new PN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ys.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class PN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(e1,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="LruGarbageCollector",LN=1048576;function yb([i,e],[n,s]){const o=Be(i,n);return o===0?Be(e,s):o}class jN{constructor(e){this.Ir=e,this.buffer=new zt(yb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(gb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?fe(gb,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class zN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(ad.ce);const s=new jN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(pb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),ho()<=ze.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function BN(i,e){return new zN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&uu(s.mutation,o,Vn.empty(),Ce.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const o=da();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=tu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=da();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Si();const h=lu(),m=(function(){return lu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Cs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),uu(E.mutation,g,E.mutation.getFieldMask(),Ce.now())):h.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new HN(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new yt(((h,m)=>h-m)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||qe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=MT();E.forEach((A=>{if(!u.has(A)){const M=BT(n.get(A),s.get(A));M!==null&&T.set(A,M),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(da());let m=mu,p=u;return h.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,qe()))).next((E=>({batchId:m,changes:OT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,A){return new Bo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,cn.newInvalidDocument(E)))}));let m=tu();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&uu(E.mutation,g,Vn.empty(),Ce.now()),cd(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Gr(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:MN(o.bundledQuery),readTime:Gr(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.overlays=new yt(be.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=da();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=da(),u=n.length+1,h=new be(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new yt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=da(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=da(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new cN(n,s));let u=this.qr.get(n);u===void 0&&(u=qe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Qr=new zt(Gt.$r),this.Ur=new zt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new ut([])),s=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new ut([])),s=new Gt(n,e),o=new Gt(n,e+1);let u=qe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Gt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Gt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new uN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Fp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Be);return n.forEach((o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new be(u),0);let m=new zt(Be);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Gt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Gt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.ri=e,this.docs=(function(){return new yt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=Si();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Si();const h=n.path,m=new be(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||wI(xI(E),s)<=0||(o.has(E.key)||cd(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Re(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new XN(this)}getSize(e){return ie.resolve(this.size)}}class XN extends qN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.persistence=e,this.si=new Ea((n=>Kp(n)),Yp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new eg,this.targetCount=0,this.ai=Co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.ui={},this.overlays={},this.ci=new ad(0),this.li=!1,this.li=!0,this.hi=new KN,this.referenceDelegate=e(this),this.Pi=new WN(this),this.indexManager=new VN,this.remoteDocumentCache=(function(o){return new $N(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ON(n),this.Ii=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new YN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new JN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class JN extends SI{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Ri=new eg,this.Vi=null}static mi(e){return new tg(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new Ea((s=>II(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=BN(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ne.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=qe(),o=qe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ng(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IS()?8:RI(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new ZN;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ho()<=ze.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(ho()<=ze.DEBUG&&fe("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ho()<=ze.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):ie.resolve())}ys(e,n){if(sb(n))return ie.resolve(null);let s=Fr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qh(n,null,"F"),s=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=qe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Qh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return sb(n)||o.isEqual(Ne.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ie.resolve(null):(ho()<=ze.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,h,n,TI(o,mu)).next((m=>m)))}))}Ds(e,n){let s=new zt(kT(e));return n.forEach(((o,u)=>{cd(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ho()<=ze.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,ys.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",tk=3e8;class nk{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new yt(Be),this.xs=new Ea((u=>Kp(u)),Yp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function rk(i,e,n,s){return new nk(i,e,n,s)}async function n1(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=qe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function ik(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let M=ie.resolve();return A.forEach((F=>{M=M.next((()=>E.getEntry(p,F))).next((Q=>{const B=g.docVersions.get(F);Xe(B!==null,48541),Q.version.compareTo(B)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=qe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function r1(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sk(i,e){const n=De(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(rn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(T,M),(function(Q,B,Z){return Q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=tk?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,M,E)&&m.push(n.Pi.updateTargetData(u,M))}));let p=Si(),g=qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(ak(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ne.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function ak(i,e,n){let s=qe(),o=qe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Si();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(rg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function ok(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Fp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lk(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new hs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function hp(i,e,n){const s=De(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!zo(h))throw h;fe(rg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function _b(i,e,n){const s=De(i);let o=Ne.min(),u=qe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=De(p),A=T.xs.get(E);return A!==void 0?ie.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,E)})(s,h,Fr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ne.min(),n?u:qe()))).next((m=>(uk(s,YI(e),m),{documents:m,Qs:u})))))}function uk(i,e,n){let s=i.Os.get(e)||Ne.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class vb{constructor(){this.activeTargetIds=eN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ck{constructor(){this.Mo=new vb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="ConnectivityMonitor";class Eb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(bb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function dp(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=dp(),m=this.zo(e,n.toUriEncodedString());fe(Um,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Vo(g);return this.Jo(e,m,p,s,E).then((T=>(fe(Um,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw wo(Um,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=dk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class pk extends fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=dp();return new Promise(((m,p)=>{const g=new iT;g.setWithCredentials(!0),g.listenOnce(sT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Rh.NO_ERROR:const T=g.getResponseJson();fe(ln,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Rh.TIMEOUT:fe(ln,`RPC '${e}' ${h} timed out`),p(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const A=g.getStatus();if(fe(ln,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M==null?void 0:M.error;if(F&&F.status&&F.message){const Q=(function(Z){const se=Z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(se)>=0?se:ne.UNKNOWN})(F.status);p(new he(Q,F.message))}else p(new he(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(ln,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);fe(ln,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=dp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=lT(),m=oT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(ln,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let A=!1,M=!1;const F=new mk({Yo:B=>{M?fe(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(A||(fe(ln,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),fe(ln,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),Q=(B,Z,se)=>{B.listen(Z,(J=>{try{se(J)}catch(de){setTimeout((()=>{throw de}),0)}}))};return Q(T,eu.EventType.OPEN,(()=>{M||(fe(ln,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Q(T,eu.EventType.CLOSE,(()=>{M||(M=!0,fe(ln,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),Q(T,eu.EventType.ERROR,(B=>{M||(M=!0,wo(ln,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),F.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),Q(T,eu.EventType.MESSAGE,(B=>{var Z;if(!M){const se=B.data[0];Xe(!!se,16349);const J=se,de=(J==null?void 0:J.error)||((Z=J[0])==null?void 0:Z.error);if(de){fe(ln,`RPC '${e}' stream ${o} received error:`,de);const Te=de.status;let we=(function(I){const O=Pt[I];if(O!==void 0)return FT(O)})(Te),R=de.message;we===void 0&&(we=ne.INTERNAL,R="Unknown error status: "+Te+" with message "+de.message),M=!0,F.a_(new he(we,R)),T.close()}else fe(ln,`RPC '${e}' stream ${o} received:`,se),F.u_(se)}})),Q(m,aT.STAT_EVENT,(B=>{B.stat===ep.PROXY?fe(ln,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===ep.NOPROXY&&fe(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(i){return new vN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="PersistentStream";class s1{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Tb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(Tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gk extends s1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ne.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ne.min():h.readTime?Gr(h.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=sp(p)?{documents:AN(u,p)}:{query:SN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=KT(u,h.resumeToken);const g=op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Yh(u,h.snapshotVersion.toTimestamp());const g=op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=CN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class yk extends s1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wN(e.writeResults,e.commitTime),s=Gr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>xN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{}class vk extends _k{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,lp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,lp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class Ek{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ta(this)&&(fe(va,"Restarting streams for network reachability change."),await(async function(p){const g=De(p);g.Ea.add(4),await Ou(g),g.Ra.set("Unknown"),g.Ea.delete(4),await pd(g)})(this))}))})),this.Ra=new bk(s,o)}}async function pd(i){if(Ta(i))for(const e of i.da)await e(!0)}async function Ou(i){for(const e of i.da)await e(!1)}function a1(i,e){const n=De(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),og(n)?ag(n):qo(n).O_()&&sg(n,e))}function ig(i,e){const n=De(i),s=qo(n);n.Ia.delete(e),s.O_()&&o1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Ra.set("Unknown"))}function sg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(i).Y_(e)}function o1(i,e){i.Va.Ue(e),qo(i).Z_(e)}function ag(i){i.Va=new pN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),qo(i).start(),i.Ra.ua()}function og(i){return Ta(i)&&!qo(i).x_()&&i.Ia.size>0}function Ta(i){return De(i).Ea.size===0}function l1(i){i.Va=void 0}async function Tk(i){i.Ra.set("Online")}async function xk(i){i.Ia.forEach(((e,n)=>{sg(i,e)}))}async function wk(i,e){l1(i),og(i)?(i.Ra.ha(e),ag(i)):i.Ra.set("Unknown")}async function Ak(i,e,n){if(i.Ra.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xh(i,s)}else if(e instanceof kh?i.Va.Ze(e):e instanceof GT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await r1(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),o1(u,p);const T=new hs(E.target,p,g,E.sequenceNumber);sg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(va,"Failed to raise snapshot:",s),await Xh(i,s)}}async function Xh(i,e,n){if(!zo(e))throw e;i.Ea.add(1),await Ou(i),i.Ra.set("Offline"),n||(n=()=>r1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(va,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await pd(i)}))}function u1(i,e){return e().catch((n=>Xh(i,n,e)))}async function gd(i){const e=De(i),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fp;for(;Sk(e);)try{const o=await ok(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Rk(e,o)}catch(o){await Xh(e,o)}c1(e)&&h1(e)}function Sk(i){return Ta(i)&&i.Ta.length<10}function Rk(i,e){i.Ta.push(e);const n=Es(i);n.O_()&&n.X_&&n.ea(e.mutations)}function c1(i){return Ta(i)&&!Es(i).x_()&&i.Ta.length>0}function h1(i){Es(i).start()}async function Ck(i){Es(i).ra()}async function Ik(i){const e=Es(i);for(const n of i.Ta)e.ea(n.mutations)}async function Nk(i,e,n){const s=i.Ta.shift(),o=Wp.from(s,e,n);await u1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await gd(i)}async function kk(i,e){e&&Es(i).X_&&await(async function(s,o){if((function(h){return dN(h)&&h!==ne.ABORTED})(o.code)){const u=s.Ta.shift();Es(s).B_(),await u1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gd(s)}})(i,e),c1(i)&&h1(i)}async function xb(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),fe(va,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await Ou(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pd(n)}async function Dk(i,e){const n=De(i);e?(n.Ea.delete(2),await pd(n)):e||(n.Ea.add(2),await Ou(n),n.Ra.set("Unknown"))}function qo(i){return i.ma||(i.ma=(function(n,s,o){const u=De(n);return u.sa(),new gk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Tk.bind(null,i),t_:xk.bind(null,i),r_:wk.bind(null,i),H_:Ak.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),og(i)?ag(i):i.Ra.set("Unknown")):(await i.ma.stop(),l1(i))}))),i.ma}function Es(i){return i.fa||(i.fa=(function(n,s,o){const u=De(n);return u.sa(),new yk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ck.bind(null,i),r_:kk.bind(null,i),ta:Ik.bind(null,i),na:Nk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await gd(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new lg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(i,e){if(Ai("AsyncQueue",`${e}: ${i}`),zo(i))return new he(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.ga=new yt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Io{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Io(e,n,Eo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Mk{constructor(){this.queries=Ab(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=De(n),u=o.queries;o.queries=Ab(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function Ab(){return new Ea((i=>NT(i)),ud)}async function d1(i,e){const n=De(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Ok,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ug(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&cg(n)}async function f1(i,e){const n=De(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Vk(i,e){const n=De(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&cg(n)}function Pk(i,e,n){const s=De(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function cg(i){i.Ca.forEach((e=>{e.next()}))}var fp,Sb;(Sb=fp||(fp={})).Ma="default",Sb.Cache="cache";class m1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.key=e}}class g1{constructor(e){this.key=e}}class Lk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=kT(e),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new wb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),M=cd(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;A&&M?A.data.isEqual(M.data)?F!==Q&&(s.track({type:3,doc:M}),B=!0):this.su(A,M)||(s.track({type:2,doc:M}),B=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),B=!0):A&&!M&&(s.track({type:1,doc:A}),B=!0,(p||g)&&(m=!0)),B&&(M?(h=h.add(M),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(M,F){const Q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:B})}};return Q(M)-Q(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Io(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new g1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new p1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hg="SyncEngine";class jk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Uk{constructor(e){this.key=e,this.hu=!1}}class zk{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ea((m=>NT(m)),ud),this.Iu=new Map,this.Eu=new Set,this.du=new yt(be.comparator),this.Au=new Map,this.Ru=new eg,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bk(i,e,n=!0){const s=T1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await y1(s,e,n,!0),o}async function qk(i,e){const n=T1(i);await y1(n,e,!0,!1)}async function y1(i,e,n,s){const o=await lk(i.localStore,Fr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await Hk(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&a1(i.remoteStore,o),m}async function Hk(i,e,n,s,o){i.pu=(T,A,M)=>(async function(Q,B,Z,se){let J=B.view.ru(Z);J.Cs&&(J=await _b(Q.localStore,B.query,!1).then((({documents:R})=>B.view.ru(R,J))));const de=se&&se.targetChanges.get(B.targetId),Te=se&&se.targetMismatches.get(B.targetId)!=null,we=B.view.applyChanges(J,Q.isPrimaryClient,de,Te);return Cb(Q,B.targetId,we.au),we.snapshot})(i,T,A,M);const u=await _b(i.localStore,e,!0),h=new Lk(e,u.Qs),m=h.ru(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);Cb(i,n,g.au);const E=new jk(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function Fk(i,e,n){const s=De(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ud(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ig(s.remoteStore,o.targetId),mp(s,o.targetId)})).catch(Uo)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function Gk(i,e){const n=De(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function Qk(i,e,n){const s=Zk(i);try{const o=await(function(h,m){const p=De(h),g=Ce.now(),E=m.reduce(((M,F)=>M.add(F.key)),qe());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let F=Si(),Q=qe();return p.Ns.getEntries(M,E).next((B=>{F=B,F.forEach(((Z,se)=>{se.isValidDocument()||(Q=Q.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,F))).next((B=>{T=B;const Z=[];for(const se of m){const J=oN(se,T.get(se.key).overlayedDocument);J!=null&&Z.push(new Cs(se.key,J,TT(J.value.mapValue),gr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Z,m)})).next((B=>{A=B;const Z=B.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(M,B.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:OT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new yt(Be)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Mu(s,o.changes),await gd(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");n.reject(u)}}async function _1(i,e){const n=De(i);try{const s=await sk(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))})),await Mu(n,s,e)}catch(s){await Uo(s)}}function Rb(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=De(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&cg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Kk(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new yt(be.comparator);h=h.insert(u,cn.newNoDocument(u,Ne.min()));const m=qe().add(u),p=new fd(Ne.min(),new Map,new yt(Be),h,m);await _1(s,p),s.du=s.du.remove(u),s.Au.delete(e),dg(s)}else await hp(s.localStore,e,!1).then((()=>mp(s,e,n))).catch(Uo)}async function Yk(i,e){const n=De(i),s=e.batch.batchId;try{const o=await ik(n.localStore,e);b1(n,s,null),v1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Mu(n,o)}catch(o){await Uo(o)}}async function $k(i,e,n){const s=De(i);try{const o=await(function(h,m){const p=De(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);b1(s,e,n),v1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Mu(s,o)}catch(o){await Uo(o)}}function v1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function b1(i,e,n){const s=De(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function mp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||E1(i,s)}))}function E1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(ig(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),dg(i))}function Cb(i,e,n){for(const s of n)s instanceof p1?(i.Ru.addReference(s.key,e),Xk(i,s)):s instanceof g1?(fe(hg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||E1(i,s.key)):Re(19791,{wu:s})}function Xk(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(hg,"New document in limbo: "+n),i.Eu.add(s),dg(i))}function dg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(ut.fromString(e)),s=i.fu.next();i.Au.set(s,new Uk(n)),i.du=i.du.insert(n,s),a1(i.remoteStore,new hs(Fr($p(n.path)),s,"TargetPurposeLimboResolution",ad.ce))}}async function Mu(i,e,n){const s=De(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=ng.As(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=De(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(A=>ie.forEach(A.Es,(M=>E.persistence.referenceDelegate.addReference(T,A.targetId,M))).next((()=>ie.forEach(A.ds,(M=>E.persistence.referenceDelegate.removeReference(T,A.targetId,M)))))))))}catch(T){if(!zo(T))throw T;fe(rg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const M=E.Ms.get(A),F=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(A,Q)}}})(s.localStore,u))}async function Wk(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){fe(hg,"User change. New user:",e.toKey());const s=await n1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(ne.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mu(n,s.Ls)}}function Jk(i,e){const n=De(i),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function T1(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kk.bind(null,e),e.Pu.H_=Vk.bind(null,e.eventManager),e.Pu.yu=Pk.bind(null,e.eventManager),e}function Zk(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$k.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rk(this.persistence,new ek,e.initialUser,this.serializer)}Cu(e){return new t1(tg.mi,this.serializer)}Du(e){return new ck}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class eD extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new t1((s=>$h.mi(s,n)),this.serializer)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wk.bind(null,this.syncEngine),await Dk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Mk})()}createDatastore(e){const n=md(e.databaseInfo.databaseId),s=(function(u){return new pk(u)})(e.databaseInfo);return(function(u,h,m,p){return new vk(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new Ek(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Rb(this.syncEngine,n,0)),(function(){return Eb.v()?new Eb:new hk})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new zk(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=De(o);fe(va,"RemoteStore shutting down."),u.Ea.add(5),await Ou(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class tD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{fe(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ug(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Bm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await n1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Ib(i,e){i.asyncQueue.verifyOperationInProgress();const n=await nD(i);fe(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>xb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>xb(e.remoteStore,o))),i._onlineComponents=e}async function nD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Ts,"Using user provided OfflineComponentProvider");try{await Bm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Bm(i,new Wh)}}else fe(Ts,"Using default OfflineComponentProvider"),await Bm(i,new eD(void 0));return i._offlineComponents}async function w1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Ts,"Using user provided OnlineComponentProvider"),await Ib(i,i._uninitializedComponentsProvider._online)):(fe(Ts,"Using default OnlineComponentProvider"),await Ib(i,new pp))),i._onlineComponents}function rD(i){return w1(i).then((e=>e.syncEngine))}async function A1(i){const e=await w1(i),n=e.eventManager;return n.onListen=Bk.bind(null,e.syncEngine),n.onUnlisten=Fk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gk.bind(null,e.syncEngine),n}function iD(i,e,n={}){const s=new Ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new x1({next:A=>{E.Nu(),h.enqueueAndForget((()=>f1(u,T)));const M=A.docs.has(m);!M&&A.fromCache?g.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&p&&p.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new m1($p(m.path),E,{includeMetadataChanges:!0,qa:!0});return d1(u,T)})(await A1(i),i.asyncQueue,e,n,s))),s.promise}function sD(i,e,n={}){const s=new Ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new x1({next:A=>{E.Nu(),h.enqueueAndForget((()=>f1(u,T))),A.fromCache&&p.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new m1(m,E,{includeMetadataChanges:!0,qa:!0});return d1(u,T)})(await A1(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firestore.googleapis.com",kb=!0;class Db{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R1,this.ssl=kb}else this.host=e.host,this.ssl=e.ssl??kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hI;switch(s.type){case"firstParty":return new pI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Nb.get(n);s&&(fe("ComponentProvider","Removing Datastore"),Nb.delete(n),s.terminate())})(this),Promise.resolve()}}function aD(i,e,n,s={}){var g;i=Yr(i,yd);const o=Vo(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(gE(`https://${m}`),yE("Firestore",!0)),u.host!==R1&&u.host!==m&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ma(p,h)&&(i._setSettings(p),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=un.MOCK_USER;else{E=bS(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new un(A)}i._authCredentials=new dI(new cT(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nu(n,Rt._jsonSchema))return new Rt(e,s||null,new be(ut.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:jt("string",Rt._jsonSchemaVersion),referencePath:jt("string")};class gs extends Is{constructor(e,n,s){super(e,n,$p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new be(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function pi(i,e,...n){if(i=Qt(i),hT("collection","path",e),i instanceof yd){const s=ut.fromString(e,...n);return G0(s),new gs(i,null,s)}{if(!(i instanceof Rt||i instanceof gs))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ut.fromString(e,...n));return G0(s),new gs(i.firestore,null,s)}}function Ft(i,e,...n){if(i=Qt(i),arguments.length===1&&(e=Hp.newId()),hT("doc","path",e),i instanceof yd){const s=ut.fromString(e,...n);return F0(s),new Rt(i,null,new be(s))}{if(!(i instanceof Rt||i instanceof gs))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ut.fromString(e,...n));return F0(s),new Rt(i.firestore,i instanceof gs?i.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="AsyncQueue";class Mb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i1(this,"async_queue_retry"),this._c=()=>{const s=zm();s&&fe(Ob,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;fe(Ob,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",Vb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=lg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:Vb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Vb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ho extends yd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Mb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mb(e),this._firestoreClient=void 0,await e}}}function oD(i,e){const n=typeof i=="object"?i:EE(),s=typeof i=="string"?i:Hh,o=kp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_S("firestore");u&&aD(o,...u)}return o}function fg(i){if(i._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||lD(i),i._firestoreClient}function lD(i){var s,o,u;const e=i._freezeSettings(),n=(function(m,p,g,E){return new DI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,S1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new tD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(rn.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:jt("string",Jn._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:jt("string",Qr._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Kr(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:jt("string",Kr._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^__.*__$/;class cD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class C1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class mg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I1(this.Ac)&&uD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||md(e)}Cc(e,n,s,o=!1){return new mg({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bd(i){const e=i._freezeSettings(),n=md(i._databaseId);return new hD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function N1(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);gg("Data must be an object, but it was:",h,s);const m=k1(s,h);let p,g;if(u.merge)p=new Vn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=gp(e,T,n);if(!h.contains(A))throw new he(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);O1(E,A)||E.push(A)}p=new Vn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new cD(new wn(m),p,g)}class Ed extends vd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}class pg extends vd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Eu(e.serializer,PT(e.serializer,this.Fc));return new rN(e.path,n)}isEqual(e){return e instanceof pg&&this.Fc===e.Fc}}function dD(i,e,n,s){const o=i.Cc(1,e,n);gg("Data must be an object, but it was:",o,s);const u=[],h=wn.empty();Rs(s,((p,g)=>{const E=yg(e,p,n);g=Qt(g);const T=o.yc(E);if(g instanceof Ed)u.push(E);else{const A=Vu(g,T);A!=null&&(u.push(E),h.set(E,A))}}));const m=new Vn(u);return new C1(h,m,o.fieldTransforms)}function fD(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[gp(e,s,n)],p=[o];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(gp(e,u[A])),p.push(u[A+1]);const g=[],E=wn.empty();for(let A=m.length-1;A>=0;--A)if(!O1(g,m[A])){const M=m[A];let F=p[A];F=Qt(F);const Q=h.yc(M);if(F instanceof Ed)g.push(M);else{const B=Vu(F,Q);B!=null&&(g.push(M),E.set(M,B))}}const T=new Vn(g);return new C1(E,T,h.fieldTransforms)}function mD(i,e,n,s=!1){return Vu(n,i.Cc(s?4:3,e))}function Vu(i,e){if(D1(i=Qt(i)))return gg("Unsupported field value:",e,i),k1(i,e);if(i instanceof vd)return(function(s,o){if(!I1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Vu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ce.fromDate(s);return{timestampValue:Yh(o.serializer,u)}}if(s instanceof Ce){const u=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(s instanceof Qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:KT(o.serializer,s._byteString)};if(s instanceof Rt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kr)return(function(h,m){return{mapValue:{fields:{[bT]:{stringValue:ET},[Fh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Xp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${sd(s)}`)})(i,e)}function k1(i,e){const n={};return mT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(i,((s,o)=>{const u=Vu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function D1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ce||i instanceof Qr||i instanceof Jn||i instanceof Rt||i instanceof vd||i instanceof Kr)}function gg(i,e,n){if(!D1(n)||!dT(n)){const s=sd(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function gp(i,e,n){if((e=Qt(e))instanceof _d)return e._internalPath;if(typeof e=="string")return yg(i,e);throw Jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const pD=new RegExp("[~\\*/\\[\\]]");function yg(i,e,n){if(e.search(pD)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new _d(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(ne.INVALID_ARGUMENT,m+i+p)}function O1(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gD extends M1{data(){return super.data()}}function Td(i,e){return typeof e=="string"?yg(i,e):e instanceof _d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class vg extends _g{}function oa(i,e,...n){let s=[];e instanceof _g&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof bg)).length,m=u.filter((p=>p instanceof xd)).length;if(h>1||h>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class xd extends vg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new xd(e,n,s)}_apply(e){const n=this._parse(e);return V1(e._query,n),new Is(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=bd(e.firestore);return(function(u,h,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Lb(T,E);const F=[];for(const Q of T)F.push(Pb(p,u,Q));A={arrayValue:{values:F}}}else A=Pb(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Lb(T,E),A=mD(m,h,T,E==="in"||E==="not-in");return Lt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _h(i,e,n){const s=e,o=Td("where",i);return xd._create(o,s,n)}class bg extends _g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)V1(h,p),h=ap(h,p)})(e._query,n),new Is(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends vg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Eg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(u,h)})(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Bo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function vh(i,e="asc"){const n=e,s=Td("orderBy",i);return Eg._create(s,n)}class Tg extends vg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Tg(e,n,s)}_apply(e){return new Is(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function _D(i){return Tg._create("limit",i,"F")}function Pb(i,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!be.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z0(i,new be(s))}if(n instanceof Rt)return Z0(i,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sd(n)}.`)}function Lb(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V1(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vD{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Rs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Fh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>St(h.doubleValue)));return new Kr(n)}convertGeoPoint(e){return new Qr(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ld(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Xe(ZT(s),9688,{name:e});const o=new gu(s.get(1),s.get(3)),u=new be(s.popFirst(5));return o.isEqual(n)||Ai(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends M1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Td("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:jt("string",fa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Dh extends fa{data(e={}){return super.data(e)}}class To{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ru(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Dh(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:bD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(i){i=Yr(i,Rt);const e=Yr(i.firestore,Ho);return iD(fg(e),i._key).then((n=>ED(e,i,n)))}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:jt("string",To._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class L1 extends vD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function la(i){i=Yr(i,Is);const e=Yr(i.firestore,Ho),n=fg(e),s=new L1(e);return yD(i._query),sD(n,i._query).then((o=>new To(e,s,i,o)))}function yo(i,e,n){i=Yr(i,Rt);const s=Yr(i.firestore,Ho),o=P1(i.converter,e);return xg(s,[N1(bd(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,gr.none())])}function ca(i,e,n,...s){i=Yr(i,Rt);const o=Yr(i.firestore,Ho),u=bd(o);let h;return h=typeof(e=Qt(e))=="string"||e instanceof _d?fD(u,"updateDoc",i._key,e,n,s):dD(u,"updateDoc",i._key,e),xg(o,[h.toMutation(i._key,gr.exists(!0))])}function jb(i,e){const n=Yr(i.firestore,Ho),s=Ft(i),o=P1(i.converter,e);return xg(n,[N1(bd(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,gr.exists(!1))]).then((()=>s))}function xg(i,e){return(function(s,o){const u=new Ei;return s.asyncQueue.enqueueAndForget((async()=>Qk(await rD(s),o,u))),u.promise})(fg(i),e)}function ED(i,e,n){const s=n.docs.get(e._key),o=new L1(i);return new fa(i,o,e._key,s,new ru(n.hasPendingWrites,n.fromCache),e.converter)}function TD(i){return new pg("increment",i)}(function(e,n=!0){(function(o){jo=o})(Po),xo(new pa("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ho(new fI(s.getProvider("auth-internal")),new gI(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ms(z0,B0,e),ms(z0,B0,"esm2020")})();const xD={apiKey:"AIzaSyAs26TbQs6ZJWjqRH2M1DiG955nn04fsbM",authDomain:"casaam.firebaseapp.com",projectId:"casaam",storageBucket:"casaam.firebasestorage.app",messagingSenderId:"683636365630",appId:"1:683636365630:web:fd7025f6459a1ebc42746f"},j1=bE(xD),$l=uI(j1),lt=oD(j1),wD=new gi;var yp=(i=>(i.active="active",i.disabled="disabled",i))(yp||{}),os=(i=>(i.pending="pending",i.requested="requested",i.paid="paid",i.failed="failed",i.manualPaid="manualPaid",i))(os||{}),U1=(i=>(i.percent="percent",i.flat="flat",i))(U1||{});const en=[];for(let i=0;i<256;++i)en.push((i+256).toString(16).slice(1));function AD(i,e=0){return(en[i[e+0]]+en[i[e+1]]+en[i[e+2]]+en[i[e+3]]+"-"+en[i[e+4]]+en[i[e+5]]+"-"+en[i[e+6]]+en[i[e+7]]+"-"+en[i[e+8]]+en[i[e+9]]+"-"+en[i[e+10]]+en[i[e+11]]+en[i[e+12]]+en[i[e+13]]+en[i[e+14]]+en[i[e+15]]).toLowerCase()}let qm;const SD=new Uint8Array(16);function RD(){if(!qm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qm=crypto.getRandomValues.bind(crypto)}return qm(SD)}const CD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ub={randomUUID:CD};function ID(i,e,n){var o;i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??RD();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,AD(s)}function Xl(i,e,n){return Ub.randomUUID&&!i?Ub.randomUUID():ID(i)}const bh={merchantUid:"M0910426",apiUserId:"1000762",apiKey:"API-731753012AHX",apiUrl:"https://api.waafipay.net/asm"},zb={cloudName:"dfmf4ssua",uploadPreset:"yuukey_preset"},Bb=async(i,e,n)=>{var s,o;try{const u={schemaVersion:"1.0",requestId:Xl(),timestamp:new Date().toISOString(),channelName:"WEB",serviceName:"API_PURCHASE",serviceParams:{merchantUid:bh.merchantUid,apiUserId:bh.apiUserId,apiKey:bh.apiKey,paymentMethod:"MWALLET_ACCOUNT",payerInfo:{accountNo:i},transactionInfo:{referenceId:Xl(),invoiceId:Xl(),amount:e.toFixed(2),currency:"USD",description:n}}};console.log("Sending WaafiPay Request:",u);try{const h=await fetch(bh.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!h.ok)throw new Error(`HTTP Error ${h.status}`);const m=await h.json(),p=m.responseCode,g=(s=m.params)==null?void 0:s.transactionId;return p==="2001"&&((o=m.params)==null?void 0:o.state)==="APPROVED"?{success:!0,message:"Payment successful!",transactionId:g||Xl()}:{success:!1,message:m.responseMsg||"Payment failed"}}catch(h){return console.warn("CORS/Network error with WaafiPay direct call (expected in browser). Simulating success for demo.",h),new Promise(m=>{setTimeout(()=>{m({success:!0,message:"Payment Successful (Simulation)",transactionId:"SIM-"+Xl()})},2e3)})}}catch(u){return{success:!1,message:u.message||"System error"}}},z1=async i=>{const e=`https://api.cloudinary.com/v1_1/${zb.cloudName}/image/upload`,n=new FormData;n.append("file",i),n.append("upload_preset",zb.uploadPreset);try{const s=await fetch(e,{method:"POST",body:n});if(!s.ok)throw new Error("Upload failed");return(await s.json()).secure_url}catch(s){return console.error("Cloudinary upload error:",s),null}},ND=async(i,e,n,s,o)=>new Promise(u=>{const h=document.createElement("canvas"),m=h.getContext("2d");if(!m){u(null);return}h.width=1200,h.height=850,m.fillStyle="#FFFFFF",m.fillRect(0,0,h.width,h.height),m.lineWidth=20,m.strokeStyle="#1A5276",m.strokeRect(40,40,h.width-80,h.height-80),m.lineWidth=5,m.strokeStyle="#FFB74D",m.strokeRect(65,65,h.width-130,h.height-130),m.fillStyle="#1A5276",m.font="bold 60px Montserrat, sans-serif",m.textAlign="center",m.fillText("CERTIFICATE",h.width/2,180),m.font="40px Montserrat, sans-serif",m.fillText("OF COMPLETION",h.width/2,230),m.fillStyle="#546E7A",m.font="italic 30px Lato, sans-serif",m.fillText("This is to certify that",h.width/2,330),m.fillStyle="#000000",m.font="bold 70px Merriweather, serif",m.fillText(i,h.width/2,420),m.beginPath(),m.moveTo(h.width/2-300,440),m.lineTo(h.width/2+300,440),m.strokeStyle="#E0E0E0",m.lineWidth=2,m.stroke(),m.fillStyle="#546E7A",m.font="italic 30px Lato, sans-serif",m.fillText("has successfully completed the course",h.width/2,520),m.fillStyle="#1A5276",m.font="bold 50px Montserrat, sans-serif",m.fillText(e,h.width/2,590);const p=n.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});m.fillStyle="#546E7A",m.font="25px Lato, sans-serif",m.textAlign="left",m.fillText(`Date: ${p}`,100,750),m.textAlign="right",m.fillText(s,h.width-100,750),m.font="bold 20px Lato, sans-serif",m.fillText(`Verify at ${o}`,h.width-100,780),m.beginPath(),m.arc(h.width/2,720,40,0,2*Math.PI),m.fillStyle="#1A5276",m.fill(),m.fillStyle="#FFF",m.font="bold 30px Montserrat",m.textAlign="center",m.fillText(s.substring(0,2).toUpperCase(),h.width/2,732),h.toBlob(g=>{u(g)},"image/png")}),B1=P.createContext(void 0),q1=P.createContext(void 0),H1=P.createContext({isDark:!1,toggleTheme:()=>{}}),kD=({children:i})=>{const[e,n]=P.useState(!1);return P.useEffect(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches&&n(!0)},[]),P.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),v.jsx(H1.Provider,{value:{isDark:e,toggleTheme:()=>n(!e)},children:i})},DD=({children:i})=>{const[e,n]=P.useState(null),[s,o]=P.useState(null),[u,h]=P.useState(!0),m=async M=>{var F,Q;try{const B=Ft(lt,"students",M),Z=await go(B);if(Z.exists()){const se=Z.data();o({id:Z.id,...se,createdAt:(F=se.createdAt)==null?void 0:F.toDate(),updatedAt:(Q=se.updatedAt)==null?void 0:Q.toDate()})}}catch(B){console.error("Error fetching profile",B)}};P.useEffect(()=>W2($l,async F=>{n(F),F?await m(F.uid):o(null),h(!1)}),[]);const p=async(M,F)=>{try{return await Y2($l,M,F),null}catch(Q){return Q.message}},g=async(M,F,Q)=>{try{const B=await K2($l,M,F),Z={fullName:Q,email:M,status:yp.active,createdAt:Ce.now(),updatedAt:Ce.now(),avatarUrl:""};return await yo(Ft(lt,"students",B.user.uid),Z),await m(B.user.uid),null}catch(B){return B.message}},E=async()=>{try{const F=(await _C($l,wD)).user,Q=Ft(lt,"students",F.uid);if(!(await go(Q)).exists()){const Z={fullName:F.displayName||"Student",email:F.email,avatarUrl:F.photoURL,status:yp.active,createdAt:Ce.now(),updatedAt:Ce.now()};await yo(Q,Z)}return await m(F.uid),null}catch(M){return M.message}},T=async()=>{await J2($l),o(null)},A=async(M,F,Q)=>{if(!e||!s)return"No user";try{let B=s.avatarUrl;if(Q){const Z=await z1(Q);Z&&(B=Z)}return await ca(Ft(lt,"students",e.uid),{fullName:M,phone:F,avatarUrl:B,updatedAt:Ce.now()}),o(Z=>Z?{...Z,fullName:M,phone:F,avatarUrl:B}:null),null}catch(B){return B.message}};return v.jsx(B1.Provider,{value:{currentUser:e,studentProfile:s,loading:u,login:p,register:g,loginWithGoogle:E,logout:T,updateProfile:A},children:i})},OD=({children:i})=>{const{currentUser:e,studentProfile:n}=Pu(),[s,o]=P.useState(null),[u,h]=P.useState([]),[m,p]=P.useState([]),[g,E]=P.useState([]),[T,A]=P.useState([]),[M,F]=P.useState(!0),Q=async()=>{var oe,pe;try{const U=oa(pi(lt,"app_content"),_D(1)),Y=await la(U);if(Y.empty)o({id:"default",title:"Casaam Academy",description:"Welcome to our platform",logoUrl:"",imagesectionurl:"",videoUrl:"",androidUrl:"",androidLogo:"",iosUrl:"",iosLogo:"",footerDescription:"Empowering students.",version:"1.0.0",testimonials:[],websiteName:"Casaam Academy",verifyAt:"casaam.com",createdAt:new Date,updatedAt:new Date});else{const te=Y.docs[0],ae=te.data();let ye=[];ae.testimonials&&Array.isArray(ae.testimonials)&&(ye=ae.testimonials),o({id:te.id,...ae,imagesectionurl:ae.imagesectionurl||"",title:ae.title||"Casaam Academy",description:ae.description||"",logoUrl:ae.logoUrl||"",videoUrl:ae.videoUrl||"",footerDescription:ae.footerDescription||"",version:ae.version||"1.0.0",androidUrl:ae.androidUrl||"",androidLogo:ae.androidLogo||"",iosUrl:ae.iosUrl||"",iosLogo:ae.iosLogo||"",testimonials:ye,websiteName:ae.websiteName||"Casaam Academy",verifyAt:ae.verifyAt||"casaam.com",createdAt:((oe=ae.createdAt)==null?void 0:oe.toDate())||new Date,updatedAt:((pe=ae.updatedAt)==null?void 0:pe.toDate())||new Date})}}catch(U){console.warn("AppContent fetch warning: ",U.message||U),o({id:"error",title:"Casaam Academy",description:"Welcome to our platform",logoUrl:"",imagesectionurl:"",videoUrl:"",androidUrl:"",androidLogo:"",iosUrl:"",iosLogo:"",footerDescription:"Empowering students.",version:"1.0.0",testimonials:[],websiteName:"Casaam Academy",verifyAt:"casaam.com",createdAt:new Date,updatedAt:new Date})}},B=async()=>{try{const oe=oa(pi(lt,"courses"),vh("createdAt","desc")),U=(await la(oe)).docs.map(Y=>{var ae,ye;const te=Y.data();return{id:Y.id,...te,createdAt:(ae=te.createdAt)==null?void 0:ae.toDate(),updatedAt:(ye=te.updatedAt)==null?void 0:ye.toDate()}});h(U)}catch(oe){console.warn("Courses fetch warning: ",oe.message||oe)}},Z=async()=>{try{const oe=oa(pi(lt,"coupons"),vh("startDate","desc")),U=(await la(oe)).docs.map(Y=>{var ae,ye;const te=Y.data();return{id:Y.id,...te,startDate:(ae=te.startDate)==null?void 0:ae.toDate(),endDate:(ye=te.endDate)==null?void 0:ye.toDate()}});A(U)}catch(oe){console.error("Coupons fetch error",oe)}},se=async()=>{if(e)try{const oe=oa(pi(lt,"enrollments"),_h("userId","==",e.uid)),pe=await la(oe);p(pe.docs.map(te=>{const ae=te.data();return{id:te.id,...ae,enrolledAt:ae.enrolledAt.toDate(),expiresAt:ae.expiresAt.toDate()}}));const U=oa(pi(lt,"certificates"),_h("userId","==",e.uid)),Y=await la(U);E(Y.docs.map(te=>{const ae=te.data();return{id:te.id,...ae,issuedAt:ae.issuedAt.toDate()}}))}catch(oe){console.error(oe)}};P.useEffect(()=>{(async()=>{F(!0);const pe=Promise.all([Q(),B(),Z()]),U=new Promise(Y=>setTimeout(Y,3e3));await Promise.race([pe,U]),F(!1)})()},[]),P.useEffect(()=>{e?se():(p([]),E([]))},[e]);const J=async oe=>{const pe=oa(pi(lt,"sections"),_h("courseId","==",oe),vh("order"));return(await la(pe)).docs.map(Y=>{var te;return{id:Y.id,...Y.data(),createdAt:(te=Y.data().createdAt)==null?void 0:te.toDate()}})},de=async oe=>{const pe=oa(pi(lt,"lessons"),_h("sectionId","==",oe),vh("order"));return(await la(pe)).docs.map(Y=>{var te;return{id:Y.id,...Y.data(),createdAt:(te=Y.data().createdAt)==null?void 0:te.toDate()}})},Te=(oe,pe)=>{const U=new Date,Y=oe.toUpperCase().trim(),te=T.find(ae=>ae.code.toUpperCase()===Y&&ae.isActive&&ae.endDate>=U&&ae.usedCount<ae.maxUses);return te&&(te.allCourses||te.courseIds.includes(pe))?te:null},we=(oe,pe)=>{let U=0;oe.discountType===U1.percent?U=pe*oe.discountValue/100:U=oe.discountValue;let Y=pe-U;return Y<0&&(Y=0),{discount:U,finalPrice:Y}},R=async(oe,pe,U,Y=0,te)=>{if(!e)return{success:!1,message:"Please login first"};const ae=pi(lt,"orders"),ye=te!==void 0?te:oe.price,k=ye<=0,X={userId:e.uid,courseId:oe.id,amount:oe.price,discount:Y,couponCode:U||null,finalAmount:ye,currency:oe.currency,evcPhone:pe||"N/A",status:k?os.paid:os.requested,paymentMethod:k?"COUPON/FREE":"EVC",createdAt:Ce.now(),updatedAt:Ce.now()},le=await jb(ae,X);let ce=k,_e=k?`FREE-${le.id}`:void 0,Ee=k?"Enrolled Successfully!":"";if(!k){const Ie=await Bb(pe,ye,`Course: ${oe.title}`);ce=Ie.success,_e=Ie.transactionId,Ee=Ie.message}if(ce){await ca(Ft(lt,"orders",le.id),{status:os.paid,transactionId:_e,updatedAt:Ce.now()});const Ie=`${e.uid}_${oe.id}`,st=new Date;st.setFullYear(st.getFullYear()+1);const Ge={userId:e.uid,courseId:oe.id,enrolledAt:Ce.now(),expiresAt:Ce.fromDate(st)};if(await yo(Ft(lt,"enrollments",Ie),Ge),U){const mn=T.find(Ln=>Ln.code.toUpperCase()===U.toUpperCase());mn&&await ca(Ft(lt,"coupons",mn.id),{usedCount:TD(1)})}return await se(),await Z(),{success:!0,message:Ee||"Payment successful!"}}else return await ca(Ft(lt,"orders",le.id),{status:os.failed,updatedAt:Ce.now()}),{success:!1,message:Ee||"Payment failed"}},S=async(oe,pe)=>{if(!e)return{success:!1,message:"Please login first"};const U=pi(lt,"orders"),Y={userId:e.uid,courseId:oe.id,amount:oe.price,discount:0,couponCode:null,finalAmount:oe.price,currency:oe.currency,evcPhone:pe,status:os.requested,paymentMethod:"EVC_RENEWAL",createdAt:Ce.now(),updatedAt:Ce.now()},te=await jb(U,Y),ae=await Bb(pe,oe.price,`Renewal: ${oe.title}`);if(ae.success){await ca(Ft(lt,"orders",te.id),{status:os.paid,transactionId:ae.transactionId,updatedAt:Ce.now()});const ye=`${e.uid}_${oe.id}`,k=new Date;return k.setFullYear(k.getFullYear()+1),await ca(Ft(lt,"enrollments",ye),{expiresAt:Ce.fromDate(k),enrolledAt:Ce.now()}),await se(),{success:!0,message:"Renewal successful! Validity extended by 1 year."}}else return await ca(Ft(lt,"orders",te.id),{status:os.failed,updatedAt:Ce.now()}),{success:!1,message:ae.message||"Payment failed"}},I=async oe=>{if(!e)return{success:!1,message:"Please login first"};try{const pe=`${e.uid}_${oe.id}`,U=new Date;U.setFullYear(U.getFullYear()+1);const Y={userId:e.uid,courseId:oe.id,enrolledAt:Ce.now(),expiresAt:Ce.fromDate(U)};return await yo(Ft(lt,"enrollments",pe),Y),await se(),{success:!0,message:"Successfully Enrolled!"}}catch(pe){return console.error("Free enrollment error",pe),{success:!1,message:pe.message||"Enrollment failed"}}},O=async oe=>{if(!e)return null;const pe=`${e.uid}_${oe}`,U=await go(Ft(lt,"progresses",pe));if(U.exists()){const Y=U.data();return{id:U.id,...Y,updatedAt:Y.updatedAt.toDate()}}return null},D=async(oe,pe)=>{if(!e||!n)return null;const U=`${e.uid}_${oe}`,Y=Ft(lt,"progresses",U);let te;const ae=await go(Y);ae.exists()?te=ae.data():te={userId:e.uid,courseId:oe,completedLessons:{},progressPercent:0,updatedAt:Ce.now()};const ye={...te.completedLessons,[pe]:!0},k=await J(oe);let X=0;for(const Ee of k){const Ie=await de(Ee.id);X+=Ie.length}const le=Object.values(ye).filter(Ee=>Ee).length,ce=X>0?le/X*100:0,_e={...te,completedLessons:ye,progressPercent:ce,updatedAt:Ce.now()};if(await yo(Y,_e),ce>=99.9){const Ee=U;if(!(await go(Ft(lt,"certificates",Ee))).exists()){const st=n.fullName||"Student",Ge=u.find(br=>br.id===oe)||(await go(Ft(lt,"courses",oe))).data(),mn=(Ge==null?void 0:Ge.title)||"Course",Ln=(s==null?void 0:s.websiteName)||"Casaam Academy",vr=(s==null?void 0:s.verifyAt)||"casaam.com",jn=await ND(st,mn,new Date,Ln,vr);let sn="";jn&&(sn=await z1(jn)||""),await yo(Ft(lt,"certificates",Ee),{userId:e.uid,courseId:oe,certificateUrl:sn||"error-generating-url",issuedAt:Ce.now()}),se()}}return{id:U,..._e,updatedAt:_e.updatedAt.toDate()}},L=oe=>m.some(pe=>pe.courseId===oe),C=oe=>{const pe=m.find(U=>U.courseId===oe);return pe?new Date>pe.expiresAt:!1};return v.jsx(q1.Provider,{value:{appContent:s,courses:u,enrollments:m,certificates:g,coupons:T,loadingData:M,fetchCourses:B,fetchAppContent:Q,fetchCoupons:Z,getCourseSections:J,getSectionLessons:de,purchaseCourse:R,renewEnrollment:S,enrollFreeCourse:I,getProgress:O,markLessonComplete:D,checkEnrollment:L,isEnrollmentExpired:C,validateCoupon:Te,calculateDiscount:we},children:i})},Pu=()=>{const i=P.useContext(B1);if(!i)throw new Error("useAuth must be used within AuthProvider");return i},Ns=()=>{const i=P.useContext(q1);if(!i)throw new Error("useData must be used within DataProvider");return i},MD=()=>P.useContext(H1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PD=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),qb=i=>{const e=PD(i);return e.charAt(0).toUpperCase()+e.slice(1)},F1=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),LD=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=P.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>P.createElement("svg",{ref:p,...jD,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:F1("lucide",o),...!u&&!LD(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>P.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(i,e)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(UD,{ref:u,iconNode:e,className:F1(`lucide-${VD(qb(i))}`,`lucide-${i}`,s),...o}));return n.displayName=qb(i),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_p=_t("award",zD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qD=_t("book-open",BD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],FD=_t("camera",HD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QD=_t("check",GD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],G1=_t("chevron-down",KD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$D=_t("chevron-left",YD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Q1=_t("chevron-right",XD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JD=_t("chevron-up",WD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],No=_t("circle-check-big",ZD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wg=_t("circle-play",e4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],n4=_t("copy",t4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vp=_t("download",r4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],s4=_t("list",i4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],K1=_t("loader-circle",a4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hb=_t("lock",o4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u4=_t("log-out",l4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],h4=_t("menu",c4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Fb=_t("moon",d4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Gb=_t("sun",f4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],p4=_t("tag",m4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ko=_t("triangle-alert",g4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bp=_t("user",y4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ag=_t("x",_4),Fo=({className:i="h-4 w-full"})=>v.jsx("div",{className:`shimmer bg-gray-200 dark:bg-dark-border rounded-md ${i}`}),Et=({children:i,onClick:e,variant:n="primary",className:s="",disabled:o=!1})=>{const u="px-5 py-2.5 rounded-lg font-bold font-display tracking-wide transition-all duration-250 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95 text-sm md:text-base",h={primary:"bg-brand-600 dark:bg-brand-500 text-white shadow-lg shadow-brand-600/20 dark:shadow-brand-500/20 hover:shadow-xl hover:-translate-y-0.5 border border-transparent",secondary:"bg-white dark:bg-dark-border text-light-text dark:text-dark-text border border-gray-200 dark:border-dark-border hover:bg-gray-50 dark:hover:bg-slate-700 hover:-translate-y-0.5 hover:border-brand-600 dark:hover:border-brand-400",outline:"border-2 border-brand-600 dark:border-brand-400 text-brand-600 dark:text-brand-400 hover:bg-brand-50 dark:hover:bg-brand-400/10",danger:"bg-red-600 text-white shadow-lg shadow-red-600/20 hover:bg-red-700 hover:-translate-y-0.5"};return v.jsxs("button",{disabled:o,onClick:e,className:`${u} ${h[n]} ${s}`,children:[o&&v.jsx(K1,{className:"animate-spin w-4 h-4"}),i]})},v4=i=>{if(!i)return null;const e=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,n=i.match(e);if(n&&n[1])return{type:"youtube",src:`https://www.youtube.com/embed/${n[1]}`};const s=/(?:vimeo\.com\/)(\d+)/,o=i.match(s);return o&&o[1]?{type:"vimeo",src:`https://player.vimeo.com/video/${o[1]}`}:{type:"direct",src:i}},Y1=({url:i,className:e,onEnded:n})=>{const s=v4(i);return s?s.type==="direct"?v.jsx("video",{controls:!0,className:e,onEnded:n,playsInline:!0,controlsList:"nodownload",disablePictureInPicture:!0,onContextMenu:o=>o.preventDefault(),children:v.jsx("source",{src:s.src,type:"video/mp4"})},s.src):v.jsx("div",{className:e,onContextMenu:o=>o.preventDefault(),children:v.jsx("iframe",{src:s.src,title:"Video player",className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0},s.src)}):v.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center bg-black text-white/50 space-y-2 ${e}`,children:[v.jsx(wg,{size:48,className:"opacity-50"}),v.jsx("span",{children:"Video not available"})]})},b4=()=>{const{isDark:i,toggleTheme:e}=MD(),{currentUser:n,logout:s}=Pu(),{appContent:o}=Ns(),[u,h]=P.useState(!1),[m,p]=P.useState(!1),g=Mo();return v.jsxs("nav",{className:"sticky top-0 z-50 bg-light-bg/90 dark:bg-dark-bg/95 backdrop-blur-md border-b border-light-border dark:border-dark-border transition-all duration-250",children:[v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between h-16 items-center",children:[v.jsx(gt,{to:"/",className:"flex items-center gap-2 group",children:o!=null&&o.logoUrl?v.jsx("img",{src:o.logoUrl,alt:o.title||"Logo",className:"h-8 w-auto object-contain transition-transform duration-300 group-hover:scale-105"}):v.jsx("span",{className:"text-xl md:text-2xl font-bold font-display text-brand-600 dark:text-brand-400 tracking-tight",children:(o==null?void 0:o.title)||"BaroSkill"})}),v.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[v.jsx(gt,{to:"/courses",className:"text-light-text dark:text-dark-text hover:text-brand-600 dark:hover:text-brand-400 font-medium transition-colors text-sm",children:"Courses"}),n&&v.jsx(gt,{to:"/my-courses",className:"text-light-text dark:text-dark-text hover:text-brand-600 dark:hover:text-brand-400 font-medium transition-colors text-sm",children:"My Learning"}),v.jsx("div",{className:"w-px h-5 bg-gray-300 dark:bg-dark-border mx-1"}),v.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-dark-card text-gray-600 dark:text-brand-400 transition-all duration-300 hover:rotate-12",title:"Toggle Theme",children:i?v.jsx(Gb,{size:18}):v.jsx(Fb,{size:18})}),n?v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:()=>p(!m),className:"flex items-center space-x-2 text-light-text dark:text-dark-text focus:outline-none group",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-50 dark:bg-dark-card flex items-center justify-center text-brand-600 dark:text-brand-400 font-bold overflow-hidden border border-brand-100 dark:border-dark-border group-hover:border-brand-600 dark:group-hover:border-brand-400 transition-all shadow-sm",children:n.photoURL?v.jsx("img",{src:n.photoURL,alt:"avi",className:"w-full h-full object-cover"}):v.jsx(bp,{size:16})}),v.jsx(G1,{size:12,className:`text-gray-400 transition-transform duration-200 ${m?"rotate-180":""}`})]}),m&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>p(!1)}),v.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-dark-card border border-light-border dark:border-dark-border rounded-xl shadow-2xl dark:shadow-black/50 py-1 z-40 transform origin-top-right transition-all animate-in fade-in zoom-in-95 duration-200",children:[v.jsxs("div",{className:"px-5 py-3 border-b border-light-border dark:border-dark-border bg-gray-50/50 dark:bg-white/5",children:[v.jsx("p",{className:"text-sm font-bold text-light-text dark:text-dark-text truncate",children:"Student Account"}),v.jsx("p",{className:"text-[10px] text-light-muted dark:text-dark-muted truncate mt-0.5 font-mono",children:n.email})]}),v.jsxs("div",{className:"py-1",children:[v.jsxs(gt,{to:"/profile",onClick:()=>p(!1),className:"flex items-center gap-3 px-5 py-2.5 text-sm font-medium text-light-text dark:text-dark-text hover:bg-brand-50 dark:hover:bg-brand-400/10 hover:text-brand-600 dark:hover:text-brand-400 transition-colors",children:[v.jsx(bp,{size:14})," Profile"]}),v.jsxs(gt,{to:"/certificates",onClick:()=>p(!1),className:"flex items-center gap-3 px-5 py-2.5 text-sm font-medium text-light-text dark:text-dark-text hover:bg-brand-50 dark:hover:bg-brand-400/10 hover:text-brand-600 dark:hover:text-brand-400 transition-colors",children:[v.jsx(_p,{size:14})," Certificates"]})]}),v.jsx("div",{className:"border-t border-light-border dark:border-dark-border my-1"}),v.jsxs("button",{onClick:()=>{s(),g("/")},className:"flex items-center gap-3 w-full text-left px-5 py-2.5 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[v.jsx(u4,{size:14})," Sign Out"]})]})]})]}):v.jsxs("div",{className:"flex gap-2",children:[v.jsx(gt,{to:"/login",children:v.jsx(Et,{variant:"secondary",className:"px-3 py-1.5 text-xs h-8",children:"Log In"})}),v.jsx(gt,{to:"/register",children:v.jsx(Et,{className:"px-3 py-1.5 text-xs h-8 shadow-none",children:"Sign Up"})})]})]}),v.jsxs("div",{className:"md:hidden flex items-center gap-3",children:[v.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-card text-gray-600 dark:text-brand-400",children:i?v.jsx(Gb,{size:18}):v.jsx(Fb,{size:18})}),v.jsx("button",{onClick:()=>h(!u),className:"text-light-text dark:text-dark-text p-1",children:u?v.jsx(Ag,{size:24}):v.jsx(h4,{size:24})})]})]})}),u&&v.jsx("div",{className:"md:hidden bg-light-bg dark:bg-dark-bg border-b border-light-border dark:border-dark-border absolute w-full z-50 shadow-xl animate-in slide-in-from-top-5 duration-200",children:v.jsxs("div",{className:"px-4 pt-4 pb-6 space-y-2",children:[v.jsx(gt,{to:"/courses",onClick:()=>h(!1),className:"block px-4 py-3 rounded-lg text-lg font-bold font-display text-light-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-card",children:"Courses"}),n&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"border-t border-light-border dark:border-dark-border my-3 pt-3",children:[v.jsx("p",{className:"px-4 text-xs text-light-muted dark:text-dark-muted uppercase font-bold tracking-wider mb-2",children:"Account"}),v.jsx(gt,{to:"/my-courses",onClick:()=>h(!1),className:"block px-4 py-3 rounded-lg text-base font-medium text-light-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-card",children:"My Learning"}),v.jsx(gt,{to:"/profile",onClick:()=>h(!1),className:"block px-4 py-3 rounded-lg text-base font-medium text-light-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-card",children:"Profile"}),v.jsx(gt,{to:"/certificates",onClick:()=>h(!1),className:"block px-4 py-3 rounded-lg text-base font-medium text-light-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-card",children:"Certificates"})]}),v.jsx("button",{onClick:()=>{s(),g("/"),h(!1)},className:"block w-full text-left px-4 py-3 text-red-600 font-bold hover:bg-red-50 dark:hover:bg-red-900/10 rounded-lg",children:"Sign Out"})]}),!n&&v.jsxs("div",{className:"mt-6 flex flex-col gap-3 px-2",children:[v.jsx(gt,{to:"/login",onClick:()=>h(!1),children:v.jsx(Et,{variant:"secondary",className:"w-full py-3",children:"Log In"})}),v.jsx(gt,{to:"/register",onClick:()=>h(!1),children:v.jsx(Et,{className:"w-full py-3",children:"Sign Up"})})]})]})})]})},$1=({course:i,enrolled:e=!1})=>v.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-xl shadow-sm dark:shadow-black/20 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-gray-100 dark:border-dark-border overflow-hidden flex flex-col h-full group cursor-pointer relative",children:[v.jsxs("div",{className:"relative h-44 bg-gray-200 dark:bg-dark-bg overflow-hidden",children:[v.jsx("img",{src:i.thumbnailUrl||`https://picsum.photos/seed/${i.id}/400/300`,alt:i.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),v.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors duration-300"}),e&&v.jsx("div",{className:"absolute top-2 right-2 bg-green-500/90 backdrop-blur-md text-white text-[9px] uppercase px-2 py-0.5 rounded font-bold shadow-sm tracking-wide",children:"Enrolled"})]}),v.jsxs("div",{className:"p-4 flex-1 flex flex-col relative",children:[v.jsx("div",{className:"flex justify-between items-start mb-1.5",children:v.jsx("span",{className:"text-[9px] font-bold text-brand-600 dark:text-brand-400 uppercase tracking-widest bg-brand-50 dark:bg-brand-900/30 px-1.5 py-0.5 rounded-sm",children:i.level})}),v.jsx("h3",{className:"text-base md:text-lg font-bold font-display text-light-text dark:text-dark-text mb-1.5 line-clamp-2 leading-tight group-hover:text-brand-600 dark:group-hover:text-brand-400 transition-colors",children:i.title}),v.jsx("p",{className:"text-light-muted dark:text-dark-muted text-xs mb-3 line-clamp-2 flex-1 leading-relaxed",children:i.subtitle||i.description}),v.jsxs("div",{className:"mt-auto flex justify-between items-center pt-3 border-t border-gray-50 dark:border-dark-border/50",children:[e?v.jsxs("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase flex items-center gap-1",children:[v.jsx(No,{size:12})," Active"]}):v.jsx("span",{className:"text-lg font-bold font-display text-light-text dark:text-dark-text",children:i.price<=0?"Free":`$${i.price}`}),v.jsx(gt,{to:e?`/learn/${i.id}`:`/courses/${i.id}`,children:v.jsx(Et,{variant:e?"secondary":"primary",className:"px-3 py-1.5 text-xs shadow-none h-8 min-w-[80px]",children:e?"Continue":"View"})})]})]})]}),E4=({coupon:i})=>{const[e,n]=P.useState(!1),s=()=>{navigator.clipboard.writeText(i.code),n(!0),setTimeout(()=>n(!1),2e3)};return v.jsxs("div",{className:`bg-light-card dark:bg-dark-card border border-brand-100 dark:border-dark-border rounded-lg p-4 flex justify-between items-center shadow-sm hover:shadow-md transition-all duration-300 relative overflow-hidden group ${e?"ring-2 ring-accent-light dark:ring-accent-dark":""}`,children:[v.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 transition-colors duration-300 ${e?"bg-accent-light dark:bg-accent-dark":"bg-brand-600 dark:bg-brand-400"}`}),v.jsxs("div",{className:"pl-2",children:[v.jsx("div",{className:`text-[9px] font-bold uppercase tracking-widest mb-0.5 ${e?"text-accent-light dark:text-accent-dark":"text-brand-600 dark:text-brand-400"}`,children:e?"Copied!":i.discountType==="percent"?`${i.discountValue}% OFF`:`$${i.discountValue} OFF`}),v.jsx("div",{className:"text-lg font-mono font-bold text-light-text dark:text-dark-text flex items-center gap-2 tracking-tight",children:i.code}),v.jsxs("div",{className:"text-[9px] text-light-muted dark:text-dark-muted",children:["Exp: ",new Date(i.endDate).toLocaleDateString()]})]}),v.jsx("button",{onClick:s,className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 ${e?"bg-accent-light dark:bg-accent-dark text-white":"bg-gray-100 dark:bg-white/5 text-gray-500 hover:bg-gray-200"}`,children:e?v.jsx(QD,{size:16}):v.jsx(n4,{size:14})})]})},T4=()=>{const{appContent:i,courses:e,coupons:n,loadingData:s,checkEnrollment:o}=Ns();if(s&&!i)return v.jsx("div",{className:"h-screen bg-light-bg dark:bg-dark-bg flex flex-col items-center justify-center p-8",children:v.jsx("div",{className:"max-w-4xl w-full grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(m=>v.jsx(Fo,{className:"h-64 rounded-xl"},m))})});const u=i||{title:"Baro Skill",description:"Welcome to our e-learning platform.",imagesectionurl:"",testimonials:[],footerDescription:"Empowering students worldwide.",logoUrl:"",androidUrl:"",iosUrl:"",androidLogo:"",iosLogo:"",version:"1.0.0"},h=n.filter(m=>m.isActive&&new Date(m.endDate)>=new Date);return v.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg transition-colors duration-250",children:[v.jsxs("section",{className:"relative bg-brand-900 text-white py-20 lg:py-32 overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-brand-900 via-transparent to-transparent z-0"}),v.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-[-1] animate-in fade-in duration-1000",style:{backgroundImage:u.imagesectionurl?`url('${u.imagesectionurl}')`:"none",backgroundColor:"#0D1B2A"}}),v.jsxs("div",{className:"max-w-4xl mx-auto px-4 relative z-10 text-center",children:[v.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-black font-display mb-4 tracking-tight text-white drop-shadow-2xl leading-tight animate-in slide-in-from-bottom-5 duration-700",children:u.title}),v.jsx("p",{className:"text-base md:text-xl text-gray-200 max-w-2xl mx-auto mb-8 font-light leading-relaxed animate-in slide-in-from-bottom-5 duration-700 delay-100",children:u.description}),v.jsxs("div",{className:"flex flex-wrap justify-center gap-3 animate-in zoom-in duration-500 delay-200",children:[v.jsx(gt,{to:"/courses",children:v.jsx(Et,{className:"px-8 py-3 text-base shadow-2xl shadow-brand-500/50 hover:scale-105",children:"Start Learning"})}),(u.androidUrl||u.iosUrl)&&v.jsx(Et,{variant:"outline",className:"px-8 py-3 text-base border-white/30 text-white hover:bg-white/10 hover:border-white hover:text-white hover:scale-105",onClick:()=>window.open(u.androidUrl||u.iosUrl,"_blank"),children:"Get the App"})]})]})]}),v.jsxs("section",{className:"py-16 max-w-7xl mx-auto px-4",children:[v.jsxs("div",{className:"flex justify-between items-end mb-8",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold font-display text-light-text dark:text-dark-text tracking-tight mb-1",children:"Featured Courses"}),v.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted font-light",children:"Master new skills with our premium content"})]}),v.jsxs(gt,{to:"/courses",className:"text-brand-600 dark:text-brand-400 font-bold hover:underline flex items-center gap-1 group text-sm",children:["View All ",v.jsx(Q1,{size:16,className:"transition-transform group-hover:translate-x-1"})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.slice(0,6).map(m=>v.jsx($1,{course:m,enrolled:o(m.id)},m.id))})]}),h.length>0&&v.jsx("section",{className:"py-12 bg-white dark:bg-[#152c40] border-y border-gray-100 dark:border-dark-border",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[v.jsxs("h2",{className:"text-xl font-bold font-display text-light-text dark:text-dark-text mb-6 flex items-center gap-2",children:[v.jsx(p4,{className:"text-accent-light dark:text-accent-dark",size:20})," Exclusive Offers"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(m=>v.jsx(E4,{coupon:m},m.id))})]})}),u.testimonials&&u.testimonials.length>0&&v.jsx("section",{className:"bg-light-bg dark:bg-dark-bg py-16",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold font-display text-center text-light-text dark:text-dark-text mb-10 tracking-tight",children:"Student Success Stories"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.testimonials.map((m,p)=>v.jsxs("div",{className:"p-6 bg-light-card dark:bg-dark-card border border-transparent dark:border-dark-border rounded-xl shadow-sm dark:shadow-black/20 hover:scale-[1.01] transition-transform duration-300",children:[v.jsx("div",{className:"flex gap-1 mb-3",children:[1,2,3,4,5].map(g=>v.jsx("span",{className:"text-accent-light text-sm",children:""},g))}),v.jsxs("p",{className:"text-light-text dark:text-dark-text/90 italic mb-5 leading-relaxed text-sm font-light",children:['"',m.message,'"']}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden border border-brand-100 dark:border-dark-border shadow-sm",children:v.jsx("img",{src:m.avatarUrl||`https://i.pravatar.cc/150?u=${p}`,alt:m.name,className:"w-full h-full object-cover"})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-sm text-light-text dark:text-dark-text font-display",children:m.name}),v.jsx("div",{className:"text-[10px] text-brand-600 dark:text-brand-400 font-bold uppercase tracking-wide",children:m.role})]})]})]},p))})]})}),v.jsx("footer",{className:"bg-[#0A1622] text-slate-400 py-12 border-t border-slate-800/50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.logoUrl?v.jsx("img",{src:u.logoUrl,className:"h-6 w-auto object-contain bg-white/5 rounded px-2",alt:"Logo"}):v.jsx("h4",{className:"text-white text-lg font-bold font-display tracking-tight",children:u.title})}),v.jsx("p",{className:"text-xs leading-relaxed text-slate-400 max-w-sm",children:u.footerDescription}),v.jsxs("div",{className:"mt-4 text-[10px] font-mono text-slate-600",children:["Version ",u.version]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-white text-sm font-bold font-display mb-4",children:"Navigation"}),v.jsxs("ul",{className:"space-y-2 text-xs",children:[v.jsx("li",{children:v.jsx(gt,{to:"/courses",className:"hover:text-brand-400 transition-colors",children:"Browse Courses"})}),v.jsx("li",{children:v.jsx(gt,{to:"/login",className:"hover:text-brand-400 transition-colors",children:"Student Login"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-white text-sm font-bold font-display mb-4",children:"Get the App"}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.androidUrl&&v.jsx("a",{href:u.androidUrl,target:"_blank",rel:"noreferrer",className:"block w-32 h-10 bg-black border border-gray-700 rounded-lg overflow-hidden hover:border-gray-500 hover:scale-105 transition-all shadow-lg",children:u.androidLogo?v.jsx("img",{src:u.androidLogo,alt:"Google Play",className:"w-full h-full object-contain"}):v.jsx("div",{className:"flex items-center justify-center h-full text-[10px] text-gray-300",children:"Google Play"})}),u.iosUrl&&v.jsx("a",{href:u.iosUrl,target:"_blank",rel:"noreferrer",className:"block w-32 h-10 bg-black border border-gray-700 rounded-lg overflow-hidden hover:border-gray-500 hover:scale-105 transition-all shadow-lg",children:u.iosLogo?v.jsx("img",{src:u.iosLogo,alt:"App Store",className:"w-full h-full object-contain"}):v.jsx("div",{className:"flex items-center justify-center h-full text-[10px] text-gray-300",children:"App Store"})})]})]})]})})]})},Qb=({type:i})=>{const{loginWithGoogle:e}=Pu(),n=Mo(),[s,o]=P.useState(""),u=async()=>{const h=await e();h?o(h):n("/my-courses")};return v.jsxs("div",{className:"min-h-screen pt-20 pb-12 flex flex-col justify-center sm:px-6 lg:px-8 bg-light-bg dark:bg-dark-bg transition-colors duration-250",children:[v.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[v.jsx("h2",{className:"text-2xl font-bold font-display text-light-text dark:text-dark-text tracking-tight",children:i==="login"?"Welcome Back":"Get Started"}),v.jsx("p",{className:"mt-2 text-sm text-light-muted dark:text-dark-muted",children:i==="login"?"Sign in to access your courses":"Join our community of learners"})]}),v.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:v.jsxs("div",{className:"bg-light-card dark:bg-dark-card py-8 px-8 shadow-lg dark:shadow-none sm:rounded-xl border border-transparent dark:border-dark-border transition-all",children:[s&&v.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/50 text-red-600 dark:text-red-400 p-3 rounded-lg text-xs text-center font-medium flex items-center justify-center gap-2",children:[v.jsx(ko,{size:16})," ",s]}),v.jsx("div",{className:"space-y-4",children:v.jsxs(Et,{variant:"secondary",onClick:u,className:"w-full flex items-center justify-center gap-3 py-3 text-sm bg-white dark:bg-dark-input border border-gray-200 dark:border-dark-border hover:bg-gray-50 dark:hover:bg-slate-800 text-gray-700 dark:text-white transition-all shadow-sm hover:shadow-lg",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),v.jsx("span",{className:"font-bold",children:"Continue with Google"})]})})]})})]})},Sg=({course:i,onClose:e})=>{const{renewEnrollment:n,courses:s}=Ns(),[o,u]=P.useState(""),[h,m]=P.useState(!1),[p,g]=P.useState(null),E=P.useMemo(()=>i.price!==void 0&&i.price!==null&&!isNaN(Number(i.price))?i:s.find(M=>M.id===i.id)||i,[i,s]),T=E.price!==void 0?E.price:"??",A=async()=>{if(!o){g({type:"error",text:"Enter EVC phone"});return}m(!0);const M=await n(E,o);m(!1),M.success?(g({type:"success",text:M.message}),setTimeout(e,2e3)):g({type:"error",text:M.message})};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-md animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-2xl shadow-2xl max-w-sm w-full border border-gray-200 dark:border-dark-border transform transition-all animate-in zoom-in-95 duration-200 overflow-hidden",children:[v.jsxs("div",{className:"bg-gradient-to-r from-red-700 to-orange-600 p-6 text-white relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),v.jsx("div",{className:"absolute top-4 right-4 cursor-pointer hover:bg-white/10 p-1 rounded-full transition-colors",onClick:e,children:v.jsx(Ag,{size:20,className:"text-white"})}),v.jsxs("div",{className:"flex items-center gap-4 mb-2 relative z-10",children:[v.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm shadow-inner",children:v.jsx(ko,{size:28,className:"text-white drop-shadow-md"})}),v.jsx("div",{children:v.jsxs("h2",{className:"text-lg font-bold font-display leading-tight",children:["Access Renewal",v.jsx("br",{}),"Required"]})})]})]}),v.jsxs("div",{className:"p-6 space-y-5",children:[v.jsxs("p",{className:"text-sm text-center text-light-muted dark:text-dark-muted leading-relaxed",children:["Your subscription for ",v.jsx("span",{className:"font-bold text-light-text dark:text-dark-text",children:E.title})," has expired. Renew now to continue where you left off."]}),v.jsxs("div",{className:"p-3 bg-brand-50 dark:bg-dark-bg/50 rounded-xl border border-brand-100 dark:border-dark-border flex justify-between items-center",children:[v.jsx("span",{className:"text-xs font-bold text-brand-600 dark:text-brand-400 uppercase",children:"Total Amount"}),v.jsxs("span",{className:"text-lg font-black text-gray-900 dark:text-white",children:["$",T]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-gray-500 dark:text-gray-400 mb-1.5 uppercase tracking-wide",children:"EVC/Zaad/Sahal Plus Number"}),v.jsx("input",{type:"text",placeholder:"61xxxxxxx",value:o,onChange:M=>u(M.target.value),className:"w-full border border-gray-300 dark:border-dark-border bg-white dark:bg-dark-input text-gray-900 dark:text-white p-3 rounded-lg focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 outline-none transition-all font-mono text-sm"})]}),p&&v.jsxs("div",{className:`text-xs p-3 rounded-lg font-medium flex items-center gap-2 ${p.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[p.type==="success"?v.jsx(No,{size:14}):v.jsx(ko,{size:14}),p.text]}),v.jsx(Et,{onClick:A,disabled:h,className:"w-full py-3.5 shadow-lg shadow-brand-500/30 text-sm bg-brand-600 hover:bg-brand-500 text-white border-none",children:h?"Processing...":"Pay & Renew Access"})]})]})})},x4=()=>{var jn,sn,br;const{id:i}=nE(),{courses:e,coupons:n,getCourseSections:s,getSectionLessons:o,purchaseCourse:u,enrollFreeCourse:h,checkEnrollment:m,isEnrollmentExpired:p,validateCoupon:g,calculateDiscount:E}=Ns(),T=Mo(),A=e.find(Ae=>Ae.id===i),[M,F]=P.useState([]),[Q,B]=P.useState({}),[Z,se]=P.useState({}),J=i?m(i):!1,de=i?p(i):!1,[Te,we]=P.useState(""),[R,S]=P.useState(!1),[I,O]=P.useState(""),[D,L]=P.useState(""),[C,oe]=P.useState(null),[pe,U]=P.useState(0),[Y,te]=P.useState((A==null?void 0:A.price)||0),[ae,ye]=P.useState(null),[k,X]=P.useState(!1),[le,ce]=P.useState(0),[_e,Ee]=P.useState(0);P.useEffect(()=>{i&&A&&(te(A.price),(async()=>{const dt=await s(i);F(dt);const an={};let ot=0,We=0;await Promise.all(dt.map(async pn=>{const ks=await o(pn.id);an[pn.id]=ks,We+=ks.length,ot+=ks.reduce((xa,Kt)=>xa+Kt.duration,0)})),B(an),Ee(We),ce(ot),dt.length>0&&se({[dt[0].id]:!0})})())},[i,A]),P.useEffect(()=>{},[J,de]);const Ie=Ae=>{const dt=Math.floor(Ae/3600),an=Math.floor(Ae%3600/60);return dt>0?`${dt}h ${an}m`:`${an}m`},st=Ae=>{se(dt=>({...dt,[Ae]:!dt[Ae]}))},Ge=A&&n.some(Ae=>Ae.isActive&&new Date(Ae.endDate)>=new Date&&(Ae.allCourses||Ae.courseIds.includes(A.id))),mn=()=>{if(ye(null),!D||!A)return;const Ae=g(D,A.id);if(Ae){const{discount:dt,finalPrice:an}=E(Ae,A.price);oe(Ae),U(dt),te(an),ye({type:"success",text:`Saved $${dt.toFixed(2)}`})}else oe(null),U(0),te(A.price),ye({type:"error",text:"Invalid Code"})},Ln=async()=>{if(!A)return;if(de){X(!0);return}if(Y>0&&!Te){O("Enter EVC number");return}S(!0);const Ae=await u(A,Te,C==null?void 0:C.code,pe,Y);S(!1),Ae.success?(alert(Ae.message),T("/my-courses")):O(Ae.message)},vr=async()=>{if(!A)return;S(!0);const Ae=await h(A);S(!1),Ae.success?(alert(Ae.message),T("/my-courses")):O(Ae.message)};return A?v.jsxs("div",{className:"min-h-screen pt-16 bg-light-bg dark:bg-dark-bg transition-colors duration-250",children:[k&&v.jsx(Sg,{course:A,onClose:()=>X(!1)}),v.jsxs("div",{className:"bg-brand-900 text-white py-10 md:py-16 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:v.jsxs("div",{className:"max-w-4xl",children:[v.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[v.jsx("div",{className:"px-2 py-0.5 bg-brand-800 border border-brand-700 rounded text-[9px] font-bold uppercase tracking-widest text-brand-200",children:A.level}),v.jsxs("span",{className:"text-brand-400 text-xs font-bold tracking-wide flex items-center gap-1",children:[v.jsx(bp,{size:12})," ",A.instructorName]}),v.jsx("span",{className:"text-brand-400/60 text-xs",children:"|"}),v.jsxs("span",{className:"text-brand-400/60 text-xs",children:["Updated ",(jn=A.updatedAt)==null?void 0:jn.toLocaleDateString()]})]}),v.jsx("h1",{className:"text-2xl md:text-4xl lg:text-5xl font-black font-display mb-3 leading-tight",children:A.title}),v.jsx("p",{className:"text-base md:text-lg text-brand-100 font-light leading-relaxed max-w-2xl",children:A.subtitle})]})})]}),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 md:py-8 grid grid-cols-1 lg:grid-cols-12 gap-5 lg:gap-8",children:[v.jsxs("div",{className:"lg:col-span-8 space-y-5 md:space-y-6",children:[A.introVideoUrl&&v.jsx("div",{className:"bg-black rounded-lg overflow-hidden shadow-lg dark:shadow-none aspect-video w-full border border-gray-800 dark:border-dark-border",children:v.jsx(Y1,{url:A.introVideoUrl,className:"w-full h-full"})}),v.jsxs("div",{className:"grid grid-cols-3 divide-x divide-gray-200 dark:divide-dark-border/50 border-y border-gray-200 dark:border-dark-border/50 py-3",children:[v.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[v.jsx("span",{className:"text-lg font-bold font-display text-light-text dark:text-dark-text",children:M.length}),v.jsx("span",{className:"text-[9px] text-light-muted dark:text-dark-muted uppercase font-bold tracking-wide",children:"Modules"})]}),v.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[v.jsx("span",{className:"text-lg font-bold font-display text-light-text dark:text-dark-text",children:_e}),v.jsx("span",{className:"text-[9px] text-light-muted dark:text-dark-muted uppercase font-bold tracking-wide",children:"Lessons"})]}),v.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[v.jsx("span",{className:"text-lg font-bold font-display text-light-text dark:text-dark-text",children:Ie(le)}),v.jsx("span",{className:"text-[9px] text-light-muted dark:text-dark-muted uppercase font-bold tracking-wide",children:"Duration"})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[v.jsx("h3",{className:"text-lg font-bold font-display text-light-text dark:text-dark-text mb-2",children:"Description"}),v.jsx("p",{className:"text-sm md:text-base text-light-text dark:text-dark-text whitespace-pre-line leading-relaxed font-light",children:A.description})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-bold font-display text-light-text dark:text-dark-text mb-3 uppercase tracking-wide",children:"What you'll learn"}),v.jsx("ul",{className:"space-y-2",children:(sn=A.learningOutcomes)==null?void 0:sn.map((Ae,dt)=>v.jsxs("li",{className:"flex items-start gap-2 text-light-text dark:text-dark-text text-sm",children:[v.jsx(No,{size:14,className:"text-accent-light dark:text-accent-dark mt-0.5 shrink-0"})," ",v.jsx("span",{className:"leading-snug",children:Ae})]},dt))})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-bold font-display text-light-text dark:text-dark-text mb-3 uppercase tracking-wide",children:"Requirements"}),v.jsx("ul",{className:"space-y-2",children:(br=A.requirements)==null?void 0:br.map((Ae,dt)=>v.jsxs("li",{className:"flex items-start gap-2 text-light-text dark:text-dark-text text-sm",children:[v.jsx("div",{className:"mt-1.5 w-1 h-1 rounded-full bg-light-muted shrink-0"}),v.jsx("span",{className:"leading-snug",children:Ae})]},dt))})]})]}),v.jsxs("section",{className:"pt-4",children:[v.jsx("h2",{className:"text-lg font-bold font-display text-light-text dark:text-dark-text mb-4",children:"Curriculum"}),v.jsx("div",{className:"space-y-2",children:M.map((Ae,dt)=>{var an,ot;return v.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg border border-light-border dark:border-dark-border overflow-hidden transition-all duration-200",children:[v.jsxs("button",{onClick:()=>st(Ae.id),className:"w-full flex justify-between items-center px-4 py-3 bg-gray-50/50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[Z[Ae.id]?v.jsx(JD,{size:16,className:"text-brand-600 dark:text-brand-400"}):v.jsx(G1,{size:16,className:"text-gray-400"}),v.jsx("span",{className:"font-bold text-sm text-light-text dark:text-dark-text text-left",children:Ae.title})]}),v.jsxs("span",{className:"text-[9px] font-bold text-light-muted dark:text-dark-muted uppercase tracking-wider",children:[((an=Q[Ae.id])==null?void 0:an.length)||0," Lessons"]})]}),Z[Ae.id]&&v.jsx("div",{className:"divide-y divide-gray-100 dark:divide-dark-border border-t border-gray-100 dark:border-dark-border",children:(ot=Q[Ae.id])==null?void 0:ot.map(We=>{const pn=!We.isFree&&!J;return v.jsxs("div",{className:"px-4 py-2.5 pl-11 flex items-center justify-between hover:bg-light-bg dark:hover:bg-black/20 transition-colors group",children:[v.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[pn?v.jsx(Hb,{size:14,className:"text-light-muted dark:text-dark-muted shrink-0"}):v.jsx(wg,{size:14,className:"text-brand-600 dark:text-brand-400 shrink-0 group-hover:scale-110 transition-transform"}),v.jsx("div",{className:"truncate",children:v.jsx("div",{className:`text-sm font-medium truncate ${pn?"text-light-muted dark:text-dark-muted":"text-light-text dark:text-dark-text"}`,children:We.title})}),We.isFree&&!J&&v.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-1.5 py-0.5 rounded-sm shrink-0",children:"Free"})]}),v.jsxs("span",{className:"text-[10px] font-mono text-light-muted dark:text-dark-muted shrink-0 ml-2",children:[Math.floor(We.duration/60),":",(We.duration%60).toString().padStart(2,"0")]})]},We.id)})})]},Ae.id)})})]})]})]}),v.jsx("div",{className:"lg:col-span-4 relative",children:v.jsx("div",{className:"sticky top-20",children:v.jsxs("div",{className:"bg-white dark:bg-dark-card p-5 rounded-xl shadow-lg dark:shadow-black/40 border border-light-border dark:border-dark-border",children:[v.jsx("img",{src:A.thumbnailUrl,alt:"Thumbnail",className:"w-full rounded-lg mb-4 shadow-sm"}),v.jsx("div",{className:"mb-5 text-center",children:Y<=0?v.jsx("div",{className:"text-3xl font-black font-display text-green-600 dark:text-green-400",children:"FREE"}):v.jsxs("div",{className:"flex flex-col items-center gap-0",children:[v.jsxs("span",{className:"text-3xl font-black font-display text-light-text dark:text-dark-text",children:["$",Y.toFixed(2)]}),C&&v.jsxs("span",{className:"text-sm text-light-muted dark:text-dark-muted line-through decoration-red-500/50",children:["$",A.price.toFixed(2)]})]})}),J&&!de?v.jsx(gt,{to:`/learn/${A.id}`,children:v.jsx(Et,{className:"w-full py-3 text-base shadow-lg shadow-brand-500/30",children:"Continue Course"})}):v.jsxs("div",{className:"space-y-3",children:[J&&de&&v.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg border border-red-200 dark:border-red-900/50 flex flex-col items-center justify-center text-center gap-2 mb-2",children:[v.jsx(ko,{size:20,className:"text-red-600 dark:text-red-400"}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-sm font-bold text-red-700 dark:text-red-400 uppercase",children:"Access Expired"}),v.jsx("p",{className:"text-[10px] text-red-600/80 dark:text-red-300",children:"Renew now to continue watching."})]})]}),Ge&&!C&&!de&&v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",placeholder:"COUPON",value:D,onChange:Ae=>L(Ae.target.value),className:"flex-1 border border-gray-300 dark:border-dark-border bg-white dark:bg-dark-input text-gray-900 dark:text-white p-2.5 rounded-lg text-sm focus:border-brand-500 outline-none font-bold uppercase"}),v.jsx(Et,{onClick:mn,variant:"secondary",className:"px-3 py-2 text-xs",children:"Apply"})]}),C&&v.jsxs("div",{className:"flex justify-between items-center bg-green-50 dark:bg-green-900/10 p-2.5 rounded-lg border border-green-200 dark:border-green-800",children:[v.jsx("span",{className:"text-xs text-green-700 dark:text-green-400 font-mono font-bold",children:C.code}),v.jsx("button",{onClick:()=>{oe(null),te(A.price),U(0),ye(null)},className:"text-[10px] text-red-500 hover:text-red-700 dark:hover:text-red-300 font-bold uppercase",children:"Remove"})]}),ae&&v.jsx("div",{className:`text-center text-xs font-bold ${ae.type==="success"?"text-green-600":"text-red-500"}`,children:ae.text}),Y<=0?v.jsx(Et,{disabled:R,onClick:vr,className:"w-full py-3 text-base bg-green-600 hover:bg-green-500",children:R?"Enrolling...":"Enroll Free"}):v.jsxs(v.Fragment,{children:[!de&&v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-bold text-light-muted dark:text-dark-muted ml-1 mb-1 block uppercase tracking-wider",children:"EVC Plus Number"}),v.jsx("input",{type:"text",placeholder:"61xxxxxxx",value:Te,onChange:Ae=>we(Ae.target.value),className:"w-full border border-gray-300 dark:border-dark-border bg-white dark:bg-dark-input text-gray-900 dark:text-white p-3 rounded-lg text-base focus:border-brand-500 outline-none font-mono tracking-wide"})]}),de?v.jsx(Et,{onClick:()=>X(!0),variant:"danger",className:"w-full py-3 text-base",children:"Renew Access"}):v.jsx(Et,{disabled:R,onClick:Ln,className:"w-full py-3 text-base shadow-xl",children:R?"Processing...":"Buy Now"}),I&&v.jsx("div",{className:"text-red-500 text-xs text-center font-bold mt-2",children:I}),!de&&v.jsxs("p",{className:"text-[10px] text-center text-gray-400 dark:text-gray-500 flex items-center justify-center gap-1 mt-3 font-medium",children:[v.jsx(Hb,{size:10})," Secure Payment via WaafiPay"]})]})]})]})})})]})]}):v.jsx("div",{className:"pt-24 text-center dark:text-dark-text",children:"Course not found"})},w4=()=>{const{courses:i,enrollments:e,getProgress:n,isEnrollmentExpired:s,loadingData:o}=Ns(),u=i.filter(E=>e.some(T=>T.courseId===E.id)),[h,m]=P.useState({}),[p,g]=P.useState(null);return P.useEffect(()=>{u.forEach(async E=>{const T=await n(E.id);T&&m(A=>({...A,[E.id]:T.progressPercent}))})},[u]),o?v.jsx("div",{className:"min-h-screen pt-32 px-4 max-w-7xl mx-auto",children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(E=>v.jsx(Fo,{className:"h-72 rounded-xl"},E))})}):v.jsxs("div",{className:"min-h-screen pt-20 px-4 max-w-7xl mx-auto bg-light-bg dark:bg-dark-bg transition-colors duration-250",children:[v.jsx("h1",{className:"text-2xl md:text-3xl font-bold font-display text-light-text dark:text-dark-text mb-6 tracking-tight",children:"My Learning"}),p&&v.jsx(Sg,{course:p,onClose:()=>g(null)}),u.length===0?v.jsxs("div",{className:"text-center py-20 bg-white dark:bg-dark-card rounded-2xl border border-light-border dark:border-dark-border shadow-sm",children:[v.jsx("div",{className:"bg-brand-50 dark:bg-dark-bg w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(qD,{className:"w-8 h-8 text-brand-600 dark:text-brand-400"})}),v.jsx("h3",{className:"text-xl font-bold font-display text-light-text dark:text-dark-text mb-2",children:"No active courses"}),v.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-6 text-base",children:"Your learning journey starts here."}),v.jsx(gt,{to:"/courses",children:v.jsx(Et,{className:"px-6",children:"Browse Catalog"})})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 pb-20",children:u.map(E=>{const T=s(E.id);return v.jsxs("div",{className:`bg-white dark:bg-dark-card rounded-xl shadow-sm hover:shadow-lg dark:shadow-black/20 border border-transparent dark:border-dark-border overflow-hidden transition-all duration-300 flex flex-col group ${T?"opacity-90 grayscale-[0.5]":"hover:-translate-y-1"}`,children:[v.jsxs("div",{className:"h-40 w-full overflow-hidden bg-gray-200 dark:bg-dark-bg relative",children:[v.jsx("img",{src:E.thumbnailUrl,className:`h-full w-full object-cover transition-transform duration-700 ${T?"":"group-hover:scale-105"}`,alt:E.title}),T&&v.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center backdrop-blur-[2px]",children:v.jsxs("div",{className:"bg-red-600 text-white px-3 py-1.5 rounded-lg font-bold text-xs shadow-xl flex items-center gap-2 transform rotate-2 border border-red-400",children:[v.jsx(ko,{size:14})," EXPIRED"]})})]}),v.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[v.jsx("h3",{className:"font-bold text-base font-display text-light-text dark:text-dark-text mb-3 truncate",children:E.title}),v.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-light-muted dark:text-dark-muted mb-2 uppercase tracking-wide",children:[v.jsx("span",{children:"Progress"}),v.jsxs("span",{children:[Math.round(h[E.id]||0),"%"]})]}),v.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-border rounded-full h-1.5 mb-5 overflow-hidden",children:v.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${T?"bg-gray-400 dark:bg-gray-600":"bg-brand-600 dark:bg-brand-400"}`,style:{width:`${h[E.id]||0}%`}})}),T?v.jsx(Et,{onClick:()=>g(E),variant:"danger",className:"w-full text-sm py-2",children:"Renew Now"}):v.jsx(gt,{to:`/learn/${E.id}`,className:"mt-auto",children:v.jsx(Et,{variant:"outline",className:"w-full text-sm py-2 h-9",children:"Continue"})})]})]},E.id)})})]})},A4=()=>{const{certificates:i,courses:e}=Ns(),n=async s=>{if(s.certificateUrl)try{const o=await fetch(s.certificateUrl);if(!o.ok)throw new Error("Network response was not ok");const u=await o.blob(),h=window.URL.createObjectURL(u),m=document.createElement("a");m.href=h;const p=e.find(E=>E.id===s.courseId),g=((p==null?void 0:p.title)||"Certificate").replace(/[^a-z0-9]/gi,"_").toLowerCase();m.setAttribute("download",`${g}.png`),document.body.appendChild(m),m.click(),setTimeout(()=>{document.body.removeChild(m),window.URL.revokeObjectURL(h)},100)}catch(o){console.error("Auto-download failed, opening in new tab:",o),window.open(s.certificateUrl,"_blank")}};return v.jsxs("div",{className:"min-h-screen pt-20 px-4 max-w-7xl mx-auto bg-light-bg dark:bg-dark-bg transition-colors duration-250",children:[v.jsx("h1",{className:"text-2xl md:text-3xl font-bold font-display text-light-text dark:text-dark-text mb-6 tracking-tight",children:"My Certificates"}),v.jsxs("div",{className:"grid grid-cols-1 gap-4 max-w-3xl",children:[i.map(s=>{const o=e.find(u=>u.id===s.courseId);return v.jsxs("div",{className:"bg-white dark:bg-dark-card p-5 rounded-xl border border-light-border dark:border-dark-border flex flex-col sm:flex-row justify-between items-center gap-4 shadow-sm hover:shadow-md transition-all",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"p-3 bg-brand-50 dark:bg-brand-900/20 rounded-full text-brand-600 dark:text-brand-400 border border-brand-100 dark:border-brand-900/30",children:v.jsx(_p,{size:20})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-base font-display text-light-text dark:text-dark-text",children:o==null?void 0:o.title}),v.jsxs("div",{className:"text-xs text-light-muted dark:text-dark-muted font-medium mt-0.5",children:["Issued: ",s.issuedAt.toDateString()]})]})]}),v.jsxs(Et,{onClick:()=>n(s),variant:"secondary",className:"gap-2 w-full sm:w-auto h-9 text-xs",children:[v.jsx(vp,{size:14})," Download Certificate"]})]},s.id)}),i.length===0&&v.jsxs("div",{className:"text-center py-20 text-light-muted dark:text-dark-muted opacity-60",children:[v.jsx(_p,{className:"mx-auto h-12 w-12 mb-3"}),"No certificates yet."]})]})]})},S4=()=>{const{studentProfile:i,updateProfile:e}=Pu(),[n,s]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(!1),[p,g]=P.useState(!1),[E,T]=P.useState(null),A=P.useRef(null),[M,F]=P.useState(null),[Q,B]=P.useState(void 0);P.useEffect(()=>{i&&(s(i.fullName||""),u(i.phone||""))},[i]);const Z=J=>{if(J.target.files&&J.target.files[0]){g(!0);const de=J.target.files[0];B(de);const Te=new FileReader;Te.onloadend=()=>{F(Te.result),g(!1)},Te.readAsDataURL(de)}},se=async J=>{J.preventDefault(),m(!0),T(null);const de=await e(n,o,Q);m(!1),T(de?{type:"error",text:de}:{type:"success",text:"Profile updated successfully!"})};return i?v.jsxs("div",{className:"min-h-screen pt-20 px-4 max-w-lg mx-auto bg-light-bg dark:bg-dark-bg transition-colors duration-250",children:[v.jsx("h1",{className:"text-2xl font-bold font-display text-light-text dark:text-dark-text mb-6 tracking-tight",children:"Edit Profile"}),v.jsx("div",{className:"bg-white dark:bg-dark-card rounded-xl shadow-lg dark:shadow-none border border-transparent dark:border-dark-border p-6 md:p-8",children:v.jsxs("form",{onSubmit:se,className:"space-y-5",children:[v.jsxs("div",{className:"flex flex-col items-center mb-6",children:[v.jsxs("div",{className:"relative w-24 h-24 mb-3 group cursor-pointer",onClick:()=>{var J;return(J=A.current)==null?void 0:J.click()},children:[p&&v.jsx("div",{className:"absolute inset-0 z-20 bg-black/50 rounded-full flex items-center justify-center backdrop-blur-sm",children:v.jsx(K1,{className:"animate-spin text-white w-6 h-6"})}),v.jsx("img",{src:M||i.avatarUrl||`https://ui-avatars.com/api/?name=${n}`,className:"w-full h-full rounded-full object-cover border-4 border-brand-50 dark:border-dark-bg shadow-sm transition-opacity group-hover:opacity-90",alt:"Profile"}),v.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 backdrop-blur-[2px]",children:v.jsx(FD,{className:"text-white w-6 h-6 drop-shadow-md"})})]}),v.jsx("input",{type:"file",ref:A,onChange:Z,className:"hidden",accept:"image/*"}),v.jsx("p",{className:"text-[10px] uppercase font-bold text-brand-600 dark:text-brand-400 tracking-wide cursor-pointer hover:underline",onClick:()=>{var J;return(J=A.current)==null?void 0:J.click()},children:"Change Avatar"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-light-text dark:text-dark-text mb-1.5 uppercase tracking-wide",children:"Full Name"}),v.jsx("input",{type:"text",required:!0,value:n,onChange:J=>s(J.target.value),className:"w-full border border-gray-300 dark:border-dark-border bg-white dark:bg-dark-input text-gray-900 dark:text-white p-3 rounded-lg focus:border-brand-500 dark:focus:border-brand-400 outline-none transition-all text-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-light-text dark:text-dark-text mb-1.5 uppercase tracking-wide",children:"Phone"}),v.jsx("input",{type:"text",value:o,onChange:J=>u(J.target.value),className:"w-full border border-gray-300 dark:border-dark-border bg-white dark:bg-dark-input text-gray-900 dark:text-white p-3 rounded-lg focus:border-brand-500 dark:focus:border-brand-400 outline-none transition-all text-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-light-text dark:text-dark-text mb-1.5 uppercase tracking-wide",children:"Email"}),v.jsx("input",{type:"text",value:i.email,disabled:!0,className:"w-full border border-gray-200 dark:border-dark-border bg-gray-50 dark:bg-dark-bg text-gray-400 dark:text-dark-muted p-3 rounded-lg cursor-not-allowed text-sm"})]}),E&&v.jsxs("div",{className:`p-3 rounded-lg text-xs font-bold flex items-center gap-2 ${E.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[E.type==="success"?v.jsx(No,{size:14}):v.jsx(ko,{size:14}),E.text]}),v.jsx(Et,{disabled:h,className:"w-full py-3 shadow-lg text-sm",children:h?"Saving...":"Save Changes"})]})})]}):v.jsx("div",{className:"pt-32 flex justify-center",children:v.jsx(Fo,{className:"w-96 h-96 rounded-2xl"})})},Kb=()=>{var oe,pe,U;const{courseId:i,lessonId:e}=nE(),{courses:n,getCourseSections:s,getSectionLessons:o,markLessonComplete:u,checkEnrollment:h,isEnrollmentExpired:m,getProgress:p}=Ns(),[g,E]=P.useState([]),[T,A]=P.useState(null),[M,F]=P.useState(!0),[Q,B]=P.useState(null),[Z,se]=P.useState(!1),[J,de]=P.useState(!1),Te=i?h(i):!1,we=i?m(i):!1,R=Mo(),S=n.find(Y=>Y.id===i);P.useEffect(()=>{if(i){if(!Te){R(`/courses/${i}`);return}we&&de(!0),(async()=>{const[te,ae]=await Promise.all([p(i),s(i)]);te&&B(te);const ye=await Promise.all(ae.map(async k=>{const X=await o(k.id);return{...k,lessons:X}}));E(ye),F(!1)})()}},[i,Te,we,R]),P.useEffect(()=>{var Y;if(!M&&g.length>0)if(e){const te=g.flatMap(ae=>ae.lessons).find(ae=>ae.id===e);te&&A(te)}else{const te=(Y=g[0])==null?void 0:Y.lessons[0];te&&R(`/learn/${i}/lesson/${te.id}`,{replace:!0})}},[e,g,M,R,i]);const I=P.useMemo(()=>g.flatMap(Y=>Y.lessons),[g]),O=T?I.findIndex(Y=>Y.id===T.id):-1,D=O>0?I[O-1]:null,L=O!==-1&&O<I.length-1?I[O+1]:null,C=async()=>{if(i&&T){const Y=await u(i,T.id);Y&&B(Y)}};return M?v.jsx("div",{className:"h-screen pt-20 flex items-center justify-center bg-light-bg dark:bg-dark-bg",children:v.jsx(Fo,{className:"w-12 h-12 rounded-full"})}):T?v.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-64px)] mt-16 bg-light-bg dark:bg-dark-bg transition-colors duration-250 relative overflow-hidden",children:[J&&v.jsx(Sg,{course:S||{id:i||"",title:"Loading...",price:0},onClose:()=>R("/my-courses")}),v.jsxs("div",{className:`
                fixed inset-y-0 left-0 z-40 w-80 bg-white dark:bg-dark-card border-r border-light-border dark:border-dark-border 
                transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static flex flex-col
                ${Z?"translate-x-0":"-translate-x-full"}
            `,children:[v.jsxs("div",{className:"p-4 border-b border-light-border dark:border-dark-border flex justify-between items-center bg-gray-50/50 dark:bg-dark-card h-14 shrink-0",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-bold font-display text-sm text-light-text dark:text-dark-text uppercase tracking-wide",children:"Course Content"}),v.jsxs("div",{className:"text-[10px] text-light-muted dark:text-dark-muted font-mono mt-0.5",children:[Math.round((Q==null?void 0:Q.progressPercent)||0),"% Complete"]})]}),v.jsx("button",{onClick:()=>se(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-200 dark:hover:bg-white/10",children:v.jsx(Ag,{size:18})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pb-20",children:g.map(Y=>v.jsxs("div",{children:[v.jsx("div",{className:"px-4 py-2.5 bg-gray-100/80 dark:bg-black/20 text-[10px] font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 border-y border-gray-200/50 dark:border-white/5 sticky top-0 z-10 backdrop-blur-sm",children:Y.title}),v.jsx("div",{children:Y.lessons.map(te=>{var k;const ae=T.id===te.id,ye=(k=Q==null?void 0:Q.completedLessons)==null?void 0:k[te.id];return v.jsxs("div",{onClick:()=>{we||(R(`/learn/${i}/lesson/${te.id}`),se(!1))},className:`
                                                px-4 py-3 border-b border-gray-100 dark:border-white/5 cursor-pointer transition-all duration-200 flex gap-3 items-start
                                                ${ae?"bg-brand-50 dark:bg-brand-900/10 border-l-4 border-l-brand-600 dark:border-l-brand-400":"hover:bg-gray-50 dark:hover:bg-white/5 border-l-4 border-l-transparent"}
                                                ${we?"opacity-50 pointer-events-none":""}
                                            `,children:[v.jsx("div",{className:`mt-0.5 shrink-0 ${ae?"text-brand-600 dark:text-brand-400":"text-gray-300 dark:text-gray-600"}`,children:ye?v.jsx(No,{size:14,className:"text-green-500 fill-green-100 dark:fill-green-900/20"}):v.jsx(wg,{size:14})}),v.jsxs("div",{children:[v.jsx("div",{className:`text-xs md:text-sm leading-snug ${ae?"text-brand-900 dark:text-brand-100 font-bold":"text-light-text dark:text-dark-text font-medium"}`,children:te.title}),v.jsxs("div",{className:"text-[9px] text-light-muted dark:text-dark-muted mt-1 font-mono",children:[Math.floor(te.duration/60),":",(te.duration%60).toString().padStart(2,"0")]})]})]},te.id)})})]},Y.id))})]}),Z&&v.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-200",onClick:()=>se(!1)}),v.jsxs("div",{className:"flex-1 overflow-y-auto h-full w-full relative custom-scrollbar flex flex-col",children:[v.jsxs("div",{className:"lg:hidden px-4 py-2 bg-white dark:bg-dark-card border-b border-light-border dark:border-dark-border flex items-center justify-between sticky top-0 z-20 shadow-sm",children:[v.jsx("span",{className:"font-bold text-xs truncate max-w-[200px] text-light-text dark:text-dark-text",children:T.title}),v.jsxs("button",{onClick:()=>se(!0),className:"flex items-center gap-2 text-brand-600 dark:text-brand-400 font-bold text-[10px] uppercase tracking-wide bg-brand-50 dark:bg-brand-900/30 px-3 py-1.5 rounded-full",children:[v.jsx(s4,{size:12})," Playlist"]})]}),v.jsx("div",{className:"w-full bg-black relative shrink-0",children:v.jsx("div",{className:"max-w-6xl mx-auto aspect-video w-full shadow-lg",children:v.jsx(Y1,{url:T.videoUrl||"",className:"w-full h-full",onEnded:C})})}),v.jsxs("div",{className:"flex-1 max-w-5xl mx-auto w-full p-5 md:p-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs(Et,{variant:"secondary",disabled:!D,onClick:()=>D&&R(`/learn/${i}/lesson/${D.id}`),className:"px-4 py-2 text-xs h-9",children:[v.jsx($D,{size:14})," Prev"]}),v.jsxs(Et,{variant:"secondary",disabled:!L,onClick:()=>L&&R(`/learn/${i}/lesson/${L.id}`),className:"px-4 py-2 text-xs h-9",children:["Next ",v.jsx(Q1,{size:14})]})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start mb-6 pb-6 border-b border-light-border dark:border-dark-border",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl md:text-2xl font-bold font-display text-light-text dark:text-dark-text mb-1",children:T.title}),v.jsxs("p",{className:"text-light-muted dark:text-dark-muted text-xs",children:["Lesson ",T.order+1]})]}),v.jsx(Et,{onClick:C,className:`min-w-[140px] h-10 text-xs ${(oe=Q==null?void 0:Q.completedLessons)!=null&&oe[T.id]?"bg-green-600 hover:bg-green-700 text-white border-none":""}`,variant:(pe=Q==null?void 0:Q.completedLessons)!=null&&pe[T.id]?"primary":"outline",children:(U=Q==null?void 0:Q.completedLessons)!=null&&U[T.id]?v.jsxs(v.Fragment,{children:[v.jsx(No,{size:16})," Completed"]}):"Mark Complete"})]}),v.jsxs("div",{className:"prose dark:prose-invert max-w-none pb-12",children:[v.jsx("h3",{className:"text-base font-bold font-display mb-2 text-light-text dark:text-dark-text uppercase tracking-wide",children:"About this lesson"}),v.jsx("p",{className:"text-light-text dark:text-dark-text leading-relaxed whitespace-pre-line text-sm md:text-base font-light mb-8",children:T.description||"No description provided."}),T.resources&&T.resources.length>0&&v.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg p-5 border border-light-border dark:border-dark-border",children:[v.jsxs("h4",{className:"font-bold font-display mb-3 flex items-center gap-2 text-xs uppercase tracking-wide",children:[v.jsx(vp,{size:14})," Resources"]}),v.jsx("div",{className:"grid gap-2",children:T.resources.map((Y,te)=>v.jsxs("a",{href:Y,target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 p-2.5 rounded hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group border border-transparent hover:border-gray-200 dark:hover:border-white/10",children:[v.jsx("div",{className:"bg-brand-50 dark:bg-brand-900/30 p-1.5 rounded text-brand-600 dark:text-brand-400 group-hover:scale-110 transition-transform",children:v.jsx(vp,{size:14})}),v.jsxs("span",{className:"text-brand-600 dark:text-brand-400 font-medium text-xs hover:underline",children:["Download Resource ",te+1]})]},te))})]})]})]})]})]}):null};function R4(){return v.jsx(kD,{children:v.jsx(DD,{children:v.jsx(OD,{children:v.jsx(eS,{children:v.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text transition-colors duration-250 selection:bg-brand-500/30 selection:text-brand-800 dark:selection:text-brand-300 font-sans",children:[v.jsx(b4,{}),v.jsxs(kA,{children:[v.jsx(fr,{path:"/",element:v.jsx(T4,{})}),v.jsx(fr,{path:"/login",element:v.jsx(Qb,{type:"login"})}),v.jsx(fr,{path:"/register",element:v.jsx(Qb,{type:"register"})}),v.jsx(fr,{path:"/courses",element:v.jsxs("div",{className:"pt-24 px-4 max-w-7xl mx-auto",children:[v.jsx("h1",{className:"text-3xl font-bold font-display mb-8 dark:text-white",children:"All Courses"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-20",children:v.jsx(C4,{})})]})}),v.jsx(fr,{path:"/courses/:id",element:v.jsx(x4,{})}),v.jsx(fr,{path:"/my-courses",element:v.jsx(Wl,{children:v.jsx(w4,{})})}),v.jsx(fr,{path:"/profile",element:v.jsx(Wl,{children:v.jsx(S4,{})})}),v.jsx(fr,{path:"/certificates",element:v.jsx(Wl,{children:v.jsx(A4,{})})}),v.jsx(fr,{path:"/learn/:courseId",element:v.jsx(Wl,{children:v.jsx(Kb,{})})}),v.jsx(fr,{path:"/learn/:courseId/lesson/:lessonId",element:v.jsx(Wl,{children:v.jsx(Kb,{})})})]})]})})})})})}const C4=()=>{const{courses:i,loadingData:e,checkEnrollment:n}=Ns();return e?v.jsx(v.Fragment,{children:[1,2,3].map(s=>v.jsx(Fo,{className:"h-80 rounded-xl"},s))}):v.jsx(v.Fragment,{children:i.map(s=>v.jsx($1,{course:s,enrolled:n(s.id)},s.id))})},Wl=({children:i})=>{const{currentUser:e,loading:n}=Pu();return n?v.jsx("div",{className:"h-screen flex items-center justify-center dark:bg-dark-bg",children:v.jsx(Fo,{className:"w-12 h-12 rounded-full"})}):e?v.jsx(v.Fragment,{children:i}):v.jsx(IA,{to:"/login"})},X1=document.getElementById("root");if(!X1)throw new Error("Could not find root element to mount to");const I4=jw.createRoot(X1);I4.render(v.jsx(Nw.StrictMode,{children:v.jsx(R4,{})}));
